{"timestamp": "2024-09-21T16:16:05.135221+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:16:05.139222+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"'DataAccess' object has no attribute 'load_processed_data'\", \"error_type\": \"AttributeError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 42, in main\\n    processed_dataframe = data_access.load_processed_data()\\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'DataAccess' object has no attribute 'load_processed_data'\\n\"}", "error_id": "f82c7bd3-40a2-442a-9832-f0f43fbe6245"}
{"timestamp": "2024-09-21T16:41:58.999638+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:41:59.002638+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Unexpected error loading processed data: DataAccess._get_load_directory() missing 1 required positional argument: 'file_name'\", \"error_type\": \"DataStorageError\"}"}
{"timestamp": "2024-09-21T16:41:59.009637+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"DataStorageError occurred\", \"error_message\": \"Unexpected error loading processed data: DataAccess._get_load_directory() missing 1 required positional argument: 'file_name'\", \"error_type\": \"DataStorageError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 132, in load_dataframe\\n    file_path = self._get_load_directory(file_name)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nTypeError: DataAccess._get_load_directory() missing 1 required positional argument: 'file_name'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 42, in main\\n    processed_dataframe = data_access.load_dataframe(config.team_centric_data_file)\\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 145, in load_dataframe\\n    raise DataStorageError(f\\\"Unexpected error loading processed data: {str(e)}\\\")\\nsrc.error_handling.custom_exceptions.DataStorageError: Unexpected error loading processed data: DataAccess._get_load_directory() missing 1 required positional argument: 'file_name'\\n\"}", "error_id": "2149d32f-b4fa-4bf8-b979-1962ba3ef8c3"}
{"timestamp": "2024-09-21T16:43:02.486575+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:43:02.489575+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Unexpected error loading processed data: cannot access local variable 'load_path' where it is not associated with a value\", \"error_type\": \"DataStorageError\"}"}
{"timestamp": "2024-09-21T16:43:02.495575+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"DataStorageError occurred\", \"error_message\": \"Unexpected error loading processed data: cannot access local variable 'load_path' where it is not associated with a value\", \"error_type\": \"DataStorageError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 132, in load_dataframe\\n    file_path = self._get_load_directory(cumulative=True, file_name=file_name)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 220, in _get_load_directory\\n    cumulative=cumulative, load_path=str(load_path))\\n                                         ^^^^^^^^^\\nUnboundLocalError: cannot access local variable 'load_path' where it is not associated with a value\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 42, in main\\n    processed_dataframe = data_access.load_dataframe(config.team_centric_data_file)\\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 146, in load_dataframe\\n    raise DataStorageError(f\\\"Unexpected error loading processed data: {str(e)}\\\")\\nsrc.error_handling.custom_exceptions.DataStorageError: Unexpected error loading processed data: cannot access local variable 'load_path' where it is not associated with a value\\n\"}", "error_id": "318b7272-cfb6-495b-b9cd-8fc434944d9c"}
{"timestamp": "2024-09-21T16:45:21.485890+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:45:21.487890+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:45:21.657845+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:45:21.658845+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.17", "unit": "seconds"}
{"timestamp": "2024-09-21T16:45:21.658845+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:45:21.659845+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-21T16:45:21.703221+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:45:21.703221+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-21T16:45:21.704221+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-21T16:45:21.706221+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:45:21.706221+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-21T16:45:21.707221+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"'Config' object has no attribute 'include_playoff_games'\", \"dataframe_shape\": [45892, 73]}"}
{"timestamp": "2024-09-21T16:45:21.710221+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 58, in engineer_features\\n    if self.config.include_playoff_games:\\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'Config' object has no attribute 'include_playoff_games'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 48, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 97, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "2caccf46-871f-4e55-9faf-a5a691c2417b"}
{"timestamp": "2024-09-21T16:46:59.498087+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:46:59.501088+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:46:59.640088+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:46:59.640088+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-21T16:46:59.641087+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:46:59.641087+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-21T16:46:59.680087+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:46:59.680087+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-21T16:46:59.681088+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-21T16:46:59.683087+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:46:59.683087+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-21T16:46:59.701001+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"'Config' object has no attribute 'rolling_avg_periods'\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-09-21T16:46:59.705000+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 62, in engineer_features\\n    df_rolling_avgs_all = self._create_rolling_averages(df, \\\"all\\\")\\n                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 173, in _create_rolling_averages\\n    periods = self.config.rolling_avg_periods\\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'Config' object has no attribute 'rolling_avg_periods'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 48, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 98, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "88eed723-c478-449a-a45a-d29c5a95f796"}
{"timestamp": "2024-09-21T16:48:50.596224+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:48:50.599223+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:48:50.738224+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:48:50.738224+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-21T16:48:50.739223+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:48:50.739223+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-21T16:48:50.777223+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:48:50.778224+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-21T16:48:50.779224+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-21T16:48:50.780223+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:48:50.781223+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-21T16:48:58.295066+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [21503, 1127]}"}
{"timestamp": "2024-09-21T16:48:58.314067+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "7.53", "unit": "seconds"}
{"timestamp": "2024-09-21T16:48:58.316067+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"'DataValidator' object has no attribute 'validate_engineered_dataframe'\", \"error_type\": \"AttributeError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 50, in main\\n    if not data_validator.validate_engineered_dataframe(engineered_dataframe, config.engineered_data_file):\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'DataValidator' object has no attribute 'validate_engineered_dataframe'\\n\"}", "error_id": "1656dd60-605d-4217-b2aa-671162c2cb09"}
{"timestamp": "2024-09-21T16:52:48.380156+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-21T16:52:48.383157+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:52:48.516161+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:52:48.517161+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-09-21T16:52:48.518161+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-21T16:52:48.519161+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-21T16:52:48.569161+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:52:48.570161+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-21T16:52:48.571162+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-21T16:52:48.572161+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-21T16:52:48.572161+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-21T16:52:55.888809+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [21503, 1127]}"}
{"timestamp": "2024-09-21T16:52:55.906809+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "7.33", "unit": "seconds"}
{"timestamp": "2024-09-21T16:52:55.907808+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-21T16:53:08.135983+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-21T16:53:08.135983+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "12.23", "unit": "seconds"}
{"timestamp": "2024-09-21T16:53:08.136983+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-21T16:53:08.136983+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "12.23", "unit": "seconds"}
{"timestamp": "2024-09-21T16:53:08.137983+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-21T16:53:08.145983+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "19.78", "unit": "seconds"}
{"timestamp": "2024-09-26T12:07:03.907149+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-26T12:07:03.911875+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:07:04.081356+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:07:04.082356+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.17", "unit": "seconds"}
{"timestamp": "2024-09-26T12:07:04.082356+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:07:04.083356+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-26T12:07:04.131709+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:07:04.131709+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-26T12:07:04.132709+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-26T12:07:04.133709+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:07:04.134708+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-26T12:07:04.148470+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages\"}"}
{"timestamp": "2024-09-26T12:07:06.987543+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-26T12:07:07.168189+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks\"}"}
{"timestamp": "2024-09-26T12:07:07.182682+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-26T12:07:07.255682+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages\"}"}
{"timestamp": "2024-09-26T12:07:09.287029+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-26T12:07:09.408028+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks\"}"}
{"timestamp": "2024-09-26T12:07:09.416029+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-26T12:07:09.471028+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages\"}"}
{"timestamp": "2024-09-26T12:07:11.564704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-26T12:07:11.639704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks\"}"}
{"timestamp": "2024-09-26T12:07:11.647704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-26T12:07:11.657704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [0, 1192]}"}
{"timestamp": "2024-09-26T12:07:11.658704+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "7.52", "unit": "seconds"}
{"timestamp": "2024-09-26T12:07:11.659704+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T12:07:11.676713+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-26T12:07:11.676713+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "0.02", "unit": "seconds"}
{"timestamp": "2024-09-26T12:07:11.677713+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-26T12:07:11.677713+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "0.02", "unit": "seconds"}
{"timestamp": "2024-09-26T12:07:11.678712+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-26T12:07:11.679713+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "7.81", "unit": "seconds"}
{"timestamp": "2024-09-26T12:18:33.887026+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-26T12:18:33.890026+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:18:34.030540+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:18:34.031541+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-26T12:18:34.031541+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:18:34.032539+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-26T12:18:34.073540+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:18:34.073540+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-26T12:18:34.074541+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-26T12:18:34.075540+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:18:34.076540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-26T12:18:34.090540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-26T12:18:36.970422+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-26T12:18:36.971422+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T12:18:37.150421+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [40476, 445]}"}
{"timestamp": "2024-09-26T12:18:37.151421+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-26T12:18:37.164422+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-26T12:18:37.166421+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T12:18:37.233421+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [40476, 446]}"}
{"timestamp": "2024-09-26T12:18:37.242421+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-26T12:18:39.341636+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-26T12:18:39.348636+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-26T12:18:39.463646+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [20161, 818]}"}
{"timestamp": "2024-09-26T12:18:39.466646+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-26T12:18:39.474647+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-26T12:18:39.476647+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-26T12:18:39.524646+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [10080, 819]}"}
{"timestamp": "2024-09-26T12:18:39.532646+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-26T12:18:41.608755+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-26T12:18:41.612755+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-26T12:18:41.684755+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [10080, 1191]}"}
{"timestamp": "2024-09-26T12:18:41.686756+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-26T12:18:41.695755+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-26T12:18:41.697756+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-26T12:18:41.700755+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [0, 1192]}"}
{"timestamp": "2024-09-26T12:18:41.707756+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [0, 1192]}"}
{"timestamp": "2024-09-26T12:18:41.708756+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "7.63", "unit": "seconds"}
{"timestamp": "2024-09-26T12:18:41.709756+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T12:18:41.711755+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-26T12:18:41.711755+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T12:18:41.712755+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-26T12:18:41.713755+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T12:18:41.713755+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-26T12:18:41.715756+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "7.84", "unit": "seconds"}
{"timestamp": "2024-09-26T12:36:36.414041+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-26T12:36:36.417041+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:36:36.562041+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:36:36.562041+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-26T12:36:36.563041+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:36:36.563041+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-26T12:36:36.601041+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:36:36.602041+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-26T12:36:36.603041+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-26T12:36:36.603041+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:36:36.604041+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-26T12:36:36.617041+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-26T12:36:39.434212+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-26T12:36:39.435212+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T12:36:39.620219+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [40476, 445]}"}
{"timestamp": "2024-09-26T12:36:39.621218+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-26T12:36:39.635219+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-26T12:36:39.636219+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T12:36:39.703218+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [40476, 446]}"}
{"timestamp": "2024-09-26T12:36:39.713218+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [40476, 446]}"}
{"timestamp": "2024-09-26T12:36:39.715219+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.11", "unit": "seconds"}
{"timestamp": "2024-09-26T12:36:39.715219+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T12:36:48.195761+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-26T12:36:48.196761+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "8.48", "unit": "seconds"}
{"timestamp": "2024-09-26T12:36:48.197761+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-26T12:36:48.197761+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "8.48", "unit": "seconds"}
{"timestamp": "2024-09-26T12:36:48.198761+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-26T12:36:48.202761+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "11.80", "unit": "seconds"}
{"timestamp": "2024-09-26T12:45:30.621227+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-26T12:45:30.624227+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:45:30.764234+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:45:30.765234+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-26T12:45:30.765234+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T12:45:30.766235+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-26T12:45:30.807234+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:45:30.808234+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-26T12:45:30.809234+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-26T12:45:30.810235+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T12:45:30.811234+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-26T12:45:30.824235+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-26T12:45:33.612059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-26T12:45:33.614059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T12:45:33.655067+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"'game_id'\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-09-26T12:45:33.662067+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 70, in engineer_features\\n    df_merged = self._merge_features(df_merged, df_rolling_avgs, merge_columns, suffix)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 255, in _merge_features\\n    merged_df = merged_df.merge(\\n                ^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 10832, in merge\\n    return merge(\\n           ^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\reshape\\\\merge.py\\\", line 170, in merge\\n    op = _MergeOperation(\\n         ^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\reshape\\\\merge.py\\\", line 794, in __init__\\n    ) = self._get_merge_keys()\\n        ^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\reshape\\\\merge.py\\\", line 1297, in _get_merge_keys\\n    right_keys.append(right._get_label_or_level_values(rk))\\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 1911, in _get_label_or_level_values\\n    raise KeyError(key)\\nKeyError: 'game_id'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 48, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 84, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "68a1c3e2-004a-4598-bf1b-807c40c1eb6a"}
{"timestamp": "2024-09-26T13:17:40.147882+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-26T13:17:40.151881+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T13:17:40.282881+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T13:17:40.283881+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-09-26T13:17:40.283881+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T13:17:40.284881+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-26T13:17:40.324882+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T13:17:40.324882+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-26T13:17:40.326881+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-26T13:17:40.327882+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T13:17:40.327882+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-26T13:17:40.341896+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-26T13:17:43.152412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-26T13:17:43.153413+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T13:17:43.343753+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-26T13:17:43.352753+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-26T13:17:43.366753+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-26T13:17:43.367754+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T13:17:43.452753+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-26T13:17:43.462753+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-26T13:17:43.463754+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.14", "unit": "seconds"}
{"timestamp": "2024-09-26T13:17:43.464753+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T13:17:52.022454+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-26T13:17:52.022454+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "8.56", "unit": "seconds"}
{"timestamp": "2024-09-26T13:17:52.023454+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-26T13:17:52.024454+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "8.56", "unit": "seconds"}
{"timestamp": "2024-09-26T13:17:52.024454+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-26T13:17:52.028454+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "11.90", "unit": "seconds"}
{"timestamp": "2024-09-26T13:22:33.369309+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-26T13:22:33.373310+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T13:22:33.511362+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T13:22:33.511362+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-26T13:22:33.512365+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-26T13:22:33.512365+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-26T13:22:33.552365+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T13:22:33.553365+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-26T13:22:33.554365+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-26T13:22:33.555365+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-26T13:22:33.555365+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-26T13:22:33.569365+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-26T13:22:36.381038+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-26T13:22:36.382039+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T13:22:36.575515+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-26T13:22:36.585514+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-26T13:22:36.601515+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-26T13:22:36.603514+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-26T13:22:36.687515+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-26T13:22:36.695514+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-26T13:22:38.832522+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-26T13:22:38.839523+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-26T13:22:39.055531+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-26T13:22:39.062532+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-26T13:22:39.071532+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-26T13:22:39.073532+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-26T13:22:39.203531+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-26T13:22:39.214531+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-26T13:22:41.271350+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-26T13:22:41.276349+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-26T13:22:41.591405+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-26T13:22:41.600405+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-26T13:22:41.609405+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-26T13:22:41.611404+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-26T13:22:41.810405+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-26T13:22:41.822404+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-26T13:22:41.824404+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.27", "unit": "seconds"}
{"timestamp": "2024-09-26T13:22:41.824404+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-26T13:23:01.191322+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-26T13:23:01.192322+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "19.37", "unit": "seconds"}
{"timestamp": "2024-09-26T13:23:01.193322+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-26T13:23:01.193322+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "19.37", "unit": "seconds"}
{"timestamp": "2024-09-26T13:23:01.194322+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-26T13:23:01.203322+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.85", "unit": "seconds"}
{"timestamp": "2024-09-28T14:02:07.285203+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:02:07.289203+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:02:07.455030+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:02:07.456030+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.17", "unit": "seconds"}
{"timestamp": "2024-09-28T14:02:07.456030+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:02:07.457030+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:02:07.499303+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:02:07.500304+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:02:07.500304+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:02:07.502304+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:02:07.502304+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:02:07.517303+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:02:10.314734+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:02:10.316734+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:02:10.500733+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:02:10.507734+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:02:10.528733+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:02:10.530734+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:02:10.609733+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:02:10.618733+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:02:12.765132+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:02:12.774132+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:02:12.980131+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:02:12.987131+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:02:12.997131+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:02:12.998131+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:02:13.134131+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:02:13.145131+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:02:15.258642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:02:15.262642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:02:15.565642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:02:15.574642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:02:15.582642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:02:15.583642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:02:15.773642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:02:15.781642+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"FeatureEngineer._calculate_home_away_streaks() takes 2 positional arguments but 3 were given\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-09-28T14:02:15.790642+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 79, in engineer_features\\n    df_home_away_streaks = self._calculate_home_away_streaks(df_working, self.config.combined_cases_suffix)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nTypeError: FeatureEngineer._calculate_home_away_streaks() takes 2 positional arguments but 3 were given\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 48, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 96, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "32432609-0787-4cf1-9809-bd9f66dbb618"}
{"timestamp": "2024-09-28T14:04:01.868707+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:04:01.870708+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:04:02.004708+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:04:02.004708+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-09-28T14:04:02.005709+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:04:02.006709+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:04:02.045708+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:04:02.046708+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:04:02.046708+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:04:02.047708+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:04:02.048709+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:04:02.061708+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:04:04.839036+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:04:04.840035+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:04:05.034045+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:04:05.046046+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:04:05.070046+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:04:05.072046+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:04:05.149046+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:04:05.158046+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:04:07.284053+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:04:07.291053+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:04:07.504059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:04:07.510058+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:04:07.519059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:04:07.521059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:04:07.653059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:04:07.664059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:04:09.824670+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:04:09.828670+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:04:10.136670+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:04:10.145669+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:04:10.154669+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:04:10.155670+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:04:10.343902+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:04:10.351902+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T14:04:10.359903+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [21503, 75]}"}
{"timestamp": "2024-09-28T14:04:10.360901+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:04:10.553901+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:04:10.566902+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:04:10.566902+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.52", "unit": "seconds"}
{"timestamp": "2024-09-28T14:04:10.567902+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T14:04:29.541056+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T14:04:29.542056+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.97", "unit": "seconds"}
{"timestamp": "2024-09-28T14:04:29.542056+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T14:04:29.543055+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.98", "unit": "seconds"}
{"timestamp": "2024-09-28T14:04:29.543055+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T14:04:29.553055+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.70", "unit": "seconds"}
{"timestamp": "2024-09-28T14:27:47.440853+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:27:47.443853+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:27:47.586854+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:27:47.586854+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T14:27:47.587855+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:27:47.587855+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:27:47.626854+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:27:47.626854+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:27:47.627854+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:27:47.628854+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:27:47.629853+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:27:47.642854+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:27:50.453424+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:27:50.454424+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:27:50.633687+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:27:50.640687+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:27:50.653687+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:27:50.655686+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:27:50.730687+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:27:50.739687+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:27:52.884590+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:27:52.891590+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:27:53.102697+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:27:53.108700+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:27:53.116700+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:27:53.118700+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:27:53.263701+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:27:53.274700+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:27:55.390314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:27:55.394314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:27:55.700314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:27:55.708314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:27:55.717314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:27:55.719314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:27:55.930314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:27:55.937314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T14:27:55.945314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [21503, 75]}"}
{"timestamp": "2024-09-28T14:27:55.945314+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:27:55.946314+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"\\\"['home_away_streak'] not in index\\\"\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-09-28T14:27:55.960323+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 80, in engineer_features\\n    df_merged = self._merge_features(df_merged, df_home_away_streaks, [f'home_away_streak'], self.config.combined_cases_suffix)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 269, in _merge_features\\n    df_to_merge = df_to_merge[columns_to_keep]\\n                  ~~~~~~~~~~~^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 4108, in __getitem__\\n    indexer = self.columns._get_indexer_strict(key, \\\"columns\\\")[1]\\n              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 6200, in _get_indexer_strict\\n    self._raise_if_missing(keyarr, indexer, axis_name)\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 6252, in _raise_if_missing\\n    raise KeyError(f\\\"{not_found} not in index\\\")\\nKeyError: \\\"['home_away_streak'] not in index\\\"\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 48, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 96, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "703fd3dd-ff8e-4665-97e3-04de23899cc7"}
{"timestamp": "2024-09-28T14:32:01.650992+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:32:01.656992+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:32:01.796992+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:32:01.797992+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T14:32:01.797992+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:32:01.798992+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:32:01.838993+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:32:01.838993+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:32:01.839992+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:32:01.840992+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:32:01.840992+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:32:01.853992+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:32:04.666442+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:32:04.667443+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:32:04.847443+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:32:04.856442+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:32:04.870443+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:32:04.872443+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:32:04.955443+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:32:04.965442+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:32:07.143477+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:32:07.150477+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:32:07.383883+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:32:07.391883+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:32:07.400883+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:32:07.402883+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:32:07.534883+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:32:07.546883+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:32:09.707358+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:32:09.711358+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:32:10.036359+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:32:10.045360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:32:10.053360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:32:10.055359+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:32:10.278359+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:32:10.286360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T14:32:10.293360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [21503, 75]}"}
{"timestamp": "2024-09-28T14:32:10.293360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:32:10.505359+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:32:10.518714+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:32:10.518714+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.68", "unit": "seconds"}
{"timestamp": "2024-09-28T14:32:10.519716+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T14:32:30.040384+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T14:32:30.041384+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "19.52", "unit": "seconds"}
{"timestamp": "2024-09-28T14:32:30.041384+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T14:32:30.042384+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "19.52", "unit": "seconds"}
{"timestamp": "2024-09-28T14:32:30.042384+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T14:32:30.051384+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "28.42", "unit": "seconds"}
{"timestamp": "2024-09-28T14:36:23.139740+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:36:23.142742+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:36:23.286999+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:36:23.287998+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.15", "unit": "seconds"}
{"timestamp": "2024-09-28T14:36:23.287998+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:36:23.288998+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:36:23.326999+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:36:23.327998+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:36:23.328999+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:36:23.328999+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:36:23.329999+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:36:23.342999+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:36:26.102485+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:36:26.103486+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:36:26.289001+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:36:26.295001+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:36:26.309001+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:36:26.310001+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:36:26.386001+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:36:26.395001+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:36:28.592894+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:36:28.599222+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:36:28.814222+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:36:28.820222+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:36:28.829222+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:36:28.831222+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:36:28.965222+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:36:29.027735+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:36:31.138605+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:36:31.142606+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:36:31.448605+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:36:31.456605+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:36:31.465604+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:36:31.466605+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:36:31.678615+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:36:31.686615+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T14:36:31.700615+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [21503, 75]}"}
{"timestamp": "2024-09-28T14:36:31.701616+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:36:31.916615+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:36:31.929615+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:36:31.930615+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.60", "unit": "seconds"}
{"timestamp": "2024-09-28T14:36:31.931616+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T14:36:50.693547+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T14:36:50.693547+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.76", "unit": "seconds"}
{"timestamp": "2024-09-28T14:36:50.694546+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T14:36:50.695547+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.76", "unit": "seconds"}
{"timestamp": "2024-09-28T14:36:50.695547+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T14:36:50.707546+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.59", "unit": "seconds"}
{"timestamp": "2024-09-28T14:49:30.908025+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:49:30.917025+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:49:31.048025+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:49:31.048025+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T14:49:31.049025+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:49:31.050026+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:49:31.092025+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:49:31.093025+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:49:31.094025+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:49:31.095026+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:49:31.097025+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:49:31.110026+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:49:33.982759+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:49:33.983759+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:49:34.169759+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:49:34.176759+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:49:34.189760+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:49:34.191002+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:49:34.272071+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:49:34.281071+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:49:36.371723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:49:36.379723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:49:36.585723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:49:36.591723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:49:36.600723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:49:36.601723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:49:36.733723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:49:36.745723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:49:38.859773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:49:38.863773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:49:39.184773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:49:39.192773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:49:39.201773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:49:39.202773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:49:39.389773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:49:39.401773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:49:39.635258+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:49:39.648258+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:49:39.649259+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.55", "unit": "seconds"}
{"timestamp": "2024-09-28T14:49:39.649410+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T14:49:58.717051+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T14:49:58.718052+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "19.07", "unit": "seconds"}
{"timestamp": "2024-09-28T14:49:58.719052+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T14:49:58.719052+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "19.07", "unit": "seconds"}
{"timestamp": "2024-09-28T14:49:58.720051+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T14:49:58.731052+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.84", "unit": "seconds"}
{"timestamp": "2024-09-28T14:54:33.661006+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:54:33.664006+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:54:33.803006+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:54:33.804007+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T14:54:33.804007+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:54:33.805006+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:54:33.844007+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:54:33.844007+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:54:33.845006+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:54:33.846006+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:54:33.846006+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:54:33.859007+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:54:36.703100+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:54:36.705100+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:54:36.891401+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:54:36.897401+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:54:36.911401+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:54:36.912401+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:54:36.985401+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:54:36.994401+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:54:39.068929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:54:39.077929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:54:39.285929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:54:39.291929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:54:39.300929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:54:39.303930+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:54:39.444929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:54:39.457929+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:54:41.608388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:54:41.612388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:54:41.914388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:54:41.922388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:54:41.931388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:54:41.933389+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:54:42.142388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:54:42.160388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:54:42.375398+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:54:42.388397+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:54:42.389397+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.54", "unit": "seconds"}
{"timestamp": "2024-09-28T14:54:42.389397+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T14:55:01.208301+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T14:55:01.208301+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.82", "unit": "seconds"}
{"timestamp": "2024-09-28T14:55:01.209301+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T14:55:01.209301+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.82", "unit": "seconds"}
{"timestamp": "2024-09-28T14:55:01.210301+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T14:55:01.219300+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.57", "unit": "seconds"}
{"timestamp": "2024-09-28T14:59:01.291819+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T14:59:01.294818+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:59:01.428818+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:59:01.429818+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T14:59:01.430819+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T14:59:01.430819+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T14:59:01.468818+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:59:01.468818+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T14:59:01.469818+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T14:59:01.470819+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T14:59:01.470819+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T14:59:01.483818+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T14:59:04.292829+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T14:59:04.293829+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:59:04.476837+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T14:59:04.482837+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T14:59:04.498837+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T14:59:04.499838+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:59:04.584837+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T14:59:04.592838+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T14:59:06.680872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:59:06.688872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:59:06.907872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T14:59:06.914872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T14:59:06.921873+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:59:06.923872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T14:59:07.056872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T14:59:07.067875+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T14:59:09.208539+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T14:59:09.213540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:59:09.527551+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T14:59:09.539551+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T14:59:09.548550+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T14:59:09.549551+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T14:59:09.751550+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T14:59:09.776551+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T14:59:09.973561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:59:09.986561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T14:59:09.987561+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.52", "unit": "seconds"}
{"timestamp": "2024-09-28T14:59:09.988560+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T14:59:28.663563+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T14:59:28.664563+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.68", "unit": "seconds"}
{"timestamp": "2024-09-28T14:59:28.664563+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T14:59:28.665563+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.68", "unit": "seconds"}
{"timestamp": "2024-09-28T14:59:28.666563+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T14:59:28.674563+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.41", "unit": "seconds"}
{"timestamp": "2024-09-28T15:02:12.477177+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T15:02:12.480177+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T15:02:12.614177+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T15:02:12.615178+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T15:02:12.616177+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T15:02:12.616177+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T15:02:12.655178+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T15:02:12.655178+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T15:02:12.656177+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T15:02:12.657177+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T15:02:12.658177+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T15:02:12.671178+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T15:02:15.439725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T15:02:15.440725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T15:02:15.623725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T15:02:15.630725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T15:02:15.645725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T15:02:15.646726+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T15:02:15.720725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T15:02:15.729725+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T15:02:17.855739+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T15:02:17.865739+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T15:02:18.069847+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T15:02:18.075847+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T15:02:18.084847+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T15:02:18.085847+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T15:02:18.216847+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T15:02:18.228847+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T15:02:20.383593+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T15:02:20.387593+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T15:02:20.689592+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T15:02:20.697592+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T15:02:20.706592+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T15:02:20.707593+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T15:02:20.930592+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T15:02:20.946592+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T15:02:21.151596+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T15:02:21.164596+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T15:02:21.164596+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.51", "unit": "seconds"}
{"timestamp": "2024-09-28T15:02:21.165597+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T15:02:39.939042+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T15:02:39.940042+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.78", "unit": "seconds"}
{"timestamp": "2024-09-28T15:02:39.941042+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T15:02:39.941474+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.78", "unit": "seconds"}
{"timestamp": "2024-09-28T15:02:39.941474+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T15:02:39.950475+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.49", "unit": "seconds"}
{"timestamp": "2024-09-28T16:03:27.501823+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T16:03:27.505822+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:03:27.641821+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:03:27.642822+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T16:03:27.643821+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:03:27.643821+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T16:03:27.681822+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:03:27.681822+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T16:03:27.682822+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T16:03:27.683822+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:03:27.683822+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T16:03:27.697822+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T16:03:30.519154+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T16:03:30.520154+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:03:30.703153+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T16:03:30.709153+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T16:03:30.724154+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T16:03:30.725154+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:03:30.801153+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T16:03:30.810153+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T16:03:32.949333+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:03:32.956331+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:03:33.162330+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T16:03:33.169330+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T16:03:33.178330+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:03:33.179331+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:03:33.318330+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T16:03:33.339331+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T16:03:35.488189+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:03:35.492190+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:03:35.806189+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T16:03:35.816190+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T16:03:35.825190+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:03:35.827190+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:03:36.030200+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T16:03:36.038200+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T16:03:36.046200+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [21503, 75]}"}
{"timestamp": "2024-09-28T16:03:36.047201+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:03:36.251200+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:03:36.263201+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:03:36.264202+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.58", "unit": "seconds"}
{"timestamp": "2024-09-28T16:03:36.264202+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T16:03:55.088922+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T16:03:55.089922+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.83", "unit": "seconds"}
{"timestamp": "2024-09-28T16:03:55.090922+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T16:03:55.090922+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.83", "unit": "seconds"}
{"timestamp": "2024-09-28T16:03:55.091922+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T16:03:55.100922+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.62", "unit": "seconds"}
{"timestamp": "2024-09-28T16:11:29.995360+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T16:11:29.998360+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:11:30.130360+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:11:30.131360+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-09-28T16:11:30.131360+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:11:30.131360+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T16:11:30.170360+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:11:30.170360+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T16:11:30.171360+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T16:11:30.172360+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:11:30.172360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T16:11:30.185360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T16:11:33.031981+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T16:11:33.032981+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:11:33.217985+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T16:11:33.224986+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T16:11:33.238985+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T16:11:33.239985+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:11:33.313985+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T16:11:33.322985+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T16:11:35.455032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:11:35.462032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:11:35.670032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T16:11:35.676032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T16:11:35.685032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:11:35.686032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:11:35.831032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T16:11:35.841032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T16:11:37.953004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:11:37.957004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:11:38.270004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T16:11:38.284004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T16:11:38.293004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:11:38.294005+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:11:38.500004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T16:11:38.508050+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T16:11:38.516044+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [21503, 75]}"}
{"timestamp": "2024-09-28T16:11:38.517043+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:11:38.722135+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:11:38.735134+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:11:38.735134+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.56", "unit": "seconds"}
{"timestamp": "2024-09-28T16:11:38.736134+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T16:11:57.566664+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T16:11:57.566664+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.83", "unit": "seconds"}
{"timestamp": "2024-09-28T16:11:57.567664+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T16:11:57.568664+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.83", "unit": "seconds"}
{"timestamp": "2024-09-28T16:11:57.568664+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T16:11:57.578663+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.60", "unit": "seconds"}
{"timestamp": "2024-09-28T16:15:20.408396+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T16:15:20.411397+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:15:20.563398+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:15:20.563398+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.15", "unit": "seconds"}
{"timestamp": "2024-09-28T16:15:20.564397+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:15:20.564397+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T16:15:20.603396+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:15:20.603396+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T16:15:20.604397+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T16:15:20.604397+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:15:20.605396+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T16:15:20.618397+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T16:15:23.440303+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T16:15:23.443302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:15:23.630302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T16:15:23.636302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T16:15:23.650302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T16:15:23.652302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:15:23.725303+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T16:15:23.734302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T16:15:25.825791+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:15:25.833791+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:15:26.046801+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T16:15:26.053801+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T16:15:26.061802+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:15:26.063803+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:15:26.204801+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T16:15:26.215802+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T16:15:28.324507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:15:28.328507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:15:28.644506+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T16:15:28.654507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T16:15:28.663507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:15:28.665507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:15:28.862506+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T16:15:28.875507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T16:15:28.975507+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:15:28.987506+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:15:28.988507+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.38", "unit": "seconds"}
{"timestamp": "2024-09-28T16:15:28.988507+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T16:15:47.748669+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T16:15:47.749669+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.76", "unit": "seconds"}
{"timestamp": "2024-09-28T16:15:47.749669+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T16:15:47.750669+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.76", "unit": "seconds"}
{"timestamp": "2024-09-28T16:15:47.750669+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T16:15:47.760668+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.37", "unit": "seconds"}
{"timestamp": "2024-09-28T16:38:12.763801+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-28T16:38:12.766801+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:38:12.907811+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:38:12.908812+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-09-28T16:38:12.908812+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-28T16:38:12.909811+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-28T16:38:12.948812+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:38:12.949812+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-28T16:38:12.950812+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-28T16:38:12.951811+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-28T16:38:12.951811+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-28T16:38:12.965811+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-28T16:38:15.824349+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-28T16:38:15.825349+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:38:16.007360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-28T16:38:16.013360+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-28T16:38:16.663374+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-28T16:38:16.664374+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-28T16:38:16.738373+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-28T16:38:16.747373+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-28T16:38:18.839695+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:38:18.846695+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:38:19.055695+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-28T16:38:19.061695+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-28T16:38:19.401706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:38:19.403706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-28T16:38:19.545705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-28T16:38:19.557704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-28T16:38:21.647695+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-28T16:38:21.651696+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:38:21.960704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-28T16:38:21.968704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-28T16:38:22.298704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-28T16:38:22.300704+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-28T16:38:22.503715+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-28T16:38:22.512715+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-28T16:38:22.610716+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:38:22.622714+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-28T16:38:22.623714+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "9.67", "unit": "seconds"}
{"timestamp": "2024-09-28T16:38:22.623714+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-28T16:38:41.651430+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-28T16:38:41.652430+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "19.03", "unit": "seconds"}
{"timestamp": "2024-09-28T16:38:41.652430+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-28T16:38:41.653431+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "19.03", "unit": "seconds"}
{"timestamp": "2024-09-28T16:38:41.653431+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-28T16:38:41.663431+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "28.92", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:20.237480+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-09-29T13:34:20.240481+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-09-29T13:34:20.410481+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-09-29T13:34:20.411481+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.17", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:20.412481+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-09-29T13:34:20.412481+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-09-29T13:34:20.458481+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-29T13:34:20.459481+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-09-29T13:34:20.460481+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-09-29T13:34:20.461481+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-09-29T13:34:20.461481+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-09-29T13:34:20.475481+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-09-29T13:34:23.359198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-09-29T13:34:23.361198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-29T13:34:23.546198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-09-29T13:34:23.552198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-09-29T13:34:23.569198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-09-29T13:34:23.571198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-09-29T13:34:23.646198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-09-29T13:34:23.655198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-09-29T13:34:25.742737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-29T13:34:25.750737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-29T13:34:25.956737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-09-29T13:34:25.963737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-09-29T13:34:25.971738+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-29T13:34:25.973737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-09-29T13:34:26.105737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-09-29T13:34:26.116737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-09-29T13:34:28.282230+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-09-29T13:34:28.288230+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-29T13:34:28.590736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-09-29T13:34:28.599736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-09-29T13:34:28.607736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-09-29T13:34:28.608736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-09-29T13:34:28.797736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-09-29T13:34:28.805736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-09-29T13:34:28.949736+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-29T13:34:28.963744+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-29T13:34:28.964744+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.50", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:28.964744+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-09-29T13:34:29.769743+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2255]}"}
{"timestamp": "2024-09-29T13:34:29.792743+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "0.83", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:29.800743+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:48.352919+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-09-29T13:34:48.353919+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.55", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:48.354919+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-09-29T13:34:48.354919+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.56", "unit": "seconds"}
{"timestamp": "2024-09-29T13:34:48.355919+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-09-29T13:34:48.363919+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "28.14", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:30.037631+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_team_suffix': 'home', 'visitor_team_suffix': 'visitor', 'combined_cases_suffix': 'all', 'non_useful_columns': ['team', 'match_up'], 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-01T12:19:30.040631+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:19:30.186484+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:19:30.187484+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.15", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:30.188484+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:19:30.188484+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-01T12:19:30.232008+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:19:30.233008+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-01T12:19:30.234008+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-01T12:19:30.235008+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:19:30.236008+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-01T12:19:30.250250+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-01T12:19:33.157279+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-01T12:19:33.158279+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T12:19:33.344279+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-01T12:19:33.350278+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-01T12:19:33.366279+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-01T12:19:33.368279+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T12:19:33.445279+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-01T12:19:33.454278+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-01T12:19:35.583171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T12:19:35.591171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T12:19:35.797171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-01T12:19:35.806171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-01T12:19:35.815171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T12:19:35.817171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T12:19:35.950171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-01T12:19:35.962171+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-01T12:19:38.102583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T12:19:38.106583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T12:19:38.420583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-01T12:19:38.429583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-01T12:19:38.438584+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T12:19:38.440583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T12:19:38.679583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-01T12:19:38.687583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-10-01T12:19:38.792583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:19:38.806583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:19:38.806583+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.57", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:38.807583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:19:39.812583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2255]}"}
{"timestamp": "2024-10-01T12:19:39.834583+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.03", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:39.842583+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:58.288791+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-01T12:19:58.289791+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.45", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:58.290791+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-01T12:19:58.290791+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.45", "unit": "seconds"}
{"timestamp": "2024-10-01T12:19:58.291791+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-01T12:19:58.300791+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "28.28", "unit": "seconds"}
{"timestamp": "2024-10-01T12:36:37.453670+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'non_useful_columns': ['team', 'match_up'], 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-01T12:36:37.456670+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:36:37.598670+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:36:37.599670+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-01T12:36:37.600671+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:36:37.600671+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-01T12:36:37.639671+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:36:37.639671+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-01T12:36:37.640671+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-01T12:36:37.641671+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:36:37.641671+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-01T12:36:37.655670+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-01T12:36:40.435261+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-01T12:36:40.436261+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T12:36:40.617271+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-01T12:36:40.624271+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-01T12:36:40.637271+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-01T12:36:40.639271+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T12:36:40.714271+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-01T12:36:40.724271+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-01T12:36:42.840122+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T12:36:42.849122+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T12:36:43.055122+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-01T12:36:43.062122+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-01T12:36:43.070122+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T12:36:43.072121+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T12:36:43.218133+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-01T12:36:43.229133+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-01T12:36:45.326629+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T12:36:45.331628+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T12:36:45.634640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-01T12:36:45.642640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-01T12:36:45.650640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T12:36:45.651640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T12:36:45.867640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-01T12:36:45.875639+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-10-01T12:36:45.972640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:36:45.984640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:36:45.985640+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "8.34", "unit": "seconds"}
{"timestamp": "2024-10-01T12:36:45.986640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:36:46.959650+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2255]}"}
{"timestamp": "2024-10-01T12:36:46.981651+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.00", "unit": "seconds"}
{"timestamp": "2024-10-01T12:36:46.989650+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-01T12:37:05.348836+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-01T12:37:05.348836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.36", "unit": "seconds"}
{"timestamp": "2024-10-01T12:37:05.349836+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-01T12:37:05.350836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.36", "unit": "seconds"}
{"timestamp": "2024-10-01T12:37:05.350836+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-01T12:37:05.362836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "27.93", "unit": "seconds"}
{"timestamp": "2024-10-01T12:43:59.291505+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'non_useful_columns': ['team', 'match_up'], 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-01T12:43:59.295505+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:43:59.430506+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:43:59.431506+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-01T12:43:59.432507+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:43:59.432507+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-01T12:43:59.470507+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:43:59.470507+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-01T12:43:59.471506+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-01T12:43:59.472506+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:43:59.473506+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-01T12:43:59.490506+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-01T12:43:59.502505+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"unhashable type: 'set'\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-10-01T12:43:59.517494+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 70, in engineer_features\\n    df_rolling_avgs = self._create_rolling_averages(df_working, suffix)\\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 181, in _create_rolling_averages\\n    rolling_avgs = df.groupby(self.config.new_team_id_column)[stats_columns].rolling(\\n                   ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\groupby\\\\generic.py\\\", line 1951, in __getitem__\\n    return super().__getitem__(key)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\base.py\\\", line 243, in __getitem__\\n    if key not in self.obj:\\n       ^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 2080, in __contains__\\n    return key in self._info_axis\\n           ^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 5358, in __contains__\\n    hash(key)\\nTypeError: unhashable type: 'set'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 49, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 96, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "1e0d9ae4-20df-4646-8dc4-66ee6e9236ac"}
{"timestamp": "2024-10-01T12:46:09.610037+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'non_useful_columns': ['team', 'match_up'], 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-01T12:46:09.614036+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:46:09.748036+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:46:09.749037+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-01T12:46:09.749037+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T12:46:09.750036+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-01T12:46:09.790037+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:46:09.791037+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-01T12:46:09.791037+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-01T12:46:09.792036+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T12:46:09.793037+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-01T12:46:09.806036+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-01T12:46:10.690036+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-01T12:46:10.691036+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T12:46:10.865044+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-01T12:46:10.871044+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-01T12:46:10.889045+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-01T12:46:10.891044+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T12:46:10.970045+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-01T12:46:10.979044+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-01T12:46:11.475055+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T12:46:11.479056+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T12:46:11.606055+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-01T12:46:11.610056+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-01T12:46:11.620056+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T12:46:11.622055+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T12:46:11.755056+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-01T12:46:11.767055+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-01T12:46:12.315572+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T12:46:12.317572+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T12:46:12.548571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-01T12:46:12.559593+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-01T12:46:12.567572+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T12:46:12.569571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T12:46:12.758571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-01T12:46:12.766571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/away streaks\"}"}
{"timestamp": "2024-10-01T12:46:12.932571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/away streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:46:12.943571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:46:12.943571+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.15", "unit": "seconds"}
{"timestamp": "2024-10-01T12:46:12.944571+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T12:46:13.934595+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2255]}"}
{"timestamp": "2024-10-01T12:46:13.955596+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.01", "unit": "seconds"}
{"timestamp": "2024-10-01T12:46:13.964595+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-01T12:46:32.307836+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-01T12:46:32.307836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.34", "unit": "seconds"}
{"timestamp": "2024-10-01T12:46:32.308836+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-01T12:46:32.309836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.35", "unit": "seconds"}
{"timestamp": "2024-10-01T12:46:32.309836+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-01T12:46:32.318836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "22.72", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:00.921068+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'non_useful_columns': ['team', 'match_up'], 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-01T13:52:00.924067+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T13:52:01.067067+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T13:52:01.067067+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:01.068068+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-01T13:52:01.068068+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-01T13:52:01.107068+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T13:52:01.107068+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-01T13:52:01.108067+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-01T13:52:01.109068+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-01T13:52:01.110068+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-01T13:52:01.123068+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-01T13:52:01.952078+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-01T13:52:01.956078+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T13:52:02.118076+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-01T13:52:02.121077+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-01T13:52:02.135077+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-01T13:52:02.137078+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-01T13:52:02.211078+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-01T13:52:02.220078+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-01T13:52:02.701213+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T13:52:02.705214+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T13:52:02.832214+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-01T13:52:02.837213+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-01T13:52:02.846215+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T13:52:02.848214+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-01T13:52:03.071224+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-01T13:52:03.082224+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-01T13:52:03.556225+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-01T13:52:03.558223+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T13:52:03.794224+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-01T13:52:03.806223+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-01T13:52:03.822227+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-01T13:52:03.824227+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-01T13:52:04.054413+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-01T13:52:04.062414+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-01T13:52:04.161413+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T13:52:04.172413+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T13:52:04.172413+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.06", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:04.173414+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-01T13:52:05.159424+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2255]}"}
{"timestamp": "2024-10-01T13:52:05.181423+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.01", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:05.189422+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:23.483661+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-01T13:52:23.484660+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.30", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:23.484660+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-01T13:52:23.485660+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.30", "unit": "seconds"}
{"timestamp": "2024-10-01T13:52:23.486660+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-01T13:52:23.494660+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "22.59", "unit": "seconds"}
{"timestamp": "2024-10-11T20:54:04.468194+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier', 'LGBMClassifier', 'RandomForestClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-11T20:54:04.473178+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T20:54:04.614704+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T20:54:04.615701+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-11T20:54:04.615701+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T20:54:04.616698+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-11T20:54:04.668547+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T20:54:04.668547+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-11T20:54:04.669545+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-11T20:54:04.670540+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T20:54:04.671537+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-11T20:54:04.685278+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-11T20:54:05.633502+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-11T20:54:05.636493+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T20:54:05.784008+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-11T20:54:05.792979+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-11T20:54:05.812911+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-11T20:54:05.815901+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T20:54:05.921549+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-11T20:54:05.940485+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-11T20:54:06.517567+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T20:54:06.529527+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T20:54:06.678031+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-11T20:54:06.689991+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-11T20:54:06.699957+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T20:54:06.702947+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T20:54:06.901284+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-11T20:54:06.925204+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-11T20:54:07.487335+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T20:54:07.495308+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T20:54:07.800889+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-11T20:54:07.820823+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-11T20:54:07.829793+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T20:54:07.831786+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T20:54:08.100967+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-11T20:54:08.125884+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-11T20:54:08.252460+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T20:54:08.286346+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T20:54:08.286346+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.61", "unit": "seconds"}
{"timestamp": "2024-10-11T20:54:08.287344+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T20:54:08.586344+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in combine_team_data\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"\\\"['is_win'] not found in axis\\\"\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T20:54:08.593320+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in combine_team_data\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 381, in merge_team_data\\n    df_visitor_team = df_visitor_team.drop(columns=self.config.target_column) #will only need one column indicating the game winner\\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 5581, in drop\\n    return super().drop(\\n           ^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4788, in drop\\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4830, in _drop_axis\\n    new_axis = axis.drop(labels, errors=errors)\\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 7070, in drop\\n    raise KeyError(f\\\"{labels[mask].tolist()} not found in axis\\\")\\nKeyError: \\\"['is_win'] not found in axis\\\"\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 52, in main\\n    engineered_dataframe = feature_engineer.merge_team_data(engineered_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 406, in merge_team_data\\n    raise FeatureEngineeringError (\\\"Error in combine_team_data\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in combine_team_data\\n\"}", "error_id": "603733f9-ffb9-452a-86a1-016016e2b793"}
{"timestamp": "2024-10-11T21:09:45.686072+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier', 'LGBMClassifier', 'RandomForestClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-11T21:09:45.690057+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:09:45.828595+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:09:45.829591+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-11T21:09:45.829591+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:09:45.830588+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-11T21:09:45.871451+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T21:09:45.872448+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-11T21:09:45.873445+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-11T21:09:45.874442+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T21:09:45.875439+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-11T21:09:45.890389+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-11T21:09:46.820278+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-11T21:09:46.825261+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T21:09:46.984753+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-11T21:09:46.993723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-11T21:09:47.010666+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-11T21:09:47.012661+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T21:09:47.118308+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-11T21:09:47.133257+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-11T21:09:47.687913+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T21:09:47.697880+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T21:09:47.856350+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-11T21:09:47.868309+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-11T21:09:47.878277+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T21:09:47.882263+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T21:09:48.068640+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-11T21:09:48.091563+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-11T21:09:48.640734+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T21:09:48.645718+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T21:09:48.950680+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-11T21:09:48.970612+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-11T21:09:48.978586+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T21:09:48.981576+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T21:09:49.245959+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-11T21:09:49.267887+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-11T21:09:49.388483+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:09:49.420376+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:09:49.421372+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.55", "unit": "seconds"}
{"timestamp": "2024-10-11T21:09:49.422370+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:09:49.721373+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in combine_team_data\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"\\\"['is_win'] not found in axis\\\"\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:09:49.727353+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in combine_team_data\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 382, in merge_team_data\\n    df_visitor_team = df_visitor_team.drop(columns=self.config.target_column) #will only need one column indicating the game winner\\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 5581, in drop\\n    return super().drop(\\n           ^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4788, in drop\\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4830, in _drop_axis\\n    new_axis = axis.drop(labels, errors=errors)\\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 7070, in drop\\n    raise KeyError(f\\\"{labels[mask].tolist()} not found in axis\\\")\\nKeyError: \\\"['is_win'] not found in axis\\\"\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 52, in main\\n    engineered_dataframe = feature_engineer.merge_team_data(engineered_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 407, in merge_team_data\\n    raise FeatureEngineeringError (\\\"Error in combine_team_data\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in combine_team_data\\n\"}", "error_id": "477339bf-ff3b-4067-88ee-0ebe7d60544c"}
{"timestamp": "2024-10-11T21:14:58.980335+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier', 'LGBMClassifier', 'RandomForestClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-11T21:14:58.983325+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:14:59.120872+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:14:59.120872+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-11T21:14:59.121868+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:14:59.122865+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-11T21:14:59.163729+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T21:14:59.163729+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-11T21:14:59.164725+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-11T21:14:59.166718+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T21:14:59.166718+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-11T21:14:59.180672+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-11T21:15:00.149600+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-11T21:15:00.153587+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T21:15:00.328004+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-11T21:15:00.338967+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-11T21:15:00.360894+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-11T21:15:00.363885+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T21:15:00.452092+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-11T21:15:00.472026+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-11T21:15:01.022186+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T21:15:01.034146+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T21:15:01.189626+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-11T21:15:01.206570+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-11T21:15:01.215540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T21:15:01.217533+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T21:15:01.378993+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-11T21:15:01.409890+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-11T21:15:01.929157+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T21:15:01.936135+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T21:15:02.222178+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-11T21:15:02.246098+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-11T21:15:02.255068+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T21:15:02.257061+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T21:15:02.484301+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-11T21:15:02.513205+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-11T21:15:02.627821+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:15:02.657721+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:15:02.658718+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.49", "unit": "seconds"}
{"timestamp": "2024-10-11T21:15:02.659715+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:15:02.953731+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in combine_team_data\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"\\\"['is_win'] not found in axis\\\"\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:15:02.959711+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in combine_team_data\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 382, in merge_team_data\\n    df_visitor_team = df_visitor_team.drop(columns=self.config.target_column) #will only need one column indicating the game winner\\n                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 5581, in drop\\n    return super().drop(\\n           ^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4788, in drop\\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4830, in _drop_axis\\n    new_axis = axis.drop(labels, errors=errors)\\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 7070, in drop\\n    raise KeyError(f\\\"{labels[mask].tolist()} not found in axis\\\")\\nKeyError: \\\"['is_win'] not found in axis\\\"\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 52, in main\\n    engineered_dataframe = feature_engineer.merge_team_data(engineered_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 407, in merge_team_data\\n    raise FeatureEngineeringError (\\\"Error in combine_team_data\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in combine_team_data\\n\"}", "error_id": "66e17a2e-0c74-456f-beba-ddb92cb906bb"}
{"timestamp": "2024-10-11T21:19:04.169249+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier', 'LGBMClassifier', 'RandomForestClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-11T21:19:04.172239+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:19:04.306789+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:19:04.306789+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-10-11T21:19:04.307785+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T21:19:04.308783+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-11T21:19:04.346656+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T21:19:04.347653+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-11T21:19:04.348649+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-11T21:19:04.350642+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T21:19:04.350642+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-11T21:19:04.363600+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-11T21:19:05.295567+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-11T21:19:05.297559+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T21:19:05.429179+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-11T21:19:05.437152+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-11T21:19:05.455092+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-11T21:19:05.457086+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T21:19:05.547782+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-11T21:19:05.569709+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-11T21:19:06.101934+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T21:19:06.111901+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T21:19:06.255421+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-11T21:19:06.268378+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-11T21:19:06.278345+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T21:19:06.280338+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T21:19:06.433834+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-11T21:19:06.462738+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-11T21:19:06.975025+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T21:19:06.982002+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T21:19:07.278012+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-11T21:19:07.303925+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-11T21:19:07.312895+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T21:19:07.314888+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T21:19:07.551099+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-11T21:19:07.580998+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-11T21:19:07.694619+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:19:07.724519+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:19:07.725516+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.37", "unit": "seconds"}
{"timestamp": "2024-10-11T21:19:07.725516+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T21:19:08.969373+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-11T21:19:09.060069+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.33", "unit": "seconds"}
{"timestamp": "2024-10-11T21:19:09.087977+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-11T21:19:27.691943+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-11T21:19:27.692939+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.60", "unit": "seconds"}
{"timestamp": "2024-10-11T21:19:27.692939+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-11T21:19:27.693937+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.61", "unit": "seconds"}
{"timestamp": "2024-10-11T21:19:27.693937+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-11T21:19:27.709883+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "23.56", "unit": "seconds"}
{"timestamp": "2024-10-11T22:13:46.674112+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier', 'LGBMClassifier', 'RandomForestClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-11T22:13:46.678099+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T22:13:46.815638+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T22:13:46.815638+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-11T22:13:46.816635+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T22:13:46.816635+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-11T22:13:46.855506+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T22:13:46.856501+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-11T22:13:46.857499+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-11T22:13:46.858495+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T22:13:46.858495+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-11T22:13:46.871452+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-11T22:13:47.754504+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-11T22:13:47.756498+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T22:13:47.886065+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-11T22:13:47.890052+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-11T22:13:47.905002+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-11T22:13:47.906994+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T22:13:47.992707+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-11T22:13:48.012641+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-11T22:13:48.510983+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T22:13:48.515967+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T22:13:48.661480+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-11T22:13:48.673441+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-11T22:13:48.681414+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T22:13:48.683407+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T22:13:48.830914+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-11T22:13:48.860814+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-11T22:13:49.353167+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T22:13:49.357153+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T22:13:49.616297+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-11T22:13:49.638223+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-11T22:13:49.648191+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T22:13:49.650184+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T22:13:49.885398+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-11T22:13:49.917291+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-11T22:13:50.024931+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T22:13:50.045861+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T22:13:50.045861+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.19", "unit": "seconds"}
{"timestamp": "2024-10-11T22:13:50.046858+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T22:13:51.263961+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-11T22:13:51.333727+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.29", "unit": "seconds"}
{"timestamp": "2024-10-11T22:13:51.504170+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-11T22:14:10.357004+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-11T22:14:10.358001+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.85", "unit": "seconds"}
{"timestamp": "2024-10-11T22:14:10.358001+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-11T22:14:10.358997+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.85", "unit": "seconds"}
{"timestamp": "2024-10-11T22:14:10.359994+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-11T22:14:10.374944+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "23.71", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:28.602043+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier', 'LGBMClassifier', 'RandomForestClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-11T22:25:28.606029+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T22:25:28.746559+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T22:25:28.747556+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:28.747556+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-11T22:25:28.748553+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-11T22:25:28.787423+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T22:25:28.787423+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-11T22:25:28.788419+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-11T22:25:28.789416+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-11T22:25:28.790412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-11T22:25:28.803369+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-11T22:25:29.688524+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-11T22:25:29.690517+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T22:25:29.819087+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-11T22:25:29.824070+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-11T22:25:29.841014+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-11T22:25:29.843007+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-11T22:25:29.935697+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-11T22:25:29.955630+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-11T22:25:30.486361+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T22:25:30.492341+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T22:25:30.631874+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-11T22:25:30.644830+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-11T22:25:30.653802+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T22:25:30.655973+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-11T22:25:30.814447+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-11T22:25:30.842354+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-11T22:25:31.340687+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-11T22:25:31.344674+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T22:25:31.607399+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-11T22:25:31.629325+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-11T22:25:31.638295+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-11T22:25:31.639292+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-11T22:25:31.864539+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-11T22:25:31.897429+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-11T22:25:32.004072+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T22:25:32.026995+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T22:25:32.027992+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.24", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:32.028989+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-11T22:25:33.155439+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-11T22:25:33.226203+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.20", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:33.256103+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Encoding game date\"}"}
{"timestamp": "2024-10-11T22:25:33.441482+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoded\", \"dataframe_shape\": [21503, 2261]}"}
{"timestamp": "2024-10-11T22:25:33.470386+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:51.892481+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-11T22:25:51.892481+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.42", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:51.893478+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-11T22:25:51.894474+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.42", "unit": "seconds"}
{"timestamp": "2024-10-11T22:25:51.894474+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-11T22:25:51.927364+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "23.35", "unit": "seconds"}
{"timestamp": "2024-10-12T19:01:24.417878+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_dataframe': 'train_data.csv', 'test_dataframe': 'test_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-12T19:01:24.421865+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:01:24.557411+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:01:24.558408+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-12T19:01:24.558408+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:01:24.559405+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-12T19:01:24.596282+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:01:24.597278+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-12T19:01:24.597278+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-12T19:01:24.598275+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:01:24.599272+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-12T19:01:24.613225+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-12T19:01:25.549095+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-12T19:01:25.552085+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:01:25.690141+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-12T19:01:25.699111+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-12T19:01:25.715058+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-12T19:01:25.717051+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:01:25.841635+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-12T19:01:25.857581+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-12T19:01:26.439635+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:01:26.453588+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:01:26.601095+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-12T19:01:26.613055+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-12T19:01:26.622026+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:01:26.625015+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:01:26.804418+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-12T19:01:26.826345+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-12T19:01:27.381493+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:01:27.388469+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:01:27.690459+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-12T19:01:27.709396+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-12T19:01:27.718366+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:01:27.720359+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:01:27.984477+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-12T19:01:28.008787+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-12T19:01:28.140346+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:01:28.169250+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:01:28.169250+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.57", "unit": "seconds"}
{"timestamp": "2024-10-12T19:01:28.170247+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:01:29.425180+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:01:29.505911+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.34", "unit": "seconds"}
{"timestamp": "2024-10-12T19:01:29.534814+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:01:29.725690+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2261], \"new_columns\": [\"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-12T19:01:29.725690+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.19", "unit": "seconds"}
{"timestamp": "2024-10-12T19:01:29.747617+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"'Config' object has no attribute 'engineered_dataframe'\", \"error_type\": \"AttributeError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 59, in main\\n    data_access.save_dataframes([engineered_dataframe], [config.engineered_dataframe])\\n                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'Config' object has no attribute 'engineered_dataframe'\\n\"}", "error_id": "c0440193-d49e-48aa-a4fe-60c7059b3253"}
{"timestamp": "2024-10-12T19:03:41.731621+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_dataframe': 'train_data.csv', 'test_dataframe': 'test_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-12T19:03:41.734611+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:03:41.890115+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:03:41.891088+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.16", "unit": "seconds"}
{"timestamp": "2024-10-12T19:03:41.891088+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:03:41.892085+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-12T19:03:41.929958+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:03:41.929958+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-12T19:03:41.930955+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-12T19:03:41.931951+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:03:41.931951+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-12T19:03:41.944908+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-12T19:03:42.840917+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-12T19:03:42.842910+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:03:42.971481+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-12T19:03:42.977461+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-12T19:03:42.993407+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-12T19:03:42.994404+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:03:43.078124+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-12T19:03:43.096064+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-12T19:03:43.595404+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:03:43.600388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:03:43.747908+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-12T19:03:43.760865+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-12T19:03:43.769834+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:03:43.771828+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:03:43.920331+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-12T19:03:43.948237+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-12T19:03:44.444588+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:03:44.448575+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:03:44.708705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-12T19:03:44.730632+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-12T19:03:44.738605+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:03:44.740599+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:03:44.964856+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-12T19:03:44.997746+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-12T19:03:45.102396+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:03:45.126317+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:03:45.127313+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.20", "unit": "seconds"}
{"timestamp": "2024-10-12T19:03:45.128310+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:03:46.293423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:03:46.371164+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.24", "unit": "seconds"}
{"timestamp": "2024-10-12T19:03:46.404053+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:03:46.590430+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2261], \"new_columns\": [\"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-12T19:03:46.591427+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.19", "unit": "seconds"}
{"timestamp": "2024-10-12T19:03:46.625314+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"'Config' object has no attribute 'engineered_features'\", \"error_type\": \"AttributeError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 59, in main\\n    data_access.save_dataframes([engineered_dataframe], [config.engineered_features])\\n                                                         ^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'Config' object has no attribute 'engineered_features'\\n\"}", "error_id": "15d537e2-8122-4720-ad49-39a088c40b46"}
{"timestamp": "2024-10-12T19:07:16.221763+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'train_data.csv', 'test_data_file': 'test_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-12T19:07:16.224754+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:07:16.357311+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:07:16.358308+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:16.358308+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:07:16.359305+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-12T19:07:16.401672+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:07:16.402669+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-12T19:07:16.403666+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-12T19:07:16.404662+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:07:16.405658+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-12T19:07:16.418615+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-12T19:07:17.318616+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-12T19:07:17.320609+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:07:17.456156+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-12T19:07:17.462136+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-12T19:07:17.477086+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-12T19:07:17.479080+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:07:17.562799+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-12T19:07:17.579743+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-12T19:07:18.085033+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:07:18.090017+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:07:18.233537+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-12T19:07:18.245497+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-12T19:07:18.255463+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:07:18.257457+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:07:18.404963+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-12T19:07:18.433867+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-12T19:07:18.930214+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:07:18.933205+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:07:19.195607+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-12T19:07:19.216537+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-12T19:07:19.226503+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:07:19.228497+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:07:19.449757+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-12T19:07:19.481651+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-12T19:07:19.585304+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:07:19.609224+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:07:19.610221+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.20", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:19.610221+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:07:20.755841+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:07:20.828598+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.22", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:20.858498+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:07:21.036901+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2261], \"new_columns\": [\"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-12T19:07:21.037898+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.18", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:21.064808+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:39.232968+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-12T19:07:39.233965+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.17", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:39.234962+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-12T19:07:39.234962+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.17", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:39.235959+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21503, 2261]}"}
{"timestamp": "2024-10-12T19:07:39.235959+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-10-12T19:07:39.453232+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:07:39.454228+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Feature selection completed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:07:39.454228+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "select_features", "execution_time": "0.22", "unit": "seconds"}
{"timestamp": "2024-10-12T19:07:39.455225+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Directory data\\\\training not found\", \"error_type\": \"DataStorageError\"}"}
{"timestamp": "2024-10-12T19:07:39.456222+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error saving data to train_data.csv: Directory data\\\\training not found\", \"error_type\": \"DataStorageError\"}"}
{"timestamp": "2024-10-12T19:07:39.456222+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error saving dataframes: Error saving data to train_data.csv: Directory data\\\\training not found\", \"error_type\": \"DataStorageError\"}"}
{"timestamp": "2024-10-12T19:07:39.461205+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"DataStorageError occurred\", \"error_message\": \"Error saving dataframes: Error saving data to train_data.csv: Directory data\\\\training not found\", \"error_type\": \"DataStorageError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 163, in _save_dataframe_csv\\n    file_path = self._get_save_directory(cumulative, file_name)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 204, in _get_save_directory\\n    raise DataStorageError(f\\\"Directory {save_path} not found\\\")\\nsrc.error_handling.custom_exceptions.DataStorageError: Directory data\\\\training not found\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 58, in save_dataframes\\n    self._save_dataframe_csv(df, file_name, cumulative=cumulative)\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 169, in _save_dataframe_csv\\n    raise DataStorageError(f\\\"Error saving data to {file_name}: {str(e)}\\\")\\nsrc.error_handling.custom_exceptions.DataStorageError: Error saving data to train_data.csv: Directory data\\\\training not found\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 65, in main\\n    data_access.save_dataframes([training_dataframe], [config.training_data_file])\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\data_access\\\\data_access.py\\\", line 61, in save_dataframes\\n    raise DataStorageError(f\\\"Error saving dataframes: {str(e)}\\\")\\nsrc.error_handling.custom_exceptions.DataStorageError: Error saving dataframes: Error saving data to train_data.csv: Directory data\\\\training not found\\n\"}", "error_id": "3b705c5a-7937-4aa8-b56d-683253f8b032"}
{"timestamp": "2024-10-12T19:08:55.170010+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'train_data.csv', 'test_data_file': 'test_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-12T19:08:55.173000+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:08:55.304560+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:08:55.305558+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-10-12T19:08:55.306554+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-12T19:08:55.306554+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-12T19:08:55.344427+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:08:55.344427+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-12T19:08:55.346421+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-12T19:08:55.347418+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-12T19:08:55.347418+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-12T19:08:55.361371+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-12T19:08:56.235797+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-12T19:08:56.237790+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:08:56.357388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-12T19:08:56.363369+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-12T19:08:56.377322+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-12T19:08:56.378320+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-12T19:08:56.456059+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-12T19:08:56.473002+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-12T19:08:56.959376+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:08:56.965355+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:08:57.100906+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-12T19:08:57.105889+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-12T19:08:57.114859+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:08:57.117850+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-12T19:08:57.266353+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-12T19:08:57.285290+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-12T19:08:57.775650+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-12T19:08:57.779636+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:08:58.030797+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-12T19:08:58.052723+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-12T19:08:58.060697+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-12T19:08:58.063686+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-12T19:08:58.264016+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-12T19:08:58.296907+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-12T19:08:58.394580+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:08:58.411523+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:08:58.411523+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.06", "unit": "seconds"}
{"timestamp": "2024-10-12T19:08:58.412520+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-12T19:08:59.510512+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:08:59.570313+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.16", "unit": "seconds"}
{"timestamp": "2024-10-12T19:08:59.604199+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:08:59.791572+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2261], \"new_columns\": [\"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-12T19:08:59.792570+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.19", "unit": "seconds"}
{"timestamp": "2024-10-12T19:08:59.820476+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:17.915533+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-12T19:09:17.916529+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.10", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:17.916529+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-12T19:09:17.917526+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.10", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:17.917526+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21503, 2261]}"}
{"timestamp": "2024-10-12T19:09:17.918523+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-10-12T19:09:18.141776+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:09:18.142773+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Feature selection completed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-12T19:09:18.143769+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "select_features", "execution_time": "0.23", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:18.143769+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:36.408743+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\training\\\\train_data.csv\"}"}
{"timestamp": "2024-10-12T19:09:36.409741+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.27", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:36.410737+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-12T19:09:36.410737+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.27", "unit": "seconds"}
{"timestamp": "2024-10-12T19:09:36.411734+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-12T19:09:36.436651+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "41.28", "unit": "seconds"}
{"timestamp": "2024-10-13T14:05:40.031810+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-13T14:05:40.034800+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:05:40.178443+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:05:40.178443+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-13T14:05:40.179440+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:05:40.179440+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-13T14:05:40.223600+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-13T14:05:40.224596+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-13T14:05:40.225593+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-13T14:05:40.226590+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-13T14:05:40.231573+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-13T14:05:40.247520+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-13T14:05:41.078130+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-13T14:05:41.080123+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-13T14:05:41.203033+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-13T14:05:41.207019+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-13T14:05:41.223749+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-13T14:05:41.225742+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-13T14:05:41.297501+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-13T14:05:41.307468+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-13T14:05:41.812778+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-13T14:05:41.815768+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-13T14:05:41.944338+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-13T14:05:41.949322+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-13T14:05:41.959289+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-13T14:05:41.960285+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-13T14:05:42.089853+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-13T14:05:42.100815+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-13T14:05:42.619082+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-13T14:05:42.622107+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-13T14:05:42.849307+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-13T14:05:42.855286+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-13T14:05:42.863260+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-13T14:05:42.865253+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-13T14:05:43.053623+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-13T14:05:43.061597+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-13T14:05:43.159270+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:05:43.170233+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:05:43.171230+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "2.94", "unit": "seconds"}
{"timestamp": "2024-10-13T14:05:43.171230+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:05:44.237796+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:05:44.260720+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.09", "unit": "seconds"}
{"timestamp": "2024-10-13T14:05:44.268692+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:05:44.440156+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2261], \"new_columns\": [\"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-13T14:05:44.442151+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.17", "unit": "seconds"}
{"timestamp": "2024-10-13T14:05:44.457100+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:02.967950+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-13T14:06:02.968946+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.51", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:02.968946+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-13T14:06:02.969943+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.51", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:02.970939+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21503, 2261]}"}
{"timestamp": "2024-10-13T14:06:02.970939+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-10-13T14:06:03.183237+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:06:03.184234+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Feature selection completed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:06:03.185231+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "select_features", "execution_time": "0.21", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:03.185231+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Splitting data into training and validation sets\"}"}
{"timestamp": "2024-10-13T14:06:03.254001+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in splitting data\", \"error_type\": \"FeatureSelectionError\", \"error_message\": \"'month'\", \"dataframe_shape\": [16733, 2256]}"}
{"timestamp": "2024-10-13T14:06:03.259981+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"Error in splitting data\", \"error_type\": \"FeatureSelectionError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 3805, in get_loc\\n    return self._engine.get_loc(casted_key)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"index.pyx\\\", line 167, in pandas._libs.index.IndexEngine.get_loc\\n  File \\\"index.pyx\\\", line 196, in pandas._libs.index.IndexEngine.get_loc\\n  File \\\"pandas\\\\\\\\_libs\\\\\\\\hashtable_class_helper.pxi\\\", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item\\n  File \\\"pandas\\\\\\\\_libs\\\\\\\\hashtable_class_helper.pxi\\\", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item\\nKeyError: 'month'\\n\\nThe above exception was the direct cause of the following exception:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 228, in split_data\\n    stratify=working_df[self.config.stratify_column],\\n             ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 4102, in __getitem__\\n    indexer = self.columns.get_loc(key)\\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 3812, in get_loc\\n    raise KeyError(key) from err\\nKeyError: 'month'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 65, in main\\n    training_dataframe, validation_dataframe = feature_selector.split_data(training_dataframe)\\n                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 240, in split_data\\n    raise FeatureSelectionError(\\\"Error in splitting data\\\",\\nsrc.error_handling.custom_exceptions.FeatureSelectionError: Error in splitting data\\n\"}", "error_id": "0306f6b2-5f38-4868-8ca1-106cfa8c1164"}
{"timestamp": "2024-10-13T14:06:53.054659+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-13T14:06:53.058645+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:06:53.185222+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:06:53.186219+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:53.187217+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:06:53.187217+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-13T14:06:53.226085+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-13T14:06:53.226085+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-13T14:06:53.227082+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-13T14:06:53.229075+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-13T14:06:53.229075+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-13T14:06:53.243030+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-13T14:06:54.108146+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-13T14:06:54.110140+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-13T14:06:54.226749+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-13T14:06:54.230737+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-13T14:06:54.245686+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-13T14:06:54.247680+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-13T14:06:54.321444+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-13T14:06:54.330415+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-13T14:06:54.853665+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-13T14:06:54.857651+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-13T14:06:54.986221+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-13T14:06:54.991204+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-13T14:06:55.000175+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-13T14:06:55.002168+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-13T14:06:55.134735+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-13T14:06:55.145698+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-13T14:06:55.633068+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-13T14:06:55.635062+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-13T14:06:55.925102+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-13T14:06:55.932078+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-13T14:06:55.941048+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-13T14:06:55.942045+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-13T14:06:56.129418+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-13T14:06:56.137392+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-13T14:06:56.234068+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:06:56.245032+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:06:56.245032+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.02", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:56.246028+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:06:57.270606+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:06:57.314459+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.07", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:57.329409+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:06:57.545686+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2261], \"new_columns\": [\"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-13T14:06:57.546684+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.22", "unit": "seconds"}
{"timestamp": "2024-10-13T14:06:57.554656+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-13T14:07:15.765006+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-13T14:07:15.765465+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.21", "unit": "seconds"}
{"timestamp": "2024-10-13T14:07:15.766465+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-13T14:07:15.767462+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.21", "unit": "seconds"}
{"timestamp": "2024-10-13T14:07:15.768457+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21503, 2261]}"}
{"timestamp": "2024-10-13T14:07:15.768457+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-10-13T14:07:15.977153+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:07:15.978154+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Feature selection completed\", \"output_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:07:15.978154+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "select_features", "execution_time": "0.21", "unit": "seconds"}
{"timestamp": "2024-10-13T14:07:15.979151+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Splitting data into training and validation sets\"}"}
{"timestamp": "2024-10-13T14:07:16.051919+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in splitting data\", \"error_type\": \"FeatureSelectionError\", \"error_message\": \"'month'\", \"dataframe_shape\": [16733, 2256]}"}
{"timestamp": "2024-10-13T14:07:16.058896+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"Error in splitting data\", \"error_type\": \"FeatureSelectionError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 3805, in get_loc\\n    return self._engine.get_loc(casted_key)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"index.pyx\\\", line 167, in pandas._libs.index.IndexEngine.get_loc\\n  File \\\"index.pyx\\\", line 196, in pandas._libs.index.IndexEngine.get_loc\\n  File \\\"pandas\\\\\\\\_libs\\\\\\\\hashtable_class_helper.pxi\\\", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item\\n  File \\\"pandas\\\\\\\\_libs\\\\\\\\hashtable_class_helper.pxi\\\", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item\\nKeyError: 'month'\\n\\nThe above exception was the direct cause of the following exception:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 228, in split_data\\n    stratify=working_df[self.config.stratify_column],\\n             ~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 4102, in __getitem__\\n    indexer = self.columns.get_loc(key)\\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 3812, in get_loc\\n    raise KeyError(key) from err\\nKeyError: 'month'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 65, in main\\n    training_dataframe, validation_dataframe = feature_selector.split_data(training_dataframe)\\n                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 240, in split_data\\n    raise FeatureSelectionError(\\\"Error in splitting data\\\",\\nsrc.error_handling.custom_exceptions.FeatureSelectionError: Error in splitting data\\n\"}", "error_id": "3d191b97-9835-4612-ba40-eb7b1a3b63ee"}
{"timestamp": "2024-10-13T14:12:49.634374+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-13T14:12:49.637363+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:12:49.776900+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:12:49.776900+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-13T14:12:49.777898+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-13T14:12:49.778894+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-13T14:12:49.815770+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-13T14:12:49.816767+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-13T14:12:49.817764+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-13T14:12:49.818761+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-13T14:12:49.818761+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-13T14:12:49.831717+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-13T14:12:50.663934+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-13T14:12:50.665927+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-13T14:12:50.779547+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-13T14:12:50.782538+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-13T14:12:50.796492+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-13T14:12:50.797488+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-13T14:12:50.871240+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-13T14:12:50.880210+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-13T14:12:51.357624+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-13T14:12:51.364118+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-13T14:12:51.547505+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-13T14:12:51.551491+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-13T14:12:51.559466+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-13T14:12:51.561459+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-13T14:12:51.693018+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-13T14:12:51.703982+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-13T14:12:52.178406+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-13T14:12:52.181396+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-13T14:12:52.471438+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-13T14:12:52.477418+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-13T14:12:52.485392+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-13T14:12:52.486388+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-13T14:12:52.670772+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-13T14:12:52.677748+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-13T14:12:52.772433+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:12:52.783395+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:12:52.783395+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "2.96", "unit": "seconds"}
{"timestamp": "2024-10-13T14:12:52.784392+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-13T14:12:53.792197+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:12:53.819108+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.03", "unit": "seconds"}
{"timestamp": "2024-10-13T14:12:53.827081+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2256]}"}
{"timestamp": "2024-10-13T14:12:53.992528+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2262], \"new_columns\": [\"month\", \"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-13T14:12:53.993526+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.17", "unit": "seconds"}
{"timestamp": "2024-10-13T14:12:54.007478+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:12.390836+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-13T14:13:12.390836+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.38", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:12.391834+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-13T14:13:12.392830+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.39", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:12.392830+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21503, 2262]}"}
{"timestamp": "2024-10-13T14:13:12.393826+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-10-13T14:13:12.601133+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21503, 2257]}"}
{"timestamp": "2024-10-13T14:13:12.601133+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Feature selection completed\", \"output_shape\": [21503, 2257]}"}
{"timestamp": "2024-10-13T14:13:12.602130+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "select_features", "execution_time": "0.21", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:12.603127+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Splitting data into training and validation sets\"}"}
{"timestamp": "2024-10-13T14:13:12.797541+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Data split completed\", \"training_shape\": [20549, 2257], \"validation_shape\": [954, 2257]}"}
{"timestamp": "2024-10-13T14:13:12.804518+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "split_data", "execution_time": "0.20", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:12.813488+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:30.179936+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\training\\\\training_data.csv\"}"}
{"timestamp": "2024-10-13T14:13:30.179936+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "17.37", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:30.180933+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:31.031125+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\training\\\\validation_data.csv\"}"}
{"timestamp": "2024-10-13T14:13:31.031468+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "0.85", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:31.032467+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-13T14:13:31.032467+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.22", "unit": "seconds"}
{"timestamp": "2024-10-13T14:13:31.033463+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-13T14:13:31.057383+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "41.44", "unit": "seconds"}
{"timestamp": "2024-10-14T15:01:45.087838+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': True, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-14T15:01:45.090827+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:01:45.231357+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:01:45.231357+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-14T15:01:45.232354+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:01:45.233350+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-14T15:01:45.275211+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-14T15:01:45.276207+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-14T15:01:45.277204+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-14T15:01:45.278200+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-14T15:01:45.279198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-14T15:01:45.294148+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-14T15:01:46.183177+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-14T15:01:46.184174+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-14T15:01:46.310165+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-14T15:01:46.314151+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-14T15:01:46.328104+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-14T15:01:46.330098+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-14T15:01:46.402854+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-14T15:01:46.412821+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-14T15:01:46.894212+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-14T15:01:46.898198+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-14T15:01:47.026768+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-14T15:01:47.030758+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-14T15:01:47.039710+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-14T15:01:47.041702+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-14T15:01:47.248013+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-14T15:01:47.259972+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-14T15:01:47.756313+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-14T15:01:47.759302+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-14T15:01:47.989543+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-14T15:01:47.995523+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-14T15:01:48.004493+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-14T15:01:48.006487+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-14T15:01:48.256650+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-14T15:01:48.263628+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-14T15:01:48.361300+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:01:48.369273+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting ELO ratings update\", \"input_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:01:48.451997+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in updating ELO ratings\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"'elo_team_before'\", \"dataframe_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:01:48.452994+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"Error in updating ELO ratings\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-10-14T15:01:48.458973+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 3805, in get_loc\\n    return self._engine.get_loc(casted_key)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"index.pyx\\\", line 167, in pandas._libs.index.IndexEngine.get_loc\\n  File \\\"index.pyx\\\", line 196, in pandas._libs.index.IndexEngine.get_loc\\n  File \\\"pandas\\\\\\\\_libs\\\\\\\\hashtable_class_helper.pxi\\\", line 7081, in pandas._libs.hashtable.PyObjectHashTable.get_item\\n  File \\\"pandas\\\\\\\\_libs\\\\\\\\hashtable_class_helper.pxi\\\", line 7089, in pandas._libs.hashtable.PyObjectHashTable.get_item\\nKeyError: 'elo_team_before'\\n\\nThe above exception was the direct cause of the following exception:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 508, in _update_elo_ratings\\n    mask = df[self.config.team_elo_before_column].isna()\\n           ~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 4102, in __getitem__\\n    indexer = self.columns.get_loc(key)\\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 3812, in get_loc\\n    raise KeyError(key) from err\\nKeyError: 'elo_team_before'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 83, in engineer_features\\n    df_merged = self._update_elo_ratings(df_merged)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 573, in _update_elo_ratings\\n    raise FeatureEngineeringError(\\\"Error in updating ELO ratings\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in updating ELO ratings\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 50, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 98, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "92f17b5e-5e89-4bfe-8740-c7fa17c2d85c"}
{"timestamp": "2024-10-14T15:03:10.345277+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-14T15:03:10.349264+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:03:10.488798+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:03:10.488798+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-10-14T15:03:10.489795+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:03:10.489795+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-14T15:03:10.527668+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-14T15:03:10.528664+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-14T15:03:10.529661+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-14T15:03:10.531654+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-14T15:03:10.532651+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-14T15:03:10.545608+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-14T15:03:11.469518+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-14T15:03:11.471511+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-14T15:03:11.583250+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-14T15:03:11.587235+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-14T15:03:11.599196+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-14T15:03:11.600193+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-14T15:03:11.674942+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-14T15:03:11.684909+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-14T15:03:12.159323+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-14T15:03:12.163309+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-14T15:03:12.288889+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-14T15:03:12.293872+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-14T15:03:12.302843+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-14T15:03:12.304836+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-14T15:03:12.499186+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-14T15:03:12.510149+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-14T15:03:12.981580+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-14T15:03:12.985567+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-14T15:03:13.224768+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-14T15:03:13.230748+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-14T15:03:13.238721+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-14T15:03:13.240715+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-14T15:03:13.490877+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-14T15:03:13.497854+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-14T15:03:13.593534+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:03:13.601508+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting ELO ratings update\", \"input_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:03:13.699181+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in updating ELO ratings\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"'Config' object has no attribute 'update_new_rows_only'\", \"dataframe_shape\": [43006, 1198]}"}
{"timestamp": "2024-10-14T15:03:13.699181+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"Error in updating ELO ratings\", \"dataframe_shape\": [43006, 73]}"}
{"timestamp": "2024-10-14T15:03:13.702171+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 516, in _update_elo_ratings\\n    if self.config.update_new_rows_only:\\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\nAttributeError: 'Config' object has no attribute 'update_new_rows_only'\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 83, in engineer_features\\n    df_merged = self._update_elo_ratings(df_merged)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 573, in _update_elo_ratings\\n    raise FeatureEngineeringError(\\\"Error in updating ELO ratings\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in updating ELO ratings\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 50, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 98, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "9817dcf9-f58e-4923-a63a-58ff3297396b"}
{"timestamp": "2024-10-14T15:05:23.458704+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'stl', 'blk', 'tov', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'test_size': 0.2, 'random_state': 42, 'models': ['XGBClassifier'], 'cross_validation_types': ['StratifiedKFold', 'TimeSeriesSplit'], 'n_splits': 5, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\u00c2\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-10-14T15:05:23.460697+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:05:23.589268+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 45892, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:05:23.590264+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-10-14T15:05:23.591260+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-10-14T15:05:23.591260+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-10-14T15:05:23.628137+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-14T15:05:23.629134+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-10-14T15:05:23.630130+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"stl\", \"blk\", \"tov\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-10-14T15:05:23.631127+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 45892, \"columns\": 73}"}
{"timestamp": "2024-10-14T15:05:23.631127+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [45892, 73]}"}
{"timestamp": "2024-10-14T15:05:23.644084+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-10-14T15:05:24.508645+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43006, 383]}"}
{"timestamp": "2024-10-14T15:05:24.511635+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-14T15:05:24.654158+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 445]}"}
{"timestamp": "2024-10-14T15:05:24.657148+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-10-14T15:05:24.670105+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43006, 74]}"}
{"timestamp": "2024-10-14T15:05:24.671102+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-10-14T15:05:24.745851+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43006, 446]}"}
{"timestamp": "2024-10-14T15:05:24.755818+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-10-14T15:05:25.266339+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-14T15:05:25.269329+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-14T15:05:25.395906+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 818]}"}
{"timestamp": "2024-10-14T15:05:25.400889+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-10-14T15:05:25.408863+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-14T15:05:25.410856+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-10-14T15:05:25.598229+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43006, 819]}"}
{"timestamp": "2024-10-14T15:05:25.609193+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-10-14T15:05:26.088589+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21503, 383]}"}
{"timestamp": "2024-10-14T15:05:26.090583+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-14T15:05:26.320813+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1191]}"}
{"timestamp": "2024-10-14T15:05:26.326793+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-10-14T15:05:26.334766+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21503, 74]}"}
{"timestamp": "2024-10-14T15:05:26.336760+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-10-14T15:05:26.575961+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43006, 1192]}"}
{"timestamp": "2024-10-14T15:05:26.590911+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-10-14T15:05:26.709513+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:05:26.717487+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting ELO ratings update\", \"input_shape\": [43006, 1193]}"}
{"timestamp": "2024-10-14T15:06:01.243726+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"ELO ratings update completed\", \"output_shape\": [43006, 1198], \"new_columns\": [\"elo_team_before\", \"elo_opp_before\", \"elo_win_prob\", \"elo_team_after\", \"elo_change\"]}"}
{"timestamp": "2024-10-14T15:06:01.251699+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_update_elo_ratings", "execution_time": "34.54", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:01.264656+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43006, 1198]}"}
{"timestamp": "2024-10-14T15:06:01.265653+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "37.63", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:01.266650+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43006, 1198]}"}
{"timestamp": "2024-10-14T15:06:02.286411+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21503, 2266]}"}
{"timestamp": "2024-10-14T15:06:02.309334+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.04", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:02.321294+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21503, 2266]}"}
{"timestamp": "2024-10-14T15:06:02.482754+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21503, 2272], \"new_columns\": [\"month\", \"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-10-14T15:06:02.482754+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.16", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:02.496708+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:20.714441+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-10-14T15:06:20.715437+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "18.22", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:20.715437+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-14T15:06:20.716434+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.22", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:20.716434+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21503, 2272]}"}
{"timestamp": "2024-10-14T15:06:20.717431+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-10-14T15:06:20.922744+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21503, 2267]}"}
{"timestamp": "2024-10-14T15:06:20.922744+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing ELO features\"}"}
{"timestamp": "2024-10-14T15:06:21.058291+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"ELO features removed\", \"output_shape\": [21503, 2263]}"}
{"timestamp": "2024-10-14T15:06:21.066264+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Feature selection completed\", \"output_shape\": [21503, 2263]}"}
{"timestamp": "2024-10-14T15:06:21.067261+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "select_features", "execution_time": "0.35", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:21.072245+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Splitting data into training and validation sets\"}"}
{"timestamp": "2024-10-14T15:06:21.257676+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Data split completed\", \"training_shape\": [20549, 2263], \"validation_shape\": [954, 2263]}"}
{"timestamp": "2024-10-14T15:06:21.264652+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "split_data", "execution_time": "0.20", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:21.272626+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:38.716430+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\training\\\\training_data.csv\"}"}
{"timestamp": "2024-10-14T15:06:38.716430+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "17.44", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:38.717427+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:39.542673+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\training\\\\validation_data.csv\"}"}
{"timestamp": "2024-10-14T15:06:39.543458+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "0.83", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:39.543458+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-10-14T15:06:39.544458+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "18.27", "unit": "seconds"}
{"timestamp": "2024-10-14T15:06:39.544458+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Feature engineering completed successfully\"}"}
{"timestamp": "2024-10-14T15:06:39.566384+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "main", "execution_time": "76.12", "unit": "seconds"}
{"timestamp": "2024-12-16T14:41:27.483085+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'evaluation_data_directory': 'data/evaluation/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'evaluation_data_file': 'evaluation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'model_hyperparameters': {'XGBClassifier': [{'name': 'current_best', 'params': {'tree_method': 'hist', 'device': 'cuda', 'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'gamma': 0.1, 'reg_alpha': 0.1, 'reg_lambda': 1, 'scale_pos_weight': 1, 'objective': 'binary:logistic', 'random_state': 42, 'eval_metric': 'auc'}}], 'LGBMClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'reg_alpha': 0.1, 'reg_lambda': 1, 'random_state': 42, 'objective': 'binary', 'metric': 'binary_logloss'}}], 'RandomForestClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'min_samples_split': 5, 'min_samples_leaf': 2, 'max_features': 'sqrt', 'bootstrap': True, 'random_state': 42}}]}, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'random_state': 42, 'model': ['XGBoost'], 'enable_categorical': False, 'num_boost_round': 100, 'early_stopping_rounds': 10, 'perform_oof_cross_validation': True, 'perform_validation_set_testing': True, 'cross_validation_type': ['TimeSeriesSplit'], 'n_splits': 5, 'use_best_params': True, 'tune_hyperparameters': False, 'feature_importance_chart': True, 'shap_summary_plot': True, 'shap_force_plot': True, 'shap_dependence_plot': True, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'no_data_class_name': 'NoDataMessage_base__xUA61', 'schedule_preview_text': 'PREVIEW', 'schedule_home_team_id_column': 'home_id', 'schedule_visitor_team_id_column': 'visitor_id', 'schedule_game_id_column': 'game_id', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-12-16T14:41:27.492091+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:41:27.632090+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 46658, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:41:27.632090+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-12-16T14:41:27.633091+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:41:27.634091+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-12-16T14:41:27.672091+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T14:41:27.673091+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-12-16T14:41:27.674091+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"tov\", \"stl\", \"blk\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-12-16T14:41:27.675090+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T14:41:27.675090+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [46658, 73]}"}
{"timestamp": "2024-12-16T14:41:27.689090+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-12-16T14:41:28.568292+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43772, 383]}"}
{"timestamp": "2024-12-16T14:41:28.570292+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T14:41:28.693800+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 445]}"}
{"timestamp": "2024-12-16T14:41:28.696800+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-12-16T14:41:28.712705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43772, 74]}"}
{"timestamp": "2024-12-16T14:41:28.713705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T14:41:28.790705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 446]}"}
{"timestamp": "2024-12-16T14:41:28.799705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-12-16T14:41:29.352705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21883, 383]}"}
{"timestamp": "2024-12-16T14:41:29.357705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T14:41:29.486705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 818]}"}
{"timestamp": "2024-12-16T14:41:29.491705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-12-16T14:41:29.500705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21883, 74]}"}
{"timestamp": "2024-12-16T14:41:29.502705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T14:41:29.634705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 819]}"}
{"timestamp": "2024-12-16T14:41:29.646705+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-12-16T14:41:30.130706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21889, 383]}"}
{"timestamp": "2024-12-16T14:41:30.133706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T14:41:30.439706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1191]}"}
{"timestamp": "2024-12-16T14:41:30.446706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-12-16T14:41:30.455706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21889, 74]}"}
{"timestamp": "2024-12-16T14:41:30.457706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T14:41:30.647706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1192]}"}
{"timestamp": "2024-12-16T14:41:30.655706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-12-16T14:41:30.754706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:41:30.762706+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting ELO ratings update\", \"input_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:42:04.744970+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in updating ELO ratings\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"single positional indexer is out-of-bounds\", \"dataframe_shape\": [43772, 1198]}"}
{"timestamp": "2024-12-16T14:42:04.745970+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"Error in updating ELO ratings\", \"dataframe_shape\": [43772, 73]}"}
{"timestamp": "2024-12-16T14:42:04.754974+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 526, in _update_elo_ratings\\n    home_team = game[game[self.config.home_team_column] == 1].iloc[0]\\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1191, in __getitem__\\n    return self._getitem_axis(maybe_callable, axis=axis)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1752, in _getitem_axis\\n    self._validate_integer(key, axis)\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1685, in _validate_integer\\n    raise IndexError(\\\"single positional indexer is out-of-bounds\\\")\\nIndexError: single positional indexer is out-of-bounds\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 83, in engineer_features\\n    df_merged = self._update_elo_ratings(df_merged)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 573, in _update_elo_ratings\\n    raise FeatureEngineeringError(\\\"Error in updating ELO ratings\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in updating ELO ratings\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 50, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 98, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "9567403d-71b6-48e1-8c8b-351c4833db35"}
{"timestamp": "2024-12-16T14:49:37.510562+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'evaluation_data_directory': 'data/evaluation/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'evaluation_data_file': 'evaluation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'model_hyperparameters': {'XGBClassifier': [{'name': 'current_best', 'params': {'tree_method': 'hist', 'device': 'cuda', 'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'gamma': 0.1, 'reg_alpha': 0.1, 'reg_lambda': 1, 'scale_pos_weight': 1, 'objective': 'binary:logistic', 'random_state': 42, 'eval_metric': 'auc'}}], 'LGBMClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'reg_alpha': 0.1, 'reg_lambda': 1, 'random_state': 42, 'objective': 'binary', 'metric': 'binary_logloss'}}], 'RandomForestClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'min_samples_split': 5, 'min_samples_leaf': 2, 'max_features': 'sqrt', 'bootstrap': True, 'random_state': 42}}]}, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'random_state': 42, 'model': ['XGBoost'], 'enable_categorical': False, 'num_boost_round': 100, 'early_stopping_rounds': 10, 'perform_oof_cross_validation': True, 'perform_validation_set_testing': True, 'cross_validation_type': ['TimeSeriesSplit'], 'n_splits': 5, 'use_best_params': True, 'tune_hyperparameters': False, 'feature_importance_chart': True, 'shap_summary_plot': True, 'shap_force_plot': True, 'shap_dependence_plot': True, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'no_data_class_name': 'NoDataMessage_base__xUA61', 'schedule_preview_text': 'PREVIEW', 'schedule_home_team_id_column': 'home_id', 'schedule_visitor_team_id_column': 'visitor_id', 'schedule_game_id_column': 'game_id', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-12-16T14:49:37.513563+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:49:37.643563+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 46658, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:49:37.644563+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.13", "unit": "seconds"}
{"timestamp": "2024-12-16T14:49:37.645563+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:49:37.645563+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-12-16T14:49:37.684563+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T14:49:37.684563+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-12-16T14:49:37.685564+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"tov\", \"stl\", \"blk\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-12-16T14:49:37.686563+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T14:49:37.686563+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [46658, 73]}"}
{"timestamp": "2024-12-16T14:49:37.700564+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-12-16T14:49:38.583794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43772, 383]}"}
{"timestamp": "2024-12-16T14:49:38.584794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T14:49:38.700794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 445]}"}
{"timestamp": "2024-12-16T14:49:38.704795+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-12-16T14:49:38.718794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43772, 74]}"}
{"timestamp": "2024-12-16T14:49:38.719794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T14:49:38.795794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 446]}"}
{"timestamp": "2024-12-16T14:49:38.804794+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-12-16T14:49:39.342623+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21883, 383]}"}
{"timestamp": "2024-12-16T14:49:39.345625+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T14:49:39.473626+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 818]}"}
{"timestamp": "2024-12-16T14:49:39.477625+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-12-16T14:49:39.486625+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21883, 74]}"}
{"timestamp": "2024-12-16T14:49:39.487625+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T14:49:39.622626+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 819]}"}
{"timestamp": "2024-12-16T14:49:39.634626+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-12-16T14:49:40.130644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21889, 383]}"}
{"timestamp": "2024-12-16T14:49:40.133644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T14:49:40.445644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1191]}"}
{"timestamp": "2024-12-16T14:49:40.451644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-12-16T14:49:40.460644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21889, 74]}"}
{"timestamp": "2024-12-16T14:49:40.462644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T14:49:40.653644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1192]}"}
{"timestamp": "2024-12-16T14:49:40.661644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-12-16T14:49:40.760644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:49:40.770644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:49:40.771644+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.09", "unit": "seconds"}
{"timestamp": "2024-12-16T14:49:40.772644+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting merge_team_data\", \"dataframe_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:49:41.885664+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Team data combined successfully\", \"dataframe_shape\": [21883, 2256]}"}
{"timestamp": "2024-12-16T14:49:41.908665+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "merge_team_data", "execution_time": "1.14", "unit": "seconds"}
{"timestamp": "2024-12-16T14:49:41.917665+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting game date encoding\", \"input_shape\": [21883, 2256]}"}
{"timestamp": "2024-12-16T14:49:42.102185+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Game date encoding completed\", \"output_shape\": [21883, 2262], \"new_columns\": [\"month\", \"day_of_week_sin\", \"day_of_week_cos\", \"month_sin\", \"month_cos\", \"season_progress\"]}"}
{"timestamp": "2024-12-16T14:49:42.102185+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "encode_game_date", "execution_time": "0.19", "unit": "seconds"}
{"timestamp": "2024-12-16T14:49:42.110186+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-12-16T14:50:01.179678+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-12-16T14:50:01.180678+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "19.07", "unit": "seconds"}
{"timestamp": "2024-12-16T14:50:01.180678+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-12-16T14:50:01.181678+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "19.07", "unit": "seconds"}
{"timestamp": "2024-12-16T14:50:01.181678+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [21883, 2262]}"}
{"timestamp": "2024-12-16T14:50:01.182678+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-12-16T14:50:01.405678+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Unnecessary features removed\", \"output_shape\": [21883, 2257]}"}
{"timestamp": "2024-12-16T14:50:01.406678+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing ELO features\"}"}
{"timestamp": "2024-12-16T14:50:01.416678+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in removing ELO features\", \"error_type\": \"FeatureSelectionError\", \"error_message\": \"\\\"['h_elo_team_after', 'h_elo_change'] not found in axis\\\"\", \"dataframe_shape\": [21883, 2257]}"}
{"timestamp": "2024-12-16T14:50:01.417678+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature selection\", \"error_type\": \"FeatureSelectionError\", \"error_message\": \"Error in removing ELO features\", \"dataframe_shape\": [21883, 2257]}"}
{"timestamp": "2024-12-16T14:50:01.427445+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"Error in feature selection\", \"error_type\": \"FeatureSelectionError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 118, in _remove_elo_data_leakage_features\\n    df = df.drop(columns=[f\\\"{self.config.home_team_prefix}{col}\\\" for col in elo_data_leakage_columns])\\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 5581, in drop\\n    return super().drop(\\n           ^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4788, in drop\\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4830, in _drop_axis\\n    new_axis = axis.drop(labels, errors=errors)\\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 7070, in drop\\n    raise KeyError(f\\\"{labels[mask].tolist()} not found in axis\\\")\\nKeyError: \\\"['h_elo_team_after', 'h_elo_change'] not found in axis\\\"\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 58, in select_features\\n    df = self._remove_elo_data_leakage_features(df)\\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 126, in _remove_elo_data_leakage_features\\n    raise FeatureSelectionError(\\\"Error in removing ELO features\\\",\\nsrc.error_handling.custom_exceptions.FeatureSelectionError: Error in removing ELO features\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 62, in main\\n    training_dataframe = feature_selector.select_features(engineered_dataframe)\\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 69, in select_features\\n    raise FeatureSelectionError(\\\"Error in feature selection\\\",\\nsrc.error_handling.custom_exceptions.FeatureSelectionError: Error in feature selection\\n\"}", "error_id": "cc838d9e-76e3-4e4d-aaf4-d7fc62d313eb"}
{"timestamp": "2024-12-16T14:59:31.741520+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'evaluation_data_directory': 'data/evaluation/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'evaluation_data_file': 'evaluation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'model_hyperparameters': {'XGBClassifier': [{'name': 'current_best', 'params': {'tree_method': 'hist', 'device': 'cuda', 'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'gamma': 0.1, 'reg_alpha': 0.1, 'reg_lambda': 1, 'scale_pos_weight': 1, 'objective': 'binary:logistic', 'random_state': 42, 'eval_metric': 'auc'}}], 'LGBMClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'reg_alpha': 0.1, 'reg_lambda': 1, 'random_state': 42, 'objective': 'binary', 'metric': 'binary_logloss'}}], 'RandomForestClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'min_samples_split': 5, 'min_samples_leaf': 2, 'max_features': 'sqrt', 'bootstrap': True, 'random_state': 42}}]}, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'random_state': 42, 'model': ['XGBoost'], 'enable_categorical': False, 'num_boost_round': 100, 'early_stopping_rounds': 10, 'perform_oof_cross_validation': True, 'perform_validation_set_testing': True, 'cross_validation_type': ['TimeSeriesSplit'], 'n_splits': 5, 'use_best_params': True, 'tune_hyperparameters': False, 'feature_importance_chart': True, 'shap_summary_plot': True, 'shap_force_plot': True, 'shap_dependence_plot': True, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'no_data_class_name': 'NoDataMessage_base__xUA61', 'schedule_preview_text': 'PREVIEW', 'schedule_home_team_id_column': 'home_id', 'schedule_visitor_team_id_column': 'visitor_id', 'schedule_game_id_column': 'game_id', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-12-16T14:59:31.745520+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:59:31.887529+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 46658, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:59:31.888529+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-12-16T14:59:31.888529+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T14:59:31.889529+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-12-16T14:59:31.930530+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T14:59:31.931529+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-12-16T14:59:31.932530+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"tov\", \"stl\", \"blk\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-12-16T14:59:31.933530+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T14:59:31.934530+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [46658, 73]}"}
{"timestamp": "2024-12-16T14:59:31.948530+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-12-16T14:59:32.812541+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43772, 383]}"}
{"timestamp": "2024-12-16T14:59:32.814540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T14:59:32.933540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 445]}"}
{"timestamp": "2024-12-16T14:59:32.936541+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-12-16T14:59:32.950540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43772, 74]}"}
{"timestamp": "2024-12-16T14:59:32.951541+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T14:59:33.028542+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 446]}"}
{"timestamp": "2024-12-16T14:59:33.037540+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-12-16T14:59:33.595552+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21883, 383]}"}
{"timestamp": "2024-12-16T14:59:33.599552+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T14:59:33.729553+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 818]}"}
{"timestamp": "2024-12-16T14:59:33.736553+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-12-16T14:59:33.745552+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21883, 74]}"}
{"timestamp": "2024-12-16T14:59:33.747552+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T14:59:33.883552+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 819]}"}
{"timestamp": "2024-12-16T14:59:33.894552+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-12-16T14:59:34.457560+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21889, 383]}"}
{"timestamp": "2024-12-16T14:59:34.459560+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T14:59:34.694561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1191]}"}
{"timestamp": "2024-12-16T14:59:34.701561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-12-16T14:59:34.709561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21889, 74]}"}
{"timestamp": "2024-12-16T14:59:34.711561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T14:59:34.905561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1192]}"}
{"timestamp": "2024-12-16T14:59:34.913561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-12-16T14:59:35.012561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:59:35.022561+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Feature engineering completed\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:59:35.023561+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "engineer_features", "execution_time": "3.09", "unit": "seconds"}
{"timestamp": "2024-12-16T14:59:35.024561+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_get_save_directory", "execution_time": "0.00", "unit": "seconds"}
{"timestamp": "2024-12-16T14:59:54.378603+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data saved successfully\", \"file_path\": \"data\\\\engineered\\\\engineered_features.csv\"}"}
{"timestamp": "2024-12-16T14:59:54.378845+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "_save_dataframe_csv", "execution_time": "19.35", "unit": "seconds"}
{"timestamp": "2024-12-16T14:59:54.379849+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Dataframes saved successfully\"}"}
{"timestamp": "2024-12-16T14:59:54.379849+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "save_dataframes", "execution_time": "19.36", "unit": "seconds"}
{"timestamp": "2024-12-16T14:59:54.380848+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Starting feature selection\", \"input_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:59:54.380848+00:00", "level": "INFO", "name": "src.feature_engineering.feature_selector", "message": "{\"message\": \"Removing unnecessary features\"}"}
{"timestamp": "2024-12-16T14:59:54.381849+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in removing unnecessary features\", \"error_type\": \"FeatureSelectionError\", \"error_message\": \"\\\"['h_team', 'h_match_up'] not found in axis\\\"\", \"dataframe_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:59:54.382849+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature selection\", \"error_type\": \"FeatureSelectionError\", \"error_message\": \"Error in removing unnecessary features\", \"dataframe_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T14:59:54.392849+00:00", "level": "CRITICAL", "name": "error_logger", "message": "{\"message\": \"Unexpected error occurred\", \"error_message\": \"Error in feature selection\", \"error_type\": \"FeatureSelectionError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 86, in _remove_unnecessary_features\\n    df = df.drop(columns=[f\\\"{self.config.home_team_prefix}{col}\\\" for col in self.config.non_useful_columns])\\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\frame.py\\\", line 5581, in drop\\n    return super().drop(\\n           ^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4788, in drop\\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\generic.py\\\", line 4830, in _drop_axis\\n    new_axis = axis.drop(labels, errors=errors)\\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexes\\\\base.py\\\", line 7070, in drop\\n    raise KeyError(f\\\"{labels[mask].tolist()} not found in axis\\\")\\nKeyError: \\\"['h_team', 'h_match_up'] not found in axis\\\"\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 57, in select_features\\n    df = self._remove_unnecessary_features(df)\\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 95, in _remove_unnecessary_features\\n    raise FeatureSelectionError(\\\"Error in removing unnecessary features\\\",\\nsrc.error_handling.custom_exceptions.FeatureSelectionError: Error in removing unnecessary features\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 62, in main\\n    training_dataframe = feature_selector.select_features(engineered_dataframe)\\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_selector.py\\\", line 69, in select_features\\n    raise FeatureSelectionError(\\\"Error in feature selection\\\",\\nsrc.error_handling.custom_exceptions.FeatureSelectionError: Error in feature selection\\n\"}", "error_id": "2e3a3318-f16c-4dae-9285-81bac026f0a3"}
{"timestamp": "2024-12-16T15:10:57.452896+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'evaluation_data_directory': 'data/evaluation/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'evaluation_data_file': 'evaluation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'model_hyperparameters': {'XGBClassifier': [{'name': 'current_best', 'params': {'tree_method': 'hist', 'device': 'cuda', 'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'gamma': 0.1, 'reg_alpha': 0.1, 'reg_lambda': 1, 'scale_pos_weight': 1, 'objective': 'binary:logistic', 'random_state': 42, 'eval_metric': 'auc'}}], 'LGBMClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'reg_alpha': 0.1, 'reg_lambda': 1, 'random_state': 42, 'objective': 'binary', 'metric': 'binary_logloss'}}], 'RandomForestClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'min_samples_split': 5, 'min_samples_leaf': 2, 'max_features': 'sqrt', 'bootstrap': True, 'random_state': 42}}]}, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'random_state': 42, 'model': ['XGBoost'], 'enable_categorical': False, 'num_boost_round': 100, 'early_stopping_rounds': 10, 'perform_oof_cross_validation': True, 'perform_validation_set_testing': True, 'cross_validation_type': ['TimeSeriesSplit'], 'n_splits': 5, 'use_best_params': True, 'tune_hyperparameters': False, 'feature_importance_chart': True, 'shap_summary_plot': True, 'shap_force_plot': True, 'shap_dependence_plot': True, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'no_data_class_name': 'NoDataMessage_base__xUA61', 'schedule_preview_text': 'PREVIEW', 'schedule_home_team_id_column': 'home_id', 'schedule_visitor_team_id_column': 'visitor_id', 'schedule_game_id_column': 'game_id', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-12-16T15:10:57.456895+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T15:10:57.601117+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 46658, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T15:10:57.601117+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.14", "unit": "seconds"}
{"timestamp": "2024-12-16T15:10:57.602118+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T15:10:57.602118+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-12-16T15:10:57.643118+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T15:10:57.644118+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-12-16T15:10:57.645118+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"tov\", \"stl\", \"blk\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-12-16T15:10:57.646118+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T15:10:57.647119+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [46658, 73]}"}
{"timestamp": "2024-12-16T15:10:57.660118+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-12-16T15:10:58.544191+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43772, 383]}"}
{"timestamp": "2024-12-16T15:10:58.545128+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T15:10:58.661387+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 445]}"}
{"timestamp": "2024-12-16T15:10:58.665390+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-12-16T15:10:58.678390+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43772, 74]}"}
{"timestamp": "2024-12-16T15:10:58.680391+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T15:10:58.756391+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 446]}"}
{"timestamp": "2024-12-16T15:10:58.765390+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-12-16T15:10:59.251412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21883, 383]}"}
{"timestamp": "2024-12-16T15:10:59.255412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T15:10:59.457412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 818]}"}
{"timestamp": "2024-12-16T15:10:59.462412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-12-16T15:10:59.470412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21883, 74]}"}
{"timestamp": "2024-12-16T15:10:59.471412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T15:10:59.604412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 819]}"}
{"timestamp": "2024-12-16T15:10:59.615412+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-12-16T15:11:00.121422+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21889, 383]}"}
{"timestamp": "2024-12-16T15:11:00.123423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T15:11:00.430423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1191]}"}
{"timestamp": "2024-12-16T15:11:00.437423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-12-16T15:11:00.445423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21889, 74]}"}
{"timestamp": "2024-12-16T15:11:00.446423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T15:11:00.659423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1192]}"}
{"timestamp": "2024-12-16T15:11:00.667423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-12-16T15:11:00.765423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T15:11:00.773423+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting ELO ratings update\", \"input_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T15:11:00.862431+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "Sample of home_team_column values: is_home_team\n0    21889\n1    21883\nName: count, dtype: int64"}
{"timestamp": "2024-12-16T15:11:35.442209+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in updating ELO ratings\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"single positional indexer is out-of-bounds\", \"dataframe_shape\": [43772, 1198]}"}
{"timestamp": "2024-12-16T15:11:35.443208+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"Error in updating ELO ratings\", \"dataframe_shape\": [43772, 73]}"}
{"timestamp": "2024-12-16T15:11:35.449209+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 530, in _update_elo_ratings\\n    home_team = game[game[self.config.home_team_column] == 1].iloc[0]\\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1191, in __getitem__\\n    return self._getitem_axis(maybe_callable, axis=axis)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1752, in _getitem_axis\\n    self._validate_integer(key, axis)\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1685, in _validate_integer\\n    raise IndexError(\\\"single positional indexer is out-of-bounds\\\")\\nIndexError: single positional indexer is out-of-bounds\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 83, in engineer_features\\n    df_merged = self._update_elo_ratings(df_merged)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 577, in _update_elo_ratings\\n    raise FeatureEngineeringError(\\\"Error in updating ELO ratings\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in updating ELO ratings\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 50, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 98, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "9e043fcc-4c29-47e3-ae18-b27e058a37d5"}
{"timestamp": "2024-12-16T15:24:25.098431+00:00", "level": "INFO", "name": "__main__", "message": "{\"message\": \"Starting feature engineering\", \"app_version\": \"1.0.0\", \"environment\": \"development\", \"log_level\": \"INFO\", \"config_summary\": \"{'app_version': '1.0.0', 'environment': 'development', 'app_name': 'NBA Prediction App', 'maintainer_email': 'cmunch1@yahoo.com', 'api_rate_limit': 'not implemented', 'data_retention_days': 'not implemented', 'features': {'use_proxy': 'not implemented', 'enable_caching': 'not implemented', 'perform_data_validation': 'not implemented'}, 'notifications': {'email_alerts': 'not implemented', 'slack_alerts': 'not implemented', 'alert_recipients': ['admin@example.com', 'analyst@example.com']}, 'external_services': {'team_logos_cdn': 'https://cdn.nba.com/logos/'}, 'default_language': 'en-US', 'timezone': 'UTC', 'newly_scraped_directory': 'data/newly_scraped/', 'cumulative_scraped_directory': 'data/cumulative_scraped/', 'processed_data_directory': 'data/processed/', 'engineered_data_directory': 'data/engineered/', 'training_data_directory': 'data/training/', 'evaluation_data_directory': 'data/evaluation/', 'scraped_boxscore_files': ['games_traditional.csv', 'games_advanced.csv', 'games_four-factors.csv', 'games_misc.csv', 'games_scoring.csv'], 'todays_matchups_file': 'todays_matchups.csv', 'todays_games_ids_file': 'todays_games_ids.csv', 'team_centric_data_file': 'teams_boxscores.csv', 'game_centric_data_file': 'games_boxscores.csv', 'engineered_data_file': 'engineered_features.csv', 'column_mapping_file': 'column_mapping.json', 'training_data_file': 'training_data.csv', 'validation_data_file': 'validation_data.csv', 'evaluation_data_file': 'evaluation_data.csv', 'default_percentage_value': 75, 'regular_game_minutes': 240, 'season_year_offset': 2000, 'regular_season_game_id_threshold': 2, 'game_id_column': 'GAME_ID', 'new_game_id_column': 'game_id', 'team_id_column': 'TEAM_ID', 'new_team_id_column': 'team_id', 'date_column': 'GAME_DATE', 'new_date_column': 'game_date', 'game_info_columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min'], 'team_info_columns': ['team_id', 'is_home_team', 'team', 'match_up'], 'processed_schema': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win'], 'extend_rolling_avgs': True, 'extend_streaks': True, 'include_postseason': True, 'home_team_column': 'is_home_team', 'win_column': 'is_win', 'season_column': 'season', 'is_playoff_column': 'is_playoff', 'season_start': '10-1', 'season_end': '7-1', 'target_column': 'is_win', 'home_game_suffix': 'home', 'visitor_game_suffix': 'visitor', 'combined_cases_suffix': 'all', 'home_team_prefix': 'h_', 'visitor_team_prefix': 'v_', 'team_rolling_avg_periods': [3, 5, 7, 10, 15, 20], 'matchup_rolling_avg_periods': [1, 2, 3, 4], 'elo_update_new_rows_only': False, 'k_factor': 20, 'home_advantage': 100, 'initial_elo': 1500, 'elo_width': 400, 'team_elo_before_column': 'elo_team_before', 'opp_elo_before_column': 'elo_opp_before', 'win_prob_column': 'elo_win_prob', 'team_elo_after_column': 'elo_team_after', 'elo_change_column': 'elo_change', 'validation_split': 0.2, 'stratify_column': 'month', 'validation_last_n_seasons': 3, 'model_hyperparameters': {'XGBClassifier': [{'name': 'current_best', 'params': {'tree_method': 'hist', 'device': 'cuda', 'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'gamma': 0.1, 'reg_alpha': 0.1, 'reg_lambda': 1, 'scale_pos_weight': 1, 'objective': 'binary:logistic', 'random_state': 42, 'eval_metric': 'auc'}}], 'LGBMClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'learning_rate': 0.05, 'subsample': 0.8, 'colsample_bytree': 0.8, 'min_child_weight': 2, 'reg_alpha': 0.1, 'reg_lambda': 1, 'random_state': 42, 'objective': 'binary', 'metric': 'binary_logloss'}}], 'RandomForestClassifier': [{'name': 'current_best', 'params': {'n_estimators': 200, 'max_depth': 4, 'min_samples_split': 5, 'min_samples_leaf': 2, 'max_features': 'sqrt', 'bootstrap': True, 'random_state': 42}}]}, 'log_level': 'INFO', 'use_structured_logging': True, 'log_to_console': True, 'log_to_file': True, 'log_filename_fallback': 'log_file.log', 'log_current_run_only': True, 'log_path': './logs', 'log_size_max': 2, 'log_backup_count': 3, 'error_filename_fallback': 'error_file.log', 'error_size_max': 2, 'error_backup_count': 3, 'non_useful_columns': ['team', 'match_up'], 'categorical_columns': ['is_playoff', 'is_overtime', 'is_home_team', 'team_id', 'season', 'sub_season_id'], 'random_state': 42, 'model': ['XGBoost'], 'enable_categorical': False, 'num_boost_round': 100, 'early_stopping_rounds': 10, 'perform_oof_cross_validation': True, 'perform_validation_set_testing': True, 'cross_validation_type': ['TimeSeriesSplit'], 'n_splits': 5, 'use_best_params': True, 'tune_hyperparameters': False, 'feature_importance_chart': True, 'shap_summary_plot': True, 'shap_force_plot': True, 'shap_dependence_plot': True, 'game_date_header_variations': ['Game Date', 'Game_Date', 'GAME DATE', 'Game\\\\xa0Date'], 'full_scrape': False, 'start_season': 2006, 'off_season_start_month': 8, 'regular_season_start_month': 10, 'play_in_month': 4, 'nba_boxscores_url': 'https://www.nba.com/stats/teams/boxscores', 'nba_schedule_url': 'https://www.nba.com/schedule', 'regular_season_text': 'Regular+Season', 'play_in_season_text': 'PlayIn', 'playoffs_season_text': 'Playoffs', 'stat_types': ['traditional', 'advanced', 'four-factors', 'misc', 'scoring'], 'table_class_name': 'Crom_table__p1iZz', 'pagination_class_name': 'Pagination_pageDropdown__KgjBU', 'dropdown_class_name': 'DropDown_select__4pIg9', 'teams_and_games_class_name': 'Anchor_anchor__cSc3P', 'games_per_day_class_name': 'ScheduleDay_sdGames__NGdO5', 'day_class_name': 'ScheduleDay_sdDay__3s2Xt', 'teams_links_class_name': 'Anchor_anchor__cSc3P Link_styled__okbXW', 'game_links_class_name': 'Anchor_anchor__cSc3P TabLink_link__f_15h', 'no_data_class_name': 'NoDataMessage_base__xUA61', 'schedule_preview_text': 'PREVIEW', 'schedule_home_team_id_column': 'home_id', 'schedule_visitor_team_id_column': 'visitor_id', 'schedule_game_id_column': 'game_id', 'page_load_timeout': 30, 'dynamic_content_timeout': 30, 'max_retries': 2, 'retry_delay': 2, 'wait_time': 10, 'browsers': ['chrome', 'firefox'], 'chrome_options': {'--headless': 'new', '--no-sandbox': None, '--start-maximized': None, '--disable-dev-shm-usage': None, '--ignore-certificate-errors': None, '--ignore-ssl-errors': None, '--disable-gpu': None, '--disable-extensions': None, '--disable-popup-blocking': None, '--disable-notifications': None, '--remote-debugging-port': 9222, '--disable-3d-apis': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3'}, 'firefox_options': {'--headless': None, '--disable-blink-features=AutomationControlled': None, '--user-agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0'}}\"}"}
{"timestamp": "2024-12-16T15:24:25.103431+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Getting load directory\", \"cumulative\": true, \"file_name\": \"teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T15:24:25.262432+00:00", "level": "INFO", "name": "src.data_access.data_access", "message": "{\"message\": \"Data loaded successfully\", \"dataframe_count\": 46658, \"file_path\": \"data\\\\processed\\\\teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T15:24:25.263431+00:00", "level": "INFO", "name": "src.logging.logging_utils", "message": "Function performance", "function_name": "load_dataframe", "execution_time": "0.16", "unit": "seconds"}
{"timestamp": "2024-12-16T15:24:25.263431+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Starting validation of processed dataframe teams_boxscores.csv\"}"}
{"timestamp": "2024-12-16T15:24:25.264432+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for nulls and duplicates\"}"}
{"timestamp": "2024-12-16T15:24:25.303432+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes initial checks\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T15:24:25.304431+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Checking teams_boxscores.csv for correct schema\"}"}
{"timestamp": "2024-12-16T15:24:25.305432+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv passes schema checks\", \"columns\": [\"game_id\", \"season\", \"game_date\", \"sub_season_id\", \"is_playoff\", \"is_overtime\", \"min\", \"team_id\", \"is_home_team\", \"team\", \"match_up\", \"pts\", \"fgm\", \"fga\", \"fg_pct\", \"3pm\", \"3pa\", \"3p_pct\", \"ftm\", \"fta\", \"ft_pct\", \"oreb\", \"dreb\", \"reb\", \"ast\", \"tov\", \"stl\", \"blk\", \"pf\", \"plus_minus\", \"off_rtg\", \"def_rtg\", \"net_rtg\", \"ast_pct\", \"ast_turnover_ratio\", \"ast_ratio\", \"oreb_pct\", \"dreb_pct\", \"reb_pct\", \"tov_pct\", \"efg_pct\", \"ts_pct\", \"pace\", \"pie\", \"fta_rate\", \"opp_efg_pct\", \"opp_fta_rate\", \"opp_tov_pct\", \"opp_oreb_pct\", \"pts_off_to\", \"2nd_pts\", \"fbps\", \"pitp\", \"opp_pts_off_to\", \"opp_2nd_pts\", \"opp_fbps\", \"opp_pitp\", \"pct_fga_2pt\", \"pct_fga_3pt\", \"pct_pts_2pt\", \"pct_pts_2pt_mr\", \"pct_pts_3pt\", \"pct_pts_fbps\", \"pct_pts_ft\", \"pct_pts_off_to\", \"pct_pts_pitp\", \"2fgm_pct_ast\", \"2fgm_pct_uast\", \"3fgm_pct_ast\", \"3fgm_pct_uast\", \"fgm_pct_ast\", \"fgm_pct_uast\", \"is_win\"]}"}
{"timestamp": "2024-12-16T15:24:25.306431+00:00", "level": "INFO", "name": "src.data_validation.data_validator", "message": "{\"message\": \"Dataframe teams_boxscores.csv validated successfully\", \"rows\": 46658, \"columns\": 73}"}
{"timestamp": "2024-12-16T15:24:25.307431+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting feature engineering\", \"input_shape\": [46658, 73]}"}
{"timestamp": "2024-12-16T15:24:25.320432+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -all\"}"}
{"timestamp": "2024-12-16T15:24:26.203438+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [43772, 383]}"}
{"timestamp": "2024-12-16T15:24:26.205438+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T15:24:26.325437+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 445]}"}
{"timestamp": "2024-12-16T15:24:26.329438+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -all\"}"}
{"timestamp": "2024-12-16T15:24:26.345439+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [43772, 74]}"}
{"timestamp": "2024-12-16T15:24:26.347439+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -all\"}"}
{"timestamp": "2024-12-16T15:24:26.438440+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -all\", \"output_shape\": [43772, 446]}"}
{"timestamp": "2024-12-16T15:24:26.513438+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -home\"}"}
{"timestamp": "2024-12-16T15:24:27.057446+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21883, 383]}"}
{"timestamp": "2024-12-16T15:24:27.062445+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T15:24:27.193455+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 818]}"}
{"timestamp": "2024-12-16T15:24:27.200455+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -home\"}"}
{"timestamp": "2024-12-16T15:24:27.211455+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21883, 74]}"}
{"timestamp": "2024-12-16T15:24:27.214455+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -home\"}"}
{"timestamp": "2024-12-16T15:24:27.350454+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -home\", \"output_shape\": [43772, 819]}"}
{"timestamp": "2024-12-16T15:24:27.363455+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Creating rolling averages -visitor\"}"}
{"timestamp": "2024-12-16T15:24:27.947456+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Rolling averages created\", \"output_shape\": [21889, 383]}"}
{"timestamp": "2024-12-16T15:24:27.949455+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T15:24:28.202471+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1191]}"}
{"timestamp": "2024-12-16T15:24:28.209471+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating win/lose streaks -visitor\"}"}
{"timestamp": "2024-12-16T15:24:28.216471+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Win/lose streaks calculated\", \"output_shape\": [21889, 74]}"}
{"timestamp": "2024-12-16T15:24:28.218472+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Merging features -visitor\"}"}
{"timestamp": "2024-12-16T15:24:28.429474+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Features merged -visitor\", \"output_shape\": [43772, 1192]}"}
{"timestamp": "2024-12-16T15:24:28.462481+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Calculating home/visitor streaks\"}"}
{"timestamp": "2024-12-16T15:24:28.616472+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Home/visitor streaks calculated\", \"output_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T15:24:28.625472+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "{\"message\": \"Starting ELO ratings update\", \"input_shape\": [43772, 1193]}"}
{"timestamp": "2024-12-16T15:24:28.708472+00:00", "level": "INFO", "name": "src.feature_engineering.feature_engineer", "message": "Sample of home_team_column values: is_home_team\n0    21889\n1    21883\nName: count, dtype: int64"}
{"timestamp": "2024-12-16T15:25:03.219326+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in updating ELO ratings\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"single positional indexer is out-of-bounds\", \"game_id\": 2400147, \"dataframe_shape\": [43772, 1198]}"}
{"timestamp": "2024-12-16T15:25:03.220327+00:00", "level": "ERROR", "name": "src.error_handling.custom_exceptions", "message": "{\"message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"error_message\": \"Error in updating ELO ratings\", \"dataframe_shape\": [43772, 73]}"}
{"timestamp": "2024-12-16T15:25:03.226327+00:00", "level": "ERROR", "name": "error_logger", "message": "{\"message\": \"FeatureEngineeringError occurred\", \"error_message\": \"Error in feature engineering\", \"error_type\": \"FeatureEngineeringError\", \"traceback\": \"Traceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 530, in _update_elo_ratings\\n    home_team = game[game[self.config.home_team_column] == 1].iloc[0]\\n                ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1191, in __getitem__\\n    return self._getitem_axis(maybe_callable, axis=axis)\\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1752, in _getitem_axis\\n    self._validate_integer(key, axis)\\n  File \\\"C:\\\\Users\\\\Chris\\\\miniconda3\\\\envs\\\\nba_analysis\\\\Lib\\\\site-packages\\\\pandas\\\\core\\\\indexing.py\\\", line 1685, in _validate_integer\\n    raise IndexError(\\\"single positional indexer is out-of-bounds\\\")\\nIndexError: single positional indexer is out-of-bounds\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 83, in engineer_features\\n    df_merged = self._update_elo_ratings(df_merged)\\n                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 577, in _update_elo_ratings\\n    raise FeatureEngineeringError(\\\"Error in updating ELO ratings\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in updating ELO ratings\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\main.py\\\", line 50, in main\\n    engineered_dataframe = feature_engineer.engineer_features(processed_dataframe)\\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\logging\\\\logging_utils.py\\\", line 15, in wrapper\\n    result = func(*args, **kwargs)\\n             ^^^^^^^^^^^^^^^^^^^^^\\n  File \\\"E:\\\\OneDrive\\\\nba_analysis_project\\\\src\\\\feature_engineering\\\\feature_engineer.py\\\", line 98, in engineer_features\\n    raise FeatureEngineeringError(\\\"Error in feature engineering\\\",\\nsrc.error_handling.custom_exceptions.FeatureEngineeringError: Error in feature engineering\\n\"}", "error_id": "b89d85e8-1b60-422e-9985-57c513e3edc5"}
2025-10-05 10:16:21,700 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-05 10:16:21,838 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-05 10:16:21,838 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'duration_seconds': 0.13753271102905273, 'status': 'success'}
2025-10-05 10:16:21,838 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {}
2025-10-05 10:16:21,838 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {}
2025-10-05 10:16:21,902 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'rows': 48532, 'columns': 73}
2025-10-05 10:16:21,902 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {}
2025-10-05 10:16:21,902 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-05 10:16:21,902 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'rows': 48532, 'columns': 73}
2025-10-05 10:16:21,902 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'duration_seconds': 0.0641028881072998, 'status': 'success'}
2025-10-05 11:00:14,947 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-05 11:00:15,097 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-05 11:00:15,097 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'duration_seconds': 0.15018868446350098, 'status': 'success'}
2025-10-05 11:00:15,097 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {}
2025-10-05 11:00:15,097 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {}
2025-10-05 11:00:15,133 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:00:15,133 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {}
2025-10-05 11:00:15,133 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-05 11:00:15,133 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:00:15,133 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'duration_seconds': 0.03616786003112793, 'status': 'success'}
2025-10-05 11:03:38,411 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-05 11:03:38,553 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-05 11:03:38,553 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'duration_seconds': 0.1423637866973877, 'status': 'success'}
2025-10-05 11:03:38,553 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {}
2025-10-05 11:03:38,553 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {}
2025-10-05 11:03:38,588 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:03:38,588 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {}
2025-10-05 11:03:38,588 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-05 11:03:38,588 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:03:38,588 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'duration_seconds': 0.03490567207336426, 'status': 'success'}
2025-10-05 11:04:14,793 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'duration_seconds': 3.1948089599609375e-05, 'status': 'success'}
2025-10-05 11:04:39,433 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {}
2025-10-05 11:04:39,434 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'duration_seconds': 24.640140533447266, 'status': 'success'}
2025-10-05 11:05:56,631 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-05 11:05:56,762 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-05 11:05:56,762 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'duration_seconds': 0.13059473037719727, 'status': 'success'}
2025-10-05 11:05:56,762 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {}
2025-10-05 11:05:56,762 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {}
2025-10-05 11:05:56,790 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:05:56,791 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {}
2025-10-05 11:05:56,791 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-05 11:05:56,791 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:05:56,791 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'duration_seconds': 0.028626680374145508, 'status': 'success'}
2025-10-05 11:06:32,076 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'duration_seconds': 3.62396240234375e-05, 'status': 'success'}
2025-10-05 11:06:57,361 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {}
2025-10-05 11:06:57,361 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'duration_seconds': 25.28472924232483, 'status': 'success'}
2025-10-05 11:06:57,361 - ml_framework.core.app_logging.app_logger - ERROR - Error in removing unnecessary features | Context: {'error_type': 'FeatureSelectionError', 'error_message': "'ConfigManager' object has no attribute 'non_useful_columns'", 'dataframe_shape': (22728, 2272)}
2025-10-05 11:06:57,361 - ml_framework.core.app_logging.app_logger - ERROR - Error in feature selection | Context: {'error_type': 'FeatureSelectionError', 'error_message': 'Error in removing unnecessary features', 'dataframe_shape': (22728, 2272)}
2025-10-05 11:07:40,170 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-05 11:07:40,300 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-05 11:07:40,300 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'duration_seconds': 0.13036441802978516, 'status': 'success'}
2025-10-05 11:07:40,300 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {}
2025-10-05 11:07:40,300 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {}
2025-10-05 11:07:40,328 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:07:40,328 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {}
2025-10-05 11:07:40,328 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-05 11:07:40,328 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:07:40,328 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'duration_seconds': 0.0275115966796875, 'status': 'success'}
2025-10-05 11:08:15,838 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'duration_seconds': 3.743171691894531e-05, 'status': 'success'}
2025-10-05 11:08:38,487 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {}
2025-10-05 11:08:38,487 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'duration_seconds': 22.64932680130005, 'status': 'success'}
2025-10-05 11:08:39,046 - ml_framework.core.app_logging.app_logger - ERROR - Error in splitting data | Context: {'error_type': 'FeatureSelectionError', 'error_message': "'ConfigManager' object has no attribute 'random_state'", 'dataframe_shape': (17813, 2267)}
2025-10-05 11:09:20,245 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-05 11:09:20,376 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-05 11:09:20,376 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'duration_seconds': 0.13162827491760254, 'status': 'success'}
2025-10-05 11:09:20,376 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {}
2025-10-05 11:09:20,377 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {}
2025-10-05 11:09:20,403 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:09:20,403 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {}
2025-10-05 11:09:20,403 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-05 11:09:20,403 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'rows': 48532, 'columns': 73}
2025-10-05 11:09:20,403 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'duration_seconds': 0.026751995086669922, 'status': 'success'}
2025-10-05 11:09:56,128 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'duration_seconds': 3.0040740966796875e-05, 'status': 'success'}
2025-10-05 11:10:18,646 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {}
2025-10-05 11:10:18,646 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'duration_seconds': 22.51746892929077, 'status': 'success'}
2025-10-05 11:10:19,180 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'duration_seconds': 3.0994415283203125e-05, 'status': 'success'}
2025-10-05 11:10:42,246 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'duration_seconds': 3.719329833984375e-05, 'status': 'success'}
2025-10-05 11:10:43,236 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {}
2025-10-05 11:10:43,236 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'duration_seconds': 24.056183338165283, 'status': 'success'}
2025-10-09 12:50:42,988 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager'}
2025-10-09 12:50:42,989 - ml_framework.core.app_logging.app_logger - INFO - FeatureSelector initialized | Context: {'config_type': 'ConfigManager'}
2025-10-09 12:50:42,989 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x71798a924c10>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=None, categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(scaling=None, handling_missing=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None)), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(scaling=\'standard\', handling_missing=\'mean\', handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=\'constant\')), RandomForest=namespace(numerical=namespace(scaling=None, handling_missing=\'mean\', handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None)), XGBoost=namespace(numerical=namespace(scaling=None, handling_missing=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None)), LightGBM=namespace(numerical=namespace(scaling=None, handling_missing=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None)), CatBoost=namespace(numerical=namespace(scaling=None, handling_missing=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None)), NeuralNetwork=namespace(numerical=namespace(scaling=\'standard\', handling_missing=\'mean\', handling_outliers=\'clip\'), categorical=namespace(encoding=None, handling_missing=\'constant\'))))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-09 12:50:42,989 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-09 12:50:42,989 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-09 12:50:43,122 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-09 12:50:43,122 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1329784393310547, 'status': 'success'}
2025-10-09 12:50:43,122 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:43,122 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:43,123 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:43,154 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-09 12:50:43,155 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:43,155 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-09 12:50:43,155 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-09 12:50:43,155 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0322108268737793, 'status': 'success'}
2025-10-09 12:50:43,155 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:43,155 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73)}
2025-10-09 12:50:43,182 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,086 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 383)}
2025-10-09 12:50:44,088 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,270 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 445)}
2025-10-09 12:50:44,271 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,290 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-09 12:50:44,290 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,365 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 446)}
2025-10-09 12:50:44,371 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,762 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-09 12:50:44,764 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,956 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 818)}
2025-10-09 12:50:44,957 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:44,963 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-09 12:50:44,963 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:45,160 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 819)}
2025-10-09 12:50:45,166 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:45,548 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-09 12:50:45,548 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:45,835 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1191)}
2025-10-09 12:50:45,836 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:45,841 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-09 12:50:45,841 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:46,122 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1192)}
2025-10-09 12:50:46,123 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:50:46,226 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1193)}
2025-10-09 12:50:46,228 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 1193)}
2025-10-09 12:50:46,316 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-09 12:51:16,515 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198), 'new_columns': ['elo_team_before', 'elo_opp_before', 'elo_win_prob', 'elo_team_after', 'elo_change']}
2025-10-09 12:51:16,517 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.289763689041138, 'status': 'success'}
2025-10-09 12:51:16,521 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198)}
2025-10-09 12:51:16,521 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.36659240722656, 'status': 'success'}
2025-10-09 12:51:16,521 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:16,521 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-09 12:51:18,075 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 2266)}
2025-10-09 12:51:18,078 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.5568866729736328, 'status': 'success'}
2025-10-09 12:51:18,081 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:18,081 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2266)}
2025-10-09 12:51:18,240 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2272), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-09 12:51:18,240 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1593179702758789, 'status': 'success'}
2025-10-09 12:51:18,241 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-09 12:51:18,241 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.170967102050781e-05, 'status': 'success'}
2025-10-09 12:51:42,916 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:42,916 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 24.675443172454834, 'status': 'success'}
2025-10-09 12:51:42,916 - ml_framework.core.app_logging.app_logger - INFO - Selecting features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:42,916 - ml_framework.core.app_logging.app_logger - INFO - Starting feature selection | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2272)}
2025-10-09 12:51:42,917 - ml_framework.core.app_logging.app_logger - INFO - Removing unnecessary features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:43,211 - ml_framework.core.app_logging.app_logger - INFO - Unnecessary features removed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2271)}
2025-10-09 12:51:43,211 - ml_framework.core.app_logging.app_logger - INFO - Removing ELO features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:43,565 - ml_framework.core.app_logging.app_logger - INFO - ELO features removed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2267)}
2025-10-09 12:51:43,566 - ml_framework.core.app_logging.app_logger - INFO - Feature selection completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2267)}
2025-10-09 12:51:43,566 - ml_framework.core.app_logging.app_logger - INFO - Function select_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.6491985321044922, 'status': 'success'}
2025-10-09 12:51:43,566 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:43,566 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:43,806 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 2267), 'validation_shape': (984, 2267)}
2025-10-09 12:51:43,807 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.24153447151184082, 'status': 'success'}
2025-10-09 12:51:43,808 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:51:43,808 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.600120544433594e-05, 'status': 'success'}
2025-10-09 12:52:07,641 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.457069396972656e-05, 'status': 'success'}
2025-10-09 12:52:08,642 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-09 12:52:08,643 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 24.83427119255066, 'status': 'success'}
2025-10-09 12:52:08,643 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-12 09:11:02,599 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager'}
2025-10-12 09:11:02,600 - ml_framework.core.app_logging.app_logger - INFO - FeatureSelector initialized | Context: {'config_type': 'ConfigManager'}
2025-10-12 09:11:02,600 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7f8f8809ec90>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-12 09:11:02,600 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-12 09:11:02,600 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-12 09:11:02,756 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-12 09:11:02,757 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15626811981201172, 'status': 'success'}
2025-10-12 09:11:02,757 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:02,757 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:02,757 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.04043984413146973, 'status': 'success'}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:02,797 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-12 09:11:02,817 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:03,541 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 383)}
2025-10-12 09:11:03,542 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:03,702 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 445)}
2025-10-12 09:11:03,702 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:03,714 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-12 09:11:03,714 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:03,794 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 446)}
2025-10-12 09:11:03,799 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:04,212 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 09:11:04,212 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:04,379 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 818)}
2025-10-12 09:11:04,380 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:04,385 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 09:11:04,386 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:04,549 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 819)}
2025-10-12 09:11:04,555 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:04,965 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 09:11:04,966 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:05,294 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1191)}
2025-10-12 09:11:05,295 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:05,301 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 09:11:05,301 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:05,532 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1192)}
2025-10-12 09:11:05,533 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:05,631 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1193)}
2025-10-12 09:11:05,632 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 1193)}
2025-10-12 09:11:05,720 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-12 09:11:34,888 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198), 'new_columns': ['elo_team_before', 'elo_opp_before', 'elo_win_prob', 'elo_team_after', 'elo_change']}
2025-10-12 09:11:34,889 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.256989240646362, 'status': 'success'}
2025-10-12 09:11:34,891 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-12 09:11:35,849 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 1184, 'n_categorical': 9, 'n_binary': 1, 'n_total': 1194}
2025-10-12 09:11:35,849 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 1184\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 1194\nModeling Features: 1194\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 186 features\n  rolling_avg_5: 186 features\n  rolling_avg_10: 186 features\n  streaks: 4 features\n  elo_ratings: 5 features'}
2025-10-12 09:11:35,849 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198)}
2025-10-12 09:11:35,849 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.05238056182861, 'status': 'success'}
2025-10-12 09:11:35,849 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:35,850 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-12 09:11:37,242 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 2266)}
2025-10-12 09:11:37,244 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.394615888595581, 'status': 'success'}
2025-10-12 09:11:37,245 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:11:37,246 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2266)}
2025-10-12 09:11:37,412 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2272), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-12 09:11:37,412 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1663799285888672, 'status': 'success'}
2025-10-12 09:11:37,413 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-12 09:11:37,414 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.220008850097656e-05, 'status': 'success'}
2025-10-12 09:12:01,275 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:12:01,275 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.86184334754944, 'status': 'success'}
2025-10-12 09:12:01,275 - ml_framework.core.app_logging.app_logger - INFO - Selecting features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:12:01,276 - ml_framework.core.app_logging.app_logger - INFO - Starting feature selection | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2272)}
2025-10-12 09:12:01,276 - ml_framework.core.app_logging.app_logger - INFO - Removing unnecessary features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:12:01,276 - ml_framework.core.app_logging.app_logger - ERROR - Error in removing unnecessary features | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'FeatureSelectionError', 'error_message': '"[\'h_h_team\', \'h_h_match_up\', \'h_v_team\', \'h_v_match_up\'] not found in axis"', 'dataframe_shape': (22733, 2272)}
2025-10-12 09:12:01,276 - ml_framework.core.app_logging.app_logger - ERROR - Error in feature selection | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'FeatureSelectionError', 'error_message': 'Error in removing unnecessary features', 'dataframe_shape': (22733, 2272)}
2025-10-12 09:12:01,276 - ml_framework.core.app_logging.app_logger - ERROR - Function select_features failed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.00046133995056152344, 'status': 'error', 'error_type': 'FeatureSelectionError', 'error_message': 'Error in feature selection'}
2025-10-12 09:12:01,288 - ml_framework.core.app_logging.app_logger - ERROR - FeatureSelectionError occurred | Context: {'error_message': 'Error in feature selection', 'error_type': 'FeatureSelectionError', 'traceback': 'Traceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_selector.py", line 104, in _remove_unnecessary_features\n    df = df.drop(columns=[f"{self.config.home_team_prefix}{col}" for col in model_cfg.non_useful_columns])\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/.venv/lib/python3.11/site-packages/pandas/core/frame.py", line 5588, in drop\n    return super().drop(\n           ^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/.venv/lib/python3.11/site-packages/pandas/core/generic.py", line 4807, in drop\n    obj = obj._drop_axis(labels, axis, level=level, errors=errors)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/.venv/lib/python3.11/site-packages/pandas/core/generic.py", line 4849, in _drop_axis\n    new_axis = axis.drop(labels, errors=errors)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/.venv/lib/python3.11/site-packages/pandas/core/indexes/base.py", line 7136, in drop\n    raise KeyError(f"{labels[mask].tolist()} not found in axis")\nKeyError: "[\'h_h_team\', \'h_h_match_up\', \'h_v_team\', \'h_v_match_up\'] not found in axis"\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_selector.py", line 69, in select_features\n    df = self._remove_unnecessary_features(df)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_selector.py", line 115, in _remove_unnecessary_features\n    raise FeatureSelectionError("Error in removing unnecessary features",\nml_framework.core.error_handling.error_handler.FeatureSelectionError: Error in removing unnecessary features\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/main.py", line 88, in main\n    training_dataframe = feature_selector.select_features(engineered_dataframe)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_selector.py", line 48, in wrapper\n    return instance.app_logger.log_performance(func)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/ml_framework/core/app_logging/app_logger.py", line 112, in wrapper\n    result = func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_selector.py", line 81, in select_features\n    raise FeatureSelectionError("Error in feature selection",\nml_framework.core.error_handling.error_handler.FeatureSelectionError: Error in feature selection\n'}
2025-10-12 09:34:56,289 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager'}
2025-10-12 09:34:56,290 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x786bda00ff10>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-12 09:34:56,290 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-12 09:34:56,290 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-12 09:34:56,453 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-12 09:34:56,454 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1636209487915039, 'status': 'success'}
2025-10-12 09:34:56,454 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:56,454 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:56,454 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030712604522705078, 'status': 'success'}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:56,484 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-12 09:34:56,506 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:57,292 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 383)}
2025-10-12 09:34:57,292 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:57,452 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 445)}
2025-10-12 09:34:57,453 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:57,463 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-12 09:34:57,463 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:57,533 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 446)}
2025-10-12 09:34:57,537 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:57,916 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 09:34:57,917 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:58,130 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 818)}
2025-10-12 09:34:58,131 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:58,137 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 09:34:58,137 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:58,347 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 819)}
2025-10-12 09:34:58,354 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:58,771 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 09:34:58,771 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:59,165 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1191)}
2025-10-12 09:34:59,171 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:59,176 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 09:34:59,176 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:59,580 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1192)}
2025-10-12 09:34:59,587 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:34:59,688 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1193)}
2025-10-12 09:34:59,689 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 1193)}
2025-10-12 09:34:59,788 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-12 09:35:29,899 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198), 'new_columns': ['elo_team_before', 'elo_opp_before', 'elo_win_prob', 'elo_team_after', 'elo_change']}
2025-10-12 09:35:29,900 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.211127042770386, 'status': 'success'}
2025-10-12 09:35:29,908 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-12 09:35:30,866 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 1184, 'n_categorical': 9, 'n_binary': 1, 'n_total': 1194}
2025-10-12 09:35:30,866 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 1184\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 1194\nModeling Features: 1194\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 186 features\n  rolling_avg_5: 186 features\n  rolling_avg_10: 186 features\n  streaks: 4 features\n  elo_ratings: 5 features'}
2025-10-12 09:35:30,866 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198)}
2025-10-12 09:35:30,866 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 34.381704807281494, 'status': 'success'}
2025-10-12 09:35:30,866 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:35:30,866 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-12 09:35:32,582 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 2266)}
2025-10-12 09:35:32,586 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.7194154262542725, 'status': 'success'}
2025-10-12 09:35:32,587 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:35:32,587 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2266)}
2025-10-12 09:35:32,759 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2272), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-12 09:35:32,759 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.17198586463928223, 'status': 'success'}
2025-10-12 09:35:32,760 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-12 09:35:32,760 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.956390380859375e-05, 'status': 'success'}
2025-10-12 09:35:56,961 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:35:56,961 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 24.2009756565094, 'status': 'success'}
2025-10-12 09:35:56,961 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:35:56,961 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:35:57,271 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 2272), 'validation_shape': (984, 2272)}
2025-10-12 09:35:57,272 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.3110537528991699, 'status': 'success'}
2025-10-12 09:35:57,272 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:35:57,272 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9087066650390625e-05, 'status': 'success'}
2025-10-12 09:36:20,163 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.2438507080078125e-05, 'status': 'success'}
2025-10-12 09:36:21,225 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:36:21,225 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.952579021453857, 'status': 'success'}
2025-10-12 09:36:21,225 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-12 09:39:03,305 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager'}
2025-10-12 09:39:03,305 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7b5a5b871a50>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-12 09:39:03,306 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-12 09:39:03,306 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-12 09:39:03,449 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-12 09:39:03,449 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14330220222473145, 'status': 'success'}
2025-10-12 09:39:03,449 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:03,449 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:03,449 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030234336853027344, 'status': 'success'}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:03,479 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-12 09:39:03,498 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:04,238 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 383)}
2025-10-12 09:39:04,238 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:04,383 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 445)}
2025-10-12 09:39:04,384 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:04,393 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-12 09:39:04,393 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:04,466 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 446)}
2025-10-12 09:39:04,471 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:04,844 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 09:39:04,845 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:05,004 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 818)}
2025-10-12 09:39:05,004 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:05,010 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 09:39:05,010 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:05,172 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 819)}
2025-10-12 09:39:05,177 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:05,596 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 09:39:05,597 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:05,893 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1191)}
2025-10-12 09:39:05,893 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:05,899 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 09:39:05,899 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:06,143 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1192)}
2025-10-12 09:39:06,145 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:06,243 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1193)}
2025-10-12 09:39:06,244 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 1193)}
2025-10-12 09:39:06,332 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-12 09:39:35,980 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198), 'new_columns': ['elo_team_before', 'elo_opp_before', 'elo_win_prob', 'elo_team_after', 'elo_change']}
2025-10-12 09:39:35,981 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.736912965774536, 'status': 'success'}
2025-10-12 09:39:35,983 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-12 09:39:36,920 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 1184, 'n_categorical': 9, 'n_binary': 1, 'n_total': 1194}
2025-10-12 09:39:36,920 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 1184\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 1194\nModeling Features: 1194\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 186 features\n  rolling_avg_5: 186 features\n  rolling_avg_10: 186 features\n  streaks: 4 features\n  elo_ratings: 5 features'}
2025-10-12 09:39:36,920 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1198)}
2025-10-12 09:39:36,920 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.44104194641113, 'status': 'success'}
2025-10-12 09:39:36,921 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:36,921 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1198)}
2025-10-12 09:39:38,505 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 2266)}
2025-10-12 09:39:38,508 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.586972713470459, 'status': 'success'}
2025-10-12 09:39:38,509 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:39:38,509 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2266)}
2025-10-12 09:39:38,661 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2272), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-12 09:39:38,661 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15212202072143555, 'status': 'success'}
2025-10-12 09:39:38,662 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-12 09:39:38,662 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.86102294921875e-05, 'status': 'success'}
2025-10-12 09:40:02,239 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:40:02,239 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.57669496536255, 'status': 'success'}
2025-10-12 09:40:02,239 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:40:02,239 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:40:02,559 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 2272), 'validation_shape': (984, 2272)}
2025-10-12 09:40:02,560 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.3210129737854004, 'status': 'success'}
2025-10-12 09:40:02,560 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:40:02,560 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0517578125e-05, 'status': 'success'}
2025-10-12 09:40:25,148 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.00543212890625e-05, 'status': 'success'}
2025-10-12 09:40:26,203 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 09:40:26,203 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.642797470092773, 'status': 'success'}
2025-10-12 09:40:26,203 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-12 10:20:13,395 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager'}
2025-10-12 10:20:13,396 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x79ad5f10d210>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-12 10:20:13,396 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-12 10:20:13,396 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-12 10:20:13,546 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-12 10:20:13,546 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15042591094970703, 'status': 'success'}
2025-10-12 10:20:13,546 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:13,546 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:13,546 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02864813804626465, 'status': 'success'}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:13,575 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-12 10:20:13,596 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:14,353 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 383)}
2025-10-12 10:20:14,354 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:14,499 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 445)}
2025-10-12 10:20:14,499 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:14,510 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-12 10:20:14,510 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:14,580 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 446)}
2025-10-12 10:20:14,585 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:14,972 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 10:20:14,972 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:15,136 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 818)}
2025-10-12 10:20:15,136 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:15,142 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 10:20:15,142 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:15,320 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 819)}
2025-10-12 10:20:15,325 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:15,706 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 10:20:15,706 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:15,959 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1191)}
2025-10-12 10:20:15,960 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:15,965 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 10:20:15,966 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:16,196 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1192)}
2025-10-12 10:20:16,198 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:16,295 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1193)}
2025-10-12 10:20:16,296 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 1193)}
2025-10-12 10:20:16,389 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-12 10:20:46,580 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-12 10:20:46,580 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1196), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-12 10:20:46,583 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.28629231452942, 'status': 'success'}
2025-10-12 10:20:46,585 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1196)}
2025-10-12 10:20:47,443 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 1182, 'n_categorical': 9, 'n_binary': 1, 'n_total': 1192}
2025-10-12 10:20:47,443 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 1182\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 1192\nModeling Features: 1192\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 186 features\n  rolling_avg_5: 186 features\n  rolling_avg_10: 186 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-12 10:20:47,443 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1196)}
2025-10-12 10:20:47,443 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.86840772628784, 'status': 'success'}
2025-10-12 10:20:47,443 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:47,443 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1196)}
2025-10-12 10:20:49,336 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 2262)}
2025-10-12 10:20:49,339 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.8951635360717773, 'status': 'success'}
2025-10-12 10:20:49,341 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:20:49,341 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2262)}
2025-10-12 10:20:49,504 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2268), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-12 10:20:49,505 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.16389012336730957, 'status': 'success'}
2025-10-12 10:20:49,506 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-12 10:20:49,506 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9802322387695312e-05, 'status': 'success'}
2025-10-12 10:21:13,318 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:21:13,319 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.812911987304688, 'status': 'success'}
2025-10-12 10:21:13,319 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:21:13,319 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:21:13,626 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 2268), 'validation_shape': (984, 2268)}
2025-10-12 10:21:13,627 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.3082411289215088, 'status': 'success'}
2025-10-12 10:21:13,627 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:21:13,627 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7418136596679688e-05, 'status': 'success'}
2025-10-12 10:21:36,467 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.458427429199219e-05, 'status': 'success'}
2025-10-12 10:21:37,512 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:21:37,512 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.88502788543701, 'status': 'success'}
2025-10-12 10:21:37,512 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-12 10:25:59,367 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager'}
2025-10-12 10:25:59,367 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x74b67af5dad0>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-12 10:25:59,367 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-12 10:25:59,367 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-12 10:25:59,504 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-12 10:25:59,504 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1369493007659912, 'status': 'success'}
2025-10-12 10:25:59,504 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:25:59,505 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:25:59,505 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028770923614501953, 'status': 'success'}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-12 10:25:59,553 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:00,309 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 383)}
2025-10-12 10:26:00,310 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:00,476 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 445)}
2025-10-12 10:26:00,477 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:00,486 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-12 10:26:00,487 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:00,654 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 446)}
2025-10-12 10:26:00,659 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:01,051 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 10:26:01,052 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:01,212 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 818)}
2025-10-12 10:26:01,213 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:01,218 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 10:26:01,219 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:01,393 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 819)}
2025-10-12 10:26:01,397 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:01,772 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 383)}
2025-10-12 10:26:01,773 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:02,029 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1191)}
2025-10-12 10:26:02,030 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:02,035 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-12 10:26:02,036 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:02,272 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1192)}
2025-10-12 10:26:02,274 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:02,371 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1193)}
2025-10-12 10:26:02,372 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 1193)}
2025-10-12 10:26:02,464 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-12 10:26:31,777 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-12 10:26:31,777 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1196), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-12 10:26:31,779 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.406792879104614, 'status': 'success'}
2025-10-12 10:26:31,780 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1196)}
2025-10-12 10:26:32,627 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 1182, 'n_categorical': 9, 'n_binary': 1, 'n_total': 1192}
2025-10-12 10:26:32,627 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 1182\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 1192\nModeling Features: 1192\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 186 features\n  rolling_avg_5: 186 features\n  rolling_avg_10: 186 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-12 10:26:32,627 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 1196)}
2025-10-12 10:26:32,627 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.09406328201294, 'status': 'success'}
2025-10-12 10:26:32,627 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:32,627 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 1196)}
2025-10-12 10:26:34,038 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 2262)}
2025-10-12 10:26:34,041 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.4133825302124023, 'status': 'success'}
2025-10-12 10:26:34,043 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:34,043 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 2262)}
2025-10-12 10:26:34,188 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 2268), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-12 10:26:34,189 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1457831859588623, 'status': 'success'}
2025-10-12 10:26:34,189 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-12 10:26:34,189 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8371810913085938e-05, 'status': 'success'}
2025-10-12 10:26:57,572 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:57,572 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.38237977027893, 'status': 'success'}
2025-10-12 10:26:57,572 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:57,572 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:57,929 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 2268), 'validation_shape': (984, 2268)}
2025-10-12 10:26:57,930 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.3582603931427002, 'status': 'success'}
2025-10-12 10:26:57,930 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:26:57,930 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.765655517578125e-05, 'status': 'success'}
2025-10-12 10:27:20,133 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.291534423828125e-05, 'status': 'success'}
2025-10-12 10:27:21,158 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-12 10:27:21,159 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 23.22823739051819, 'status': 'success'}
2025-10-12 10:27:21,159 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-13 14:28:05,757 - ml_framework.core.app_logging.app_logger - CRITICAL - Unexpected error occurred | Context: {'error_message': "'types.SimpleNamespace' object has no attribute 'get'", 'error_type': 'AttributeError', 'traceback': 'Traceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/main.py", line 45, in main\n    feature_engineer = container.feature_engineer()\n                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "src/dependency_injector/providers.pyx", line 231, in dependency_injector.providers.Provider.__call__\n  File "src/dependency_injector/providers.pyx", line 2661, in dependency_injector.providers.Factory._provide\n  File "src/dependency_injector/providers.pxd", line 646, in dependency_injector.providers.__factory_call\n  File "src/dependency_injector/providers.pxd", line 604, in dependency_injector.providers.__call\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_engineer.py", line 41, in __init__\n    if hasattr(config, \'feature_allowlist\') and config.feature_allowlist.get(\'enabled\', False):\n                                                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: \'types.SimpleNamespace\' object has no attribute \'get\'\n'}
2025-10-13 14:31:41,788 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'configs/features/feature_allowlist.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-13 14:31:41,788 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-13 14:31:41,789 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x73f339f631d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'configs/features/feature_allowlist.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, generate_feature_audit=True, save_feature_audit=True, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/feature_audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/pruning_reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-13 14:31:41,789 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-13 14:31:41,789 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-13 14:31:41,934 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-13 14:31:41,934 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1454296112060547, 'status': 'success'}
2025-10-13 14:31:41,934 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:41,934 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:41,934 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03003716468811035, 'status': 'success'}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:41,964 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-13 14:31:41,983 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:41,984 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-13 14:31:42,610 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 323)}
2025-10-13 14:31:42,611 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:42,723 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 373)}
2025-10-13 14:31:42,723 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:42,733 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-13 14:31:42,733 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:42,795 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 374)}
2025-10-13 14:31:42,799 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:42,800 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-13 14:31:43,101 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 308)}
2025-10-13 14:31:43,102 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:43,222 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 656)}
2025-10-13 14:31:43,223 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:43,228 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-13 14:31:43,228 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:43,368 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 657)}
2025-10-13 14:31:43,374 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:43,374 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-13 14:31:43,670 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 308)}
2025-10-13 14:31:43,670 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:43,880 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 939)}
2025-10-13 14:31:43,881 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:43,887 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-13 14:31:43,887 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:44,202 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 940)}
2025-10-13 14:31:44,203 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:31:44,297 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 941)}
2025-10-13 14:31:44,298 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 941)}
2025-10-13 14:31:44,383 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-13 14:32:12,739 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-13 14:32:12,739 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-13 14:32:12,741 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.44250178337097, 'status': 'success'}
2025-10-13 14:32:12,742 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 944)}
2025-10-13 14:32:13,503 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-13 14:32:13,503 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-13 14:32:13,503 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 944)}
2025-10-13 14:32:13,503 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.53867793083191, 'status': 'success'}
2025-10-13 14:32:13,503 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:13,503 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 944)}
2025-10-13 14:32:14,677 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 1758)}
2025-10-13 14:32:14,678 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1752722263336182, 'status': 'success'}
2025-10-13 14:32:14,679 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:14,680 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 1758)}
2025-10-13 14:32:14,806 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-13 14:32:14,806 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12631487846374512, 'status': 'success'}
2025-10-13 14:32:14,807 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-13 14:32:14,807 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9087066650390625e-05, 'status': 'success'}
2025-10-13 14:32:32,860 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:32,860 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 18.053571462631226, 'status': 'success'}
2025-10-13 14:32:32,860 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:32,860 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:33,091 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 1764), 'validation_shape': (984, 1764)}
2025-10-13 14:32:33,092 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.2316761016845703, 'status': 'success'}
2025-10-13 14:32:33,092 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:33,092 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.5987625122070312e-05, 'status': 'success'}
2025-10-13 14:32:51,949 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.933906555175781e-05, 'status': 'success'}
2025-10-13 14:32:52,725 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:32:52,725 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 19.632487773895264, 'status': 'success'}
2025-10-13 14:32:52,725 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-13 14:34:06,676 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'configs/features/feature_allowlist.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-13 14:34:06,677 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-13 14:34:06,677 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7d11901bea10>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'configs/features/feature_allowlist.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/hyperparameter_history\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, generate_feature_audit=True, save_feature_audit=True, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/feature_audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/pruning_reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-13 14:34:06,677 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-13 14:34:06,677 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-13 14:34:06,817 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-13 14:34:06,817 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13939213752746582, 'status': 'success'}
2025-10-13 14:34:06,817 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:06,817 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:06,817 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028252840042114258, 'status': 'success'}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:06,845 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-13 14:34:06,863 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:06,863 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-13 14:34:07,477 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 323)}
2025-10-13 14:34:07,478 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:07,595 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 373)}
2025-10-13 14:34:07,596 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:07,605 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-13 14:34:07,605 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:07,668 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 374)}
2025-10-13 14:34:07,673 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:07,673 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-13 14:34:07,958 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 308)}
2025-10-13 14:34:07,959 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,069 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 656)}
2025-10-13 14:34:08,069 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,075 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-13 14:34:08,075 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,227 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 657)}
2025-10-13 14:34:08,231 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,231 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-13 14:34:08,505 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 308)}
2025-10-13 14:34:08,506 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,693 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 939)}
2025-10-13 14:34:08,693 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,699 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-13 14:34:08,699 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,892 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 940)}
2025-10-13 14:34:08,893 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:08,973 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 941)}
2025-10-13 14:34:08,974 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 941)}
2025-10-13 14:34:09,047 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-13 14:34:37,181 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-13 14:34:37,181 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-13 14:34:37,182 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.208222150802612, 'status': 'success'}
2025-10-13 14:34:37,184 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 944)}
2025-10-13 14:34:37,831 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-13 14:34:37,831 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-13 14:34:37,831 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 944)}
2025-10-13 14:34:37,831 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.986182689666748, 'status': 'success'}
2025-10-13 14:34:37,831 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:37,831 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 944)}
2025-10-13 14:34:38,971 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 1758)}
2025-10-13 14:34:38,973 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1420271396636963, 'status': 'success'}
2025-10-13 14:34:38,976 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:38,976 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 1758)}
2025-10-13 14:34:39,110 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-13 14:34:39,110 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13425660133361816, 'status': 'success'}
2025-10-13 14:34:39,111 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-13 14:34:39,111 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.38690185546875e-05, 'status': 'success'}
2025-10-13 14:34:58,607 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:58,607 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 19.496703624725342, 'status': 'success'}
2025-10-13 14:34:58,608 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:58,608 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:58,855 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 1764), 'validation_shape': (984, 1764)}
2025-10-13 14:34:58,856 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.24870610237121582, 'status': 'success'}
2025-10-13 14:34:58,856 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:34:58,856 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.2438507080078125e-05, 'status': 'success'}
2025-10-13 14:35:17,400 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.7697296142578125e-05, 'status': 'success'}
2025-10-13 14:35:18,171 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-13 14:35:18,171 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 19.314719200134277, 'status': 'success'}
2025-10-13 14:35:18,171 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-14 08:03:36,364 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-14 08:03:36,364 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-14 08:03:36,365 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7074b03dadd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, generate_feature_audit=True, save_feature_audit=True, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cuda\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-14 08:03:36,365 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-14 08:03:36,365 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-14 08:03:36,531 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-14 08:03:36,531 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.16585278511047363, 'status': 'success'}
2025-10-14 08:03:36,531 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:36,531 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:36,531 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.042925357818603516, 'status': 'success'}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:36,574 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48532, 73), 'export_schema': True}
2025-10-14 08:03:36,595 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:36,595 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-14 08:03:37,263 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 323)}
2025-10-14 08:03:37,263 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:37,378 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 373)}
2025-10-14 08:03:37,379 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:37,389 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 74)}
2025-10-14 08:03:37,389 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:37,453 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 374)}
2025-10-14 08:03:37,457 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:37,458 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-14 08:03:37,753 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 308)}
2025-10-14 08:03:37,753 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:37,889 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 656)}
2025-10-14 08:03:37,890 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:37,896 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-14 08:03:37,896 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:38,040 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 657)}
2025-10-14 08:03:38,045 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:38,045 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-14 08:03:38,352 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 308)}
2025-10-14 08:03:38,353 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:38,646 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 939)}
2025-10-14 08:03:38,647 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:38,653 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 74)}
2025-10-14 08:03:38,653 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:38,860 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 940)}
2025-10-14 08:03:38,861 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:03:38,948 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 941)}
2025-10-14 08:03:38,949 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45466, 941)}
2025-10-14 08:03:39,029 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22733\n1    22733\nName: count, dtype: int64'}
2025-10-14 08:04:06,183 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-14 08:04:06,184 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-14 08:04:06,185 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.23635482788086, 'status': 'success'}
2025-10-14 08:04:06,187 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 944)}
2025-10-14 08:04:06,902 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-14 08:04:06,902 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-14 08:04:06,902 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45466, 944)}
2025-10-14 08:04:06,902 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.32780909538269, 'status': 'success'}
2025-10-14 08:04:06,902 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:06,902 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45466, 944)}
2025-10-14 08:04:07,920 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22733, 1758)}
2025-10-14 08:04:07,923 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0208454132080078, 'status': 'success'}
2025-10-14 08:04:07,924 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:07,924 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22733, 1758)}
2025-10-14 08:04:08,060 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22733, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-14 08:04:08,061 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13649439811706543, 'status': 'success'}
2025-10-14 08:04:08,061 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-14 08:04:08,062 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.218650817871094e-05, 'status': 'success'}
2025-10-14 08:04:26,789 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:26,789 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 18.727410078048706, 'status': 'success'}
2025-10-14 08:04:26,789 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:26,789 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:27,023 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21749, 1764), 'validation_shape': (984, 1764)}
2025-10-14 08:04:27,023 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.23430848121643066, 'status': 'success'}
2025-10-14 08:04:27,023 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:27,023 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0279159545898438e-05, 'status': 'success'}
2025-10-14 08:04:43,553 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.363059997558594e-05, 'status': 'success'}
2025-10-14 08:04:44,379 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-14 08:04:44,379 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 17.355688095092773, 'status': 'success'}
2025-10-14 08:04:44,379 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-23 07:57:44,713 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-23 07:57:44,713 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-23 07:57:44,713 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-23 07:57:44,714 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x74506d3cea50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/cumulative_scraped/box_scores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-23 07:57:44,714 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-23 07:57:44,714 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-23 07:57:44,855 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-23 07:57:44,855 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14108943939208984, 'status': 'success'}
2025-10-23 07:57:44,855 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,855 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,855 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03177189826965332, 'status': 'success'}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,887 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,888 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 07:57:44,888 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 07:57:44,888 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2, 'date': '2025-10-23'}
2025-10-23 07:57:44,894 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 4, 'num_games': 2}
2025-10-23 07:57:44,894 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48532, 'todays_rows': 4}
2025-10-23 07:57:44,897 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,897 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48536, 73), 'export_schema': True}
2025-10-23 07:57:44,937 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:44,937 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-23 07:57:45,559 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 323)}
2025-10-23 07:57:45,560 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:45,676 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 373)}
2025-10-23 07:57:45,677 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:45,686 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 74)}
2025-10-23 07:57:45,686 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:45,745 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 374)}
2025-10-23 07:57:45,754 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:45,754 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-23 07:57:46,037 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 07:57:46,038 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:46,151 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 656)}
2025-10-23 07:57:46,151 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:46,157 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 07:57:46,157 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:46,297 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 657)}
2025-10-23 07:57:46,305 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:46,305 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-23 07:57:46,602 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 07:57:46,603 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:46,798 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 939)}
2025-10-23 07:57:46,798 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:46,804 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 07:57:46,804 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:47,053 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 940)}
2025-10-23 07:57:47,054 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:57:47,137 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 941)}
2025-10-23 07:57:47,138 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45470, 941)}
2025-10-23 07:57:47,210 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22735\n1    22735\nName: count, dtype: int64'}
2025-10-23 07:58:15,761 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-23 07:58:15,762 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-23 07:58:15,764 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.62544584274292, 'status': 'success'}
2025-10-23 07:58:15,765 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 07:58:16,440 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-23 07:58:16,440 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-23 07:58:16,440 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944)}
2025-10-23 07:58:16,440 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.542778253555298, 'status': 'success'}
2025-10-23 07:58:16,440 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:16,440 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 07:58:17,403 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22735, 1758)}
2025-10-23 07:58:17,406 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9652786254882812, 'status': 'success'}
2025-10-23 07:58:17,407 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:17,407 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22735, 1758)}
2025-10-23 07:58:17,557 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-23 07:58:17,557 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15016722679138184, 'status': 'success'}
2025-10-23 07:58:17,558 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-23 07:58:17,558 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.075599670410156e-05, 'status': 'success'}
2025-10-23 07:58:36,069 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:36,069 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 18.510596990585327, 'status': 'success'}
2025-10-23 07:58:36,069 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:36,069 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:36,307 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21996, 1764), 'validation_shape': (739, 1764)}
2025-10-23 07:58:36,308 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.23928618431091309, 'status': 'success'}
2025-10-23 07:58:36,308 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:36,308 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.6464462280273438e-05, 'status': 'success'}
2025-10-23 07:58:54,017 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.100799560546875e-05, 'status': 'success'}
2025-10-23 07:58:54,636 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 07:58:54,636 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 18.32747173309326, 'status': 'success'}
2025-10-23 07:58:54,636 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-23 08:08:27,629 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-23 08:08:27,629 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-23 08:08:27,629 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-23 08:08:27,629 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x71a1397f5b50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/cumulative_scraped/box_scores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-23 08:08:27,630 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:08:27,630 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:08:27,767 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-23 08:08:27,767 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13726162910461426, 'status': 'success'}
2025-10-23 08:08:27,767 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,767 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,767 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02899646759033203, 'status': 'success'}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,796 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,797 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:08:27,797 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:08:27,797 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2, 'date': '2025-10-23'}
2025-10-23 08:08:27,802 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 4, 'num_games': 2}
2025-10-23 08:08:27,802 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48532, 'todays_rows': 4}
2025-10-23 08:08:27,806 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,806 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48536, 73), 'export_schema': True}
2025-10-23 08:08:27,846 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:27,846 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-23 08:08:28,471 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 323)}
2025-10-23 08:08:28,472 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:28,586 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 373)}
2025-10-23 08:08:28,587 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:28,597 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 74)}
2025-10-23 08:08:28,597 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:28,657 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 374)}
2025-10-23 08:08:28,666 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:28,666 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:08:28,968 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:08:28,968 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:29,107 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 656)}
2025-10-23 08:08:29,107 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:29,113 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:08:29,113 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:29,248 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 657)}
2025-10-23 08:08:29,255 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:29,255 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:08:29,551 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:08:29,551 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:29,746 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 939)}
2025-10-23 08:08:29,747 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:29,753 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:08:29,753 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:30,001 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 940)}
2025-10-23 08:08:30,002 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:30,081 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 941)}
2025-10-23 08:08:30,082 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45470, 941)}
2025-10-23 08:08:30,152 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22735\n1    22735\nName: count, dtype: int64'}
2025-10-23 08:08:58,499 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-23 08:08:58,499 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-23 08:08:58,501 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.418692588806152, 'status': 'success'}
2025-10-23 08:08:58,502 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:08:59,173 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-23 08:08:59,173 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-23 08:08:59,173 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944)}
2025-10-23 08:08:59,173 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.366558074951172, 'status': 'success'}
2025-10-23 08:08:59,173 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:08:59,173 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:09:00,142 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22735, 1758)}
2025-10-23 08:09:00,146 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9729101657867432, 'status': 'success'}
2025-10-23 08:09:00,147 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:00,147 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22735, 1758)}
2025-10-23 08:09:00,272 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-23 08:09:00,272 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12459945678710938, 'status': 'success'}
2025-10-23 08:09:00,273 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:00,273 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'original_feature_count': 1762, 'kept_feature_count': 849, 'removed_feature_count': 913, 'allowlist_size': 849}
2025-10-23 08:09:00,331 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-23 08:09:00,331 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.172325134277344e-05, 'status': 'success'}
2025-10-23 08:09:11,942 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:11,942 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.61121940612793, 'status': 'success'}
2025-10-23 08:09:11,942 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:11,942 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:12,010 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21996, 851), 'validation_shape': (739, 851)}
2025-10-23 08:09:12,011 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.06847691535949707, 'status': 'success'}
2025-10-23 08:09:12,011 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:12,011 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.6226043701171875e-05, 'status': 'success'}
2025-10-23 08:09:23,097 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.57763671875e-05, 'status': 'success'}
2025-10-23 08:09:23,472 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:09:23,472 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.46160078048706, 'status': 'success'}
2025-10-23 08:09:23,473 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-23 08:10:32,198 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-23 08:10:32,198 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-23 08:10:32,198 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-23 08:10:32,199 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7a35fa9bb350>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/cumulative_scraped/box_scores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-23 08:10:32,199 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:10:32,199 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:10:32,337 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-23 08:10:32,337 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13788843154907227, 'status': 'success'}
2025-10-23 08:10:32,337 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,337 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,337 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,365 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:10:32,366 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,366 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-23 08:10:32,366 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:10:32,366 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0288846492767334, 'status': 'success'}
2025-10-23 08:10:32,366 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,366 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,367 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:10:32,367 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:10:32,367 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2, 'date': '2025-10-23'}
2025-10-23 08:10:32,372 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 4, 'num_games': 2}
2025-10-23 08:10:32,372 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48532, 'todays_rows': 4}
2025-10-23 08:10:32,376 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,376 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48536, 73), 'export_schema': True}
2025-10-23 08:10:32,417 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:32,417 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-23 08:10:33,055 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 323)}
2025-10-23 08:10:33,055 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,170 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 373)}
2025-10-23 08:10:33,170 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,179 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 74)}
2025-10-23 08:10:33,179 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,240 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 374)}
2025-10-23 08:10:33,248 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,248 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:10:33,553 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:10:33,553 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,681 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 656)}
2025-10-23 08:10:33,682 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,687 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:10:33,688 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,820 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 657)}
2025-10-23 08:10:33,828 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:33,828 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:10:34,122 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:10:34,122 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:34,321 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 939)}
2025-10-23 08:10:34,322 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:34,328 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:10:34,328 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:34,573 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 940)}
2025-10-23 08:10:34,574 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:10:34,655 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 941)}
2025-10-23 08:10:34,656 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45470, 941)}
2025-10-23 08:10:34,723 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22735\n1    22735\nName: count, dtype: int64'}
2025-10-23 08:11:03,070 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-23 08:11:03,070 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-23 08:11:03,072 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.4160053730011, 'status': 'success'}
2025-10-23 08:11:03,073 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:11:03,736 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-23 08:11:03,736 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-23 08:11:03,736 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944)}
2025-10-23 08:11:03,736 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.36001491546631, 'status': 'success'}
2025-10-23 08:11:03,736 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:03,736 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:11:04,680 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22735, 1758)}
2025-10-23 08:11:04,683 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9470629692077637, 'status': 'success'}
2025-10-23 08:11:04,684 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:04,684 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22735, 1758)}
2025-10-23 08:11:04,807 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-23 08:11:04,807 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12328410148620605, 'status': 'success'}
2025-10-23 08:11:04,808 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:04,809 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'original_feature_count': 1761, 'kept_feature_count': 849, 'removed_feature_count': 912, 'allowlist_size': 849}
2025-10-23 08:11:04,833 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-23 08:11:04,834 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8848648071289062e-05, 'status': 'success'}
2025-10-23 08:11:16,396 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:16,397 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.563009023666382, 'status': 'success'}
2025-10-23 08:11:16,397 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:16,397 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:16,472 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21996, 852), 'validation_shape': (739, 852)}
2025-10-23 08:11:16,472 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.07542538642883301, 'status': 'success'}
2025-10-23 08:11:16,472 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:16,472 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8848648071289062e-05, 'status': 'success'}
2025-10-23 08:11:27,641 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.076957702636719e-05, 'status': 'success'}
2025-10-23 08:11:28,018 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:11:28,018 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.54621696472168, 'status': 'success'}
2025-10-23 08:11:28,018 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-23 08:17:34,306 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-23 08:17:34,306 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-23 08:17:34,306 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-23 08:17:34,306 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x719bb06a13d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/cumulative_scraped/box_scores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-23 08:17:34,306 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:17:34,306 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:17:34,442 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-23 08:17:34,443 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13619637489318848, 'status': 'success'}
2025-10-23 08:17:34,443 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,443 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,443 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02868342399597168, 'status': 'success'}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,471 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,472 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:17:34,472 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:17:34,473 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2, 'date': '2025-10-23'}
2025-10-23 08:17:34,478 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 4, 'num_games': 2}
2025-10-23 08:17:34,478 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48532, 'todays_rows': 4}
2025-10-23 08:17:34,482 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,482 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48536, 73), 'export_schema': True}
2025-10-23 08:17:34,520 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:34,521 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-23 08:17:35,137 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 323)}
2025-10-23 08:17:35,137 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,253 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 373)}
2025-10-23 08:17:35,253 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,262 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 74)}
2025-10-23 08:17:35,262 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,320 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 374)}
2025-10-23 08:17:35,327 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,328 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:17:35,616 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:17:35,616 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,731 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 656)}
2025-10-23 08:17:35,731 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,737 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:17:35,738 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,884 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 657)}
2025-10-23 08:17:35,892 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:35,893 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:17:36,188 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:17:36,189 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:36,377 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 939)}
2025-10-23 08:17:36,378 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:36,385 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:17:36,385 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:36,647 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 940)}
2025-10-23 08:17:36,648 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:17:36,724 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 941)}
2025-10-23 08:17:36,725 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45470, 941)}
2025-10-23 08:17:36,793 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22735\n1    22735\nName: count, dtype: int64'}
2025-10-23 08:18:05,095 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-23 08:18:05,095 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-23 08:18:05,096 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.37083649635315, 'status': 'success'}
2025-10-23 08:18:05,098 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:18:05,758 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-23 08:18:05,759 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-23 08:18:05,759 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944)}
2025-10-23 08:18:05,759 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.276880264282227, 'status': 'success'}
2025-10-23 08:18:05,759 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:05,759 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:18:06,707 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22735, 1758)}
2025-10-23 08:18:06,709 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9504823684692383, 'status': 'success'}
2025-10-23 08:18:06,710 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:06,710 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22735, 1758)}
2025-10-23 08:18:06,827 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-23 08:18:06,827 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11695408821105957, 'status': 'success'}
2025-10-23 08:18:06,828 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:06,828 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_team', 'h_match_up', 'h_is_win', 'v_team', 'v_match_up'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-23 08:18:06,829 - ml_framework.core.app_logging.app_logger - CRITICAL - Unexpected error occurred | Context: {'error_message': "name 'kept_features' is not defined", 'error_type': 'NameError', 'traceback': 'Traceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/main.py", line 132, in main\n    engineered_dataframe = feature_engineer.apply_feature_allowlist(engineered_dataframe)\n                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/feature_engineer.py", line 813, in apply_feature_allowlist\n    missing_from_df = self.feature_allowlist - set(kept_features)\n                                                   ^^^^^^^^^^^^^\nNameError: name \'kept_features\' is not defined\n'}
2025-10-23 08:18:20,060 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-23 08:18:20,060 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-23 08:18:20,060 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-23 08:18:20,061 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x748c3d794dd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/cumulative_scraped/box_scores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-23 08:18:20,061 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:18:20,061 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-23 08:18:20,209 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48532, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-23 08:18:20,209 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14827799797058105, 'status': 'success'}
2025-10-23 08:18:20,209 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,209 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,209 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48532, 'columns': 73}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0300290584564209, 'status': 'success'}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,239 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,241 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:18:20,241 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2}
2025-10-23 08:18:20,241 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 2, 'date': '2025-10-23'}
2025-10-23 08:18:20,247 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 4, 'num_games': 2}
2025-10-23 08:18:20,247 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48532, 'todays_rows': 4}
2025-10-23 08:18:20,251 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,252 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48536, 73), 'export_schema': True}
2025-10-23 08:18:20,296 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:20,296 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-23 08:18:20,976 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 323)}
2025-10-23 08:18:20,976 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,100 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 373)}
2025-10-23 08:18:21,101 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,110 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 74)}
2025-10-23 08:18:21,111 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,178 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 374)}
2025-10-23 08:18:21,186 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,187 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:18:21,486 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:18:21,487 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,617 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 656)}
2025-10-23 08:18:21,617 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,623 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:18:21,623 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,758 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 657)}
2025-10-23 08:18:21,768 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:21,768 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-23 08:18:22,094 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 308)}
2025-10-23 08:18:22,094 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:22,325 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 939)}
2025-10-23 08:18:22,326 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:22,332 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 74)}
2025-10-23 08:18:22,332 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:22,537 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 940)}
2025-10-23 08:18:22,538 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:22,636 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 941)}
2025-10-23 08:18:22,637 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45470, 941)}
2025-10-23 08:18:22,722 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22735\n1    22735\nName: count, dtype: int64'}
2025-10-23 08:18:51,096 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-23 08:18:51,096 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-23 08:18:51,098 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.460996627807617, 'status': 'success'}
2025-10-23 08:18:51,099 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:18:51,792 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-23 08:18:51,792 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-23 08:18:51,792 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45470, 944)}
2025-10-23 08:18:51,792 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.540441751480103, 'status': 'success'}
2025-10-23 08:18:51,792 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:51,792 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45470, 944)}
2025-10-23 08:18:52,752 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22735, 1758)}
2025-10-23 08:18:52,754 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9622013568878174, 'status': 'success'}
2025-10-23 08:18:52,756 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:52,756 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22735, 1758)}
2025-10-23 08:18:52,899 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22735, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-23 08:18:52,899 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14286494255065918, 'status': 'success'}
2025-10-23 08:18:52,900 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:18:52,900 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_team', 'h_match_up', 'h_is_win', 'v_team', 'v_match_up'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-23 08:18:52,930 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-23 08:18:52,930 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.4345855712890625e-05, 'status': 'success'}
2025-10-23 08:19:04,785 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:19:04,786 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.85542368888855, 'status': 'success'}
2025-10-23 08:19:04,786 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:19:04,786 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:19:04,883 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (21996, 856), 'validation_shape': (739, 856)}
2025-10-23 08:19:04,884 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09823012351989746, 'status': 'success'}
2025-10-23 08:19:04,884 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:19:04,884 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0279159545898438e-05, 'status': 'success'}
2025-10-23 08:19:16,089 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.7206878662109375e-05, 'status': 'success'}
2025-10-23 08:19:16,472 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-23 08:19:16,472 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.587953805923462, 'status': 'success'}
2025-10-23 08:19:16,472 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-24 11:41:07,367 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-24 11:41:07,367 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-24 11:41:07,368 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-24 11:41:07,368 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7926c4372b10>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/cumulative_scraped/box_scores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/1\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-24 11:41:07,368 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-24 11:41:07,368 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-24 11:41:07,506 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-24 11:41:07,506 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13767051696777344, 'status': 'success'}
2025-10-24 11:41:07,506 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,506 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,506 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028905868530273438, 'status': 'success'}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,535 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,536 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-24 11:41:07,536 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-24 11:41:07,536 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-24'}
2025-10-24 11:41:07,542 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-24 11:41:07,542 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-24 11:41:07,547 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,547 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-24 11:41:07,597 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:07,597 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-24 11:41:08,250 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-24 11:41:08,250 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:08,420 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-24 11:41:08,421 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:08,439 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-24 11:41:08,439 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:08,501 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-24 11:41:08,510 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:08,510 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-24 11:41:08,813 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-24 11:41:08,814 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:08,930 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-24 11:41:08,931 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:08,936 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-24 11:41:08,937 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:09,102 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-24 11:41:09,111 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:09,111 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-24 11:41:09,404 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-24 11:41:09,405 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:09,678 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-24 11:41:09,679 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:09,684 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-24 11:41:09,684 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:09,913 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-24 11:41:09,915 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:09,997 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-24 11:41:09,998 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-24 11:41:10,070 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-24 11:41:38,534 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-24 11:41:38,534 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-24 11:41:38,536 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.53768277168274, 'status': 'success'}
2025-10-24 11:41:38,538 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-24 11:41:39,201 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-24 11:41:39,201 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-24 11:41:39,201 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944)}
2025-10-24 11:41:39,201 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.654373168945312, 'status': 'success'}
2025-10-24 11:41:39,201 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:39,201 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-24 11:41:40,265 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-24 11:41:40,266 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0653316974639893, 'status': 'success'}
2025-10-24 11:41:40,268 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:40,268 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-24 11:41:40,397 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-24 11:41:40,397 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12953686714172363, 'status': 'success'}
2025-10-24 11:41:40,398 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:40,399 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_team', 'h_match_up', 'h_is_win', 'v_team', 'v_match_up'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-24 11:41:40,427 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-24 11:41:40,427 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.075599670410156e-05, 'status': 'success'}
2025-10-24 11:41:51,781 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:51,781 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.354146480560303, 'status': 'success'}
2025-10-24 11:41:51,781 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:51,781 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:51,895 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-24 11:41:51,896 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11428141593933105, 'status': 'success'}
2025-10-24 11:41:51,896 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:41:51,896 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.031990051269531e-05, 'status': 'success'}
2025-10-24 11:42:04,253 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.172325134277344e-05, 'status': 'success'}
2025-10-24 11:42:04,630 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 11:42:04,630 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.734346151351929, 'status': 'success'}
2025-10-24 11:42:04,630 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-24 13:29:19,930 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-24 13:29:19,931 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-24 13:29:19,931 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-24 13:29:19,931 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x78bc853f7c10>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-24 13:29:19,931 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-24 13:29:19,931 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-24 13:29:20,073 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-24 13:29:20,073 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14169549942016602, 'status': 'success'}
2025-10-24 13:29:20,073 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,073 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,073 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03021407127380371, 'status': 'success'}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,103 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,105 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-24 13:29:20,105 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-24 13:29:20,105 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-24'}
2025-10-24 13:29:20,111 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-24 13:29:20,111 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-24 13:29:20,116 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,117 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-24 13:29:20,162 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:20,162 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-24 13:29:20,849 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-24 13:29:20,849 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,018 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-24 13:29:21,018 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,028 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-24 13:29:21,028 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,099 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-24 13:29:21,108 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,109 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-24 13:29:21,414 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-24 13:29:21,414 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,546 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-24 13:29:21,546 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,553 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-24 13:29:21,553 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,693 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-24 13:29:21,700 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:21,701 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-24 13:29:21,980 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-24 13:29:21,980 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:22,176 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-24 13:29:22,177 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:22,182 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-24 13:29:22,183 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:22,363 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-24 13:29:22,364 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:22,442 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-24 13:29:22,443 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-24 13:29:22,513 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-24 13:29:51,661 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-24 13:29:51,661 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-24 13:29:51,663 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.2198326587677, 'status': 'success'}
2025-10-24 13:29:51,664 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-24 13:29:52,320 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-24 13:29:52,320 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-24 13:29:52,320 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944)}
2025-10-24 13:29:52,320 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 32.20382475852966, 'status': 'success'}
2025-10-24 13:29:52,320 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:52,321 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-24 13:29:53,308 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-24 13:29:53,310 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9896817207336426, 'status': 'success'}
2025-10-24 13:29:53,311 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:53,311 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-24 13:29:53,443 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-24 13:29:53,443 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1320183277130127, 'status': 'success'}
2025-10-24 13:29:53,444 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:29:53,445 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_team', 'h_match_up', 'h_is_win', 'v_team', 'v_match_up'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-24 13:29:53,472 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-24 13:29:53,472 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9802322387695312e-05, 'status': 'success'}
2025-10-24 13:30:06,943 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:30:06,944 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.471519947052002, 'status': 'success'}
2025-10-24 13:30:06,944 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:30:06,944 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:30:07,061 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-24 13:30:07,061 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11750197410583496, 'status': 'success'}
2025-10-24 13:30:07,061 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:30:07,061 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.172325134277344e-05, 'status': 'success'}
2025-10-24 13:30:18,086 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.29425048828125e-05, 'status': 'success'}
2025-10-24 13:30:18,463 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-24 13:30:18,463 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.401591539382935, 'status': 'success'}
2025-10-24 13:30:18,463 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 08:38:31,716 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 08:38:31,717 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 08:38:31,717 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 08:38:31,718 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x721122200ed0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 08:38:31,718 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 08:38:31,718 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 08:38:31,865 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 08:38:31,865 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14691710472106934, 'status': 'success'}
2025-10-26 08:38:31,865 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,865 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,865 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03115701675415039, 'status': 'success'}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,896 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,898 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 08:38:31,898 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 08:38:31,898 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-26'}
2025-10-26 08:38:31,903 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-26 08:38:31,903 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-26 08:38:31,907 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,907 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-26 08:38:31,946 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:31,947 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 08:38:32,573 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-26 08:38:32,573 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:32,722 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-26 08:38:32,723 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:32,742 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-26 08:38:32,742 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:32,801 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-26 08:38:32,809 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:32,809 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 08:38:33,087 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 08:38:33,087 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:33,189 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-26 08:38:33,190 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:33,195 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 08:38:33,195 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:33,336 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-26 08:38:33,345 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:33,345 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 08:38:33,626 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 08:38:33,626 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:33,816 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-26 08:38:33,818 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:33,823 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 08:38:33,823 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:34,040 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-26 08:38:34,041 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:38:34,120 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-26 08:38:34,121 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-26 08:38:34,189 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-26 08:39:02,214 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 08:39:02,214 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 08:39:02,216 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.095124006271362, 'status': 'success'}
2025-10-26 08:39:02,218 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 08:39:02,892 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 08:39:02,892 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 08:39:02,892 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944)}
2025-10-26 08:39:02,892 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.98481035232544, 'status': 'success'}
2025-10-26 08:39:02,892 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:02,892 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 08:39:04,241 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-26 08:39:04,248 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.3560869693756104, 'status': 'success'}
2025-10-26 08:39:04,249 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:04,249 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-26 08:39:04,373 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 08:39:04,373 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12391304969787598, 'status': 'success'}
2025-10-26 08:39:04,374 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:04,375 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_team', 'h_match_up', 'h_is_win', 'v_team', 'v_match_up'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 08:39:04,401 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 08:39:04,402 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0279159545898438e-05, 'status': 'success'}
2025-10-26 08:39:16,097 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:16,097 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.695687055587769, 'status': 'success'}
2025-10-26 08:39:16,097 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:16,097 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:16,189 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-26 08:39:16,189 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0919034481048584, 'status': 'success'}
2025-10-26 08:39:16,189 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:16,189 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8848648071289062e-05, 'status': 'success'}
2025-10-26 08:39:27,343 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.5789947509765625e-05, 'status': 'success'}
2025-10-26 08:39:27,724 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 08:39:27,724 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.534502267837524, 'status': 'success'}
2025-10-26 08:39:27,724 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 09:07:41,216 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 09:07:41,216 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 09:07:41,217 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 09:07:41,217 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x70a7d9506910>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 09:07:41,218 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:07:41,218 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:07:41,358 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 09:07:41,358 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1402873992919922, 'status': 'success'}
2025-10-26 09:07:41,358 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,358 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,358 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02993035316467285, 'status': 'success'}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,388 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,389 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:07:41,389 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:07:41,389 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-26'}
2025-10-26 09:07:41,395 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-26 09:07:41,395 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-26 09:07:41,399 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,399 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-26 09:07:41,439 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:41,439 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 09:07:42,124 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-26 09:07:42,124 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,311 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-26 09:07:42,311 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,321 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-26 09:07:42,321 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,389 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-26 09:07:42,398 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,398 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:07:42,702 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:07:42,702 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,823 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-26 09:07:42,824 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,830 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:07:42,830 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,982 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-26 09:07:42,990 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:42,990 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:07:43,298 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:07:43,299 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:43,596 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-26 09:07:43,596 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:43,602 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:07:43,603 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:43,834 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-26 09:07:43,835 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:07:43,918 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-26 09:07:43,919 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-26 09:07:43,991 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-26 09:08:12,806 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 09:08:12,806 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 09:08:12,807 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.888611793518066, 'status': 'success'}
2025-10-26 09:08:12,808 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:08:13,499 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 09:08:13,499 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 09:08:13,553 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 09:08:13,553 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 32.153918743133545, 'status': 'success'}
2025-10-26 09:08:13,553 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:13,553 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:08:15,478 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-26 09:08:15,481 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.9282944202423096, 'status': 'success'}
2025-10-26 09:08:15,482 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:15,482 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-26 09:08:15,679 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 09:08:15,679 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1966235637664795, 'status': 'success'}
2025-10-26 09:08:15,680 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:15,680 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 09:08:15,715 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 09:08:15,715 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.076957702636719e-05, 'status': 'success'}
2025-10-26 09:08:27,315 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:27,315 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.600446224212646, 'status': 'success'}
2025-10-26 09:08:27,315 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:27,315 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:27,383 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-26 09:08:27,383 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.06783556938171387, 'status': 'success'}
2025-10-26 09:08:27,383 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:27,383 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.291534423828125e-05, 'status': 'success'}
2025-10-26 09:08:38,466 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.3392181396484375e-05, 'status': 'success'}
2025-10-26 09:08:38,857 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:08:38,857 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.473682880401611, 'status': 'success'}
2025-10-26 09:08:38,857 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 09:13:12,973 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 09:13:12,973 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 09:13:12,973 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 09:13:12,974 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x717c64272d50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 09:13:12,974 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:13:12,974 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:13:13,115 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 09:13:13,115 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14113569259643555, 'status': 'success'}
2025-10-26 09:13:13,115 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,115 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,115 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028602123260498047, 'status': 'success'}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,144 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,145 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:13:13,145 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:13:13,145 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-26'}
2025-10-26 09:13:13,151 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-26 09:13:13,151 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-26 09:13:13,154 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,155 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-26 09:13:13,196 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,197 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 09:13:13,830 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-26 09:13:13,830 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,986 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-26 09:13:13,986 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:13,995 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-26 09:13:13,995 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:14,057 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-26 09:13:14,065 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:14,066 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:13:14,355 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:13:14,355 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:14,457 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-26 09:13:14,458 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:14,463 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:13:14,464 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:14,622 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-26 09:13:14,633 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:14,633 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:13:14,960 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:13:14,960 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:15,186 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-26 09:13:15,187 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:15,193 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:13:15,193 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:15,391 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-26 09:13:15,392 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:15,474 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-26 09:13:15,475 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-26 09:13:15,547 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-26 09:13:46,388 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 09:13:46,388 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 09:13:46,390 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.9149227142334, 'status': 'success'}
2025-10-26 09:13:46,391 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:13:47,095 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 09:13:47,095 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 09:13:47,157 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 09:13:47,157 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 34.002249240875244, 'status': 'success'}
2025-10-26 09:13:47,157 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:47,157 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:13:49,114 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-26 09:13:49,118 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.961578130722046, 'status': 'success'}
2025-10-26 09:13:49,120 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:49,120 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-26 09:13:49,354 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 09:13:49,354 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.2340104579925537, 'status': 'success'}
2025-10-26 09:13:49,356 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:13:49,356 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 09:13:49,405 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 09:13:49,405 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.246566772460938e-05, 'status': 'success'}
2025-10-26 09:14:02,151 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:14:02,151 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.745881795883179, 'status': 'success'}
2025-10-26 09:14:02,151 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:14:02,151 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:14:02,256 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-26 09:14:02,256 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10540246963500977, 'status': 'success'}
2025-10-26 09:14:02,257 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:14:02,257 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7179718017578125e-05, 'status': 'success'}
2025-10-26 09:14:13,927 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.029273986816406e-05, 'status': 'success'}
2025-10-26 09:14:14,350 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:14:14,350 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.09366774559021, 'status': 'success'}
2025-10-26 09:14:14,350 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 09:22:58,006 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 09:22:58,006 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 09:22:58,006 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 09:22:58,007 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x77feb0897790>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 09:22:58,007 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:22:58,007 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:22:58,145 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 09:22:58,145 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1383800506591797, 'status': 'success'}
2025-10-26 09:22:58,145 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,145 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,145 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,175 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:22:58,176 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,176 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 09:22:58,176 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:22:58,176 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030331850051879883, 'status': 'success'}
2025-10-26 09:22:58,176 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,176 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,177 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:22:58,177 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:22:58,177 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-26'}
2025-10-26 09:22:58,183 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-26 09:22:58,183 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-26 09:22:58,187 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,187 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-26 09:22:58,227 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:58,227 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 09:22:58,877 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-26 09:22:58,877 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,056 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-26 09:22:59,057 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,067 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-26 09:22:59,067 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,156 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-26 09:22:59,165 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,165 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:22:59,555 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:22:59,556 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,725 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-26 09:22:59,726 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,734 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:22:59,734 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,891 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-26 09:22:59,900 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:22:59,900 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:23:00,218 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:23:00,219 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:00,481 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-26 09:23:00,482 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:00,488 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:23:00,488 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:00,704 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-26 09:23:00,705 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:00,788 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-26 09:23:00,789 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-26 09:23:00,859 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-26 09:23:29,373 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 09:23:29,373 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 09:23:29,375 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.585655450820923, 'status': 'success'}
2025-10-26 09:23:29,377 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:23:30,031 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 09:23:30,031 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 09:23:30,087 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 09:23:30,087 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.89963173866272, 'status': 'success'}
2025-10-26 09:23:30,087 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:30,087 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:23:31,372 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-26 09:23:31,374 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.2872517108917236, 'status': 'success'}
2025-10-26 09:23:31,375 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:31,375 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-26 09:23:31,530 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 09:23:31,530 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15465927124023438, 'status': 'success'}
2025-10-26 09:23:31,530 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:31,531 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 09:23:31,557 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 09:23:31,557 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.218650817871094e-05, 'status': 'success'}
2025-10-26 09:23:43,834 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:43,834 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.277155637741089, 'status': 'success'}
2025-10-26 09:23:43,834 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:43,834 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:43,919 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-26 09:23:43,919 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.08490276336669922, 'status': 'success'}
2025-10-26 09:23:43,919 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:43,919 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.719329833984375e-05, 'status': 'success'}
2025-10-26 09:23:55,631 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.933906555175781e-05, 'status': 'success'}
2025-10-26 09:23:56,029 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:23:56,029 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.109781742095947, 'status': 'success'}
2025-10-26 09:23:56,029 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 09:26:22,131 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 09:26:22,131 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 09:26:22,131 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 09:26:22,132 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x74feea7c2c90>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 09:26:22,132 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:26:22,132 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 09:26:22,273 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 09:26:22,273 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14108586311340332, 'status': 'success'}
2025-10-26 09:26:22,273 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,273 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,273 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,300 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:26:22,301 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,301 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 09:26:22,301 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 09:26:22,301 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02776050567626953, 'status': 'success'}
2025-10-26 09:26:22,301 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,301 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,302 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:26:22,302 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 09:26:22,302 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-26'}
2025-10-26 09:26:22,308 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-26 09:26:22,308 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-26 09:26:22,312 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,312 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-26 09:26:22,352 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:22,352 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 09:26:22,991 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-26 09:26:22,992 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,140 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-26 09:26:23,141 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,151 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-26 09:26:23,151 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,211 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-26 09:26:23,219 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,219 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:26:23,534 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:26:23,534 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,647 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-26 09:26:23,647 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,654 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:26:23,654 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,789 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-26 09:26:23,797 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:23,797 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 09:26:24,097 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 09:26:24,097 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:24,308 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-26 09:26:24,308 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:24,314 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 09:26:24,315 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:24,525 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-26 09:26:24,526 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:24,604 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-26 09:26:24,604 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-26 09:26:24,674 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-26 09:26:53,307 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 09:26:53,307 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 09:26:53,309 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.70480465888977, 'status': 'success'}
2025-10-26 09:26:53,311 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:26:54,015 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 09:26:54,015 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 09:26:54,071 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 09:26:54,071 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.758624792099, 'status': 'success'}
2025-10-26 09:26:54,071 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:54,071 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 09:26:55,232 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-26 09:26:55,234 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.163008689880371, 'status': 'success'}
2025-10-26 09:26:55,235 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:55,235 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-26 09:26:55,364 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 09:26:55,364 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12858366966247559, 'status': 'success'}
2025-10-26 09:26:55,364 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:26:55,365 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 09:26:55,393 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 09:26:55,393 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.314018249511719e-05, 'status': 'success'}
2025-10-26 09:27:07,053 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:27:07,053 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.659761667251587, 'status': 'success'}
2025-10-26 09:27:07,053 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:27:07,053 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:27:07,151 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-26 09:27:07,152 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09859919548034668, 'status': 'success'}
2025-10-26 09:27:07,152 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:27:07,152 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8133392333984375e-05, 'status': 'success'}
2025-10-26 09:27:18,675 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.38690185546875e-05, 'status': 'success'}
2025-10-26 09:27:19,068 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 09:27:19,068 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.916651725769043, 'status': 'success'}
2025-10-26 09:27:19,068 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 13:57:18,560 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 13:57:18,561 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 13:57:18,561 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 13:57:18,561 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7f8d2bd1bdd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/games_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 13:57:18,561 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 13:57:18,561 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 13:57:18,682 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48564, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 13:57:18,682 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12095069885253906, 'status': 'success'}
2025-10-26 13:57:18,682 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,682 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,682 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,712 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 13:57:18,713 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,713 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 13:57:18,713 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48564, 'columns': 73}
2025-10-26 13:57:18,713 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0302734375, 'status': 'success'}
2025-10-26 13:57:18,713 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,713 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,714 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 13:57:18,714 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-10-26 13:57:18,714 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-10-26'}
2025-10-26 13:57:18,720 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-10-26 13:57:18,720 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48564, 'todays_rows': 24}
2025-10-26 13:57:18,724 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,724 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48588, 73), 'export_schema': True}
2025-10-26 13:57:18,758 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:18,758 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 13:57:19,387 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 323)}
2025-10-26 13:57:19,387 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:19,536 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 373)}
2025-10-26 13:57:19,536 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:19,546 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 74)}
2025-10-26 13:57:19,546 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:19,606 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 374)}
2025-10-26 13:57:19,614 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:19,614 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 13:57:19,927 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 13:57:19,927 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,037 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 656)}
2025-10-26 13:57:20,038 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,044 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 13:57:20,044 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,187 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 657)}
2025-10-26 13:57:20,194 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,195 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 13:57:20,488 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 308)}
2025-10-26 13:57:20,488 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,688 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 939)}
2025-10-26 13:57:20,689 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,695 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 74)}
2025-10-26 13:57:20,696 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,883 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 940)}
2025-10-26 13:57:20,884 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:20,964 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 941)}
2025-10-26 13:57:20,965 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45522, 941)}
2025-10-26 13:57:21,036 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22761\n1    22761\nName: count, dtype: int64'}
2025-10-26 13:57:49,353 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 13:57:49,353 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 13:57:49,355 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.389395713806152, 'status': 'success'}
2025-10-26 13:57:49,356 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 13:57:50,026 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 13:57:50,026 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 13:57:50,080 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45522, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 13:57:50,080 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.356093406677246, 'status': 'success'}
2025-10-26 13:57:50,080 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:50,080 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45522, 944)}
2025-10-26 13:57:51,013 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22761, 1758)}
2025-10-26 13:57:51,016 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9354197978973389, 'status': 'success'}
2025-10-26 13:57:51,017 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:51,017 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22761, 1758)}
2025-10-26 13:57:51,133 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22761, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 13:57:51,134 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11695742607116699, 'status': 'success'}
2025-10-26 13:57:51,134 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:57:51,135 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 13:57:51,161 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 13:57:51,162 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0040740966796875e-05, 'status': 'success'}
2025-10-26 13:58:02,813 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:58:02,813 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.65118932723999, 'status': 'success'}
2025-10-26 13:58:02,813 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:58:02,813 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:58:02,942 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22017, 856), 'validation_shape': (744, 856)}
2025-10-26 13:58:02,943 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13003158569335938, 'status': 'success'}
2025-10-26 13:58:02,943 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:58:02,943 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0517578125e-05, 'status': 'success'}
2025-10-26 13:58:14,099 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.00014138221740722656, 'status': 'success'}
2025-10-26 13:58:14,486 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 13:58:14,486 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.543379068374634, 'status': 'success'}
2025-10-26 13:58:14,486 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 15:18:41,542 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 15:18:41,543 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 15:18:41,543 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 15:18:41,543 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x798eed6dab50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 15:18:41,543 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 15:18:41,543 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 15:18:41,679 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48598, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 15:18:41,679 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13520169258117676, 'status': 'success'}
2025-10-26 15:18:41,679 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,679 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,679 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,707 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48598, 'columns': 73}
2025-10-26 15:18:41,708 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,708 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 15:18:41,708 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48598, 'columns': 73}
2025-10-26 15:18:41,708 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028986215591430664, 'status': 'success'}
2025-10-26 15:18:41,708 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,708 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,710 - ml_framework.core.app_logging.app_logger - ERROR - Error loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'DataStorageError', 'original_error': 'Mismatch between matchups (9) and game IDs (7)'}
2025-10-26 15:18:41,710 - ml_framework.core.app_logging.app_logger - WARNING - Could not load today's matchups - proceeding with historical data only | Context: {'app_version': '1.0.0', 'environment': 'development', 'error': "Error loading today's matchups"}
2025-10-26 15:18:41,710 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,710 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48598, 73), 'export_schema': True}
2025-10-26 15:18:41,729 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:41,729 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 15:18:42,359 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 323)}
2025-10-26 15:18:42,360 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:42,470 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 373)}
2025-10-26 15:18:42,470 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:42,489 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 74)}
2025-10-26 15:18:42,489 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:42,548 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 374)}
2025-10-26 15:18:42,552 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:42,552 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 15:18:42,854 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 308)}
2025-10-26 15:18:42,855 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:42,987 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 656)}
2025-10-26 15:18:42,987 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:42,993 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 74)}
2025-10-26 15:18:42,993 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:43,135 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 657)}
2025-10-26 15:18:43,139 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:43,139 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 15:18:43,432 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 308)}
2025-10-26 15:18:43,433 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:43,631 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 939)}
2025-10-26 15:18:43,632 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:43,638 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 74)}
2025-10-26 15:18:43,638 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:43,862 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 940)}
2025-10-26 15:18:43,864 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:18:43,942 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 941)}
2025-10-26 15:18:43,943 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45532, 941)}
2025-10-26 15:18:44,014 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22766\n1    22766\nName: count, dtype: int64'}
2025-10-26 15:19:12,243 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 15:19:12,243 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 15:19:12,245 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.301467895507812, 'status': 'success'}
2025-10-26 15:19:12,246 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45532, 944)}
2025-10-26 15:19:12,908 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 15:19:12,908 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 15:19:12,963 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 15:19:12,963 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.253180742263794, 'status': 'success'}
2025-10-26 15:19:12,963 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:12,963 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45532, 944)}
2025-10-26 15:19:13,921 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22766, 1758)}
2025-10-26 15:19:13,923 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.960007905960083, 'status': 'success'}
2025-10-26 15:19:13,925 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:13,925 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22766, 1758)}
2025-10-26 15:19:14,047 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 15:19:14,047 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12195754051208496, 'status': 'success'}
2025-10-26 15:19:14,048 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:14,048 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 15:19:14,074 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 15:19:14,074 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.719329833984375e-05, 'status': 'success'}
2025-10-26 15:19:25,541 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:25,541 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.467191934585571, 'status': 'success'}
2025-10-26 15:19:25,541 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:25,541 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:25,631 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22021, 856), 'validation_shape': (745, 856)}
2025-10-26 15:19:25,631 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09001421928405762, 'status': 'success'}
2025-10-26 15:19:25,631 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:25,631 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8371810913085938e-05, 'status': 'success'}
2025-10-26 15:19:36,876 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.5299530029296875e-05, 'status': 'success'}
2025-10-26 15:19:37,263 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:19:37,263 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.631624460220337, 'status': 'success'}
2025-10-26 15:19:37,263 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 15:26:35,370 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 15:26:35,370 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 15:26:35,370 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 15:26:35,371 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x71d674de59d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 15:26:35,371 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 15:26:35,371 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 15:26:35,484 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48598, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 15:26:35,484 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11343932151794434, 'status': 'success'}
2025-10-26 15:26:35,484 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,484 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,484 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48598, 'columns': 73}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48598, 'columns': 73}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02848076820373535, 'status': 'success'}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,513 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,514 - ml_framework.core.app_logging.app_logger - ERROR - Error loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'DataStorageError', 'original_error': 'Mismatch between matchups (9) and game IDs (7)'}
2025-10-26 15:26:35,514 - ml_framework.core.app_logging.app_logger - WARNING - Could not load today's matchups - proceeding with historical data only | Context: {'app_version': '1.0.0', 'environment': 'development', 'error': "Error loading today's matchups"}
2025-10-26 15:26:35,514 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,514 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48598, 73), 'export_schema': True}
2025-10-26 15:26:35,527 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:35,527 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 15:26:36,161 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 323)}
2025-10-26 15:26:36,162 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,272 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 373)}
2025-10-26 15:26:36,273 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,282 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 74)}
2025-10-26 15:26:36,283 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,341 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 374)}
2025-10-26 15:26:36,345 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,346 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 15:26:36,645 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 308)}
2025-10-26 15:26:36,646 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,769 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 656)}
2025-10-26 15:26:36,770 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,775 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 74)}
2025-10-26 15:26:36,776 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,909 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 657)}
2025-10-26 15:26:36,913 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:36,913 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 15:26:37,204 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 308)}
2025-10-26 15:26:37,205 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:37,414 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 939)}
2025-10-26 15:26:37,414 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:37,420 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 74)}
2025-10-26 15:26:37,421 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:37,605 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 940)}
2025-10-26 15:26:37,606 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:26:37,685 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 941)}
2025-10-26 15:26:37,686 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45532, 941)}
2025-10-26 15:26:37,756 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22766\n1    22766\nName: count, dtype: int64'}
2025-10-26 15:27:05,946 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 15:27:05,946 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 15:27:05,948 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.26227307319641, 'status': 'success'}
2025-10-26 15:27:05,949 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45532, 944)}
2025-10-26 15:27:06,628 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 15:27:06,628 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 15:27:06,685 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45532, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 15:27:06,685 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.17128276824951, 'status': 'success'}
2025-10-26 15:27:06,685 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:06,685 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45532, 944)}
2025-10-26 15:27:07,648 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22766, 1758)}
2025-10-26 15:27:07,650 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9648215770721436, 'status': 'success'}
2025-10-26 15:27:07,651 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:07,651 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22766, 1758)}
2025-10-26 15:27:07,772 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22766, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 15:27:07,772 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12102007865905762, 'status': 'success'}
2025-10-26 15:27:07,773 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:07,774 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 15:27:07,800 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 15:27:07,800 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0994415283203125e-05, 'status': 'success'}
2025-10-26 15:27:19,475 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:19,475 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.675127267837524, 'status': 'success'}
2025-10-26 15:27:19,475 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:19,475 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:19,572 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22021, 856), 'validation_shape': (745, 856)}
2025-10-26 15:27:19,572 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0973367691040039, 'status': 'success'}
2025-10-26 15:27:19,573 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:19,573 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7179718017578125e-05, 'status': 'success'}
2025-10-26 15:27:30,599 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.6253204345703125e-05, 'status': 'success'}
2025-10-26 15:27:31,084 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:27:31,084 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.511540412902832, 'status': 'success'}
2025-10-26 15:27:31,084 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-26 15:32:15,734 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-26 15:32:15,735 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-26 15:32:15,735 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-26 15:32:15,735 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x72e1522c34d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-26 15:32:15,735 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-26 15:32:15,735 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-26 15:32:15,854 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48598, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-26 15:32:15,854 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11916279792785645, 'status': 'success'}
2025-10-26 15:32:15,854 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,854 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,854 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48598, 'columns': 73}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48598, 'columns': 73}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028874874114990234, 'status': 'success'}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,883 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,884 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 7}
2025-10-26 15:32:15,884 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 7}
2025-10-26 15:32:15,885 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 7, 'date': '2025-10-26'}
2025-10-26 15:32:15,890 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 14, 'num_games': 7}
2025-10-26 15:32:15,890 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48598, 'todays_rows': 14}
2025-10-26 15:32:15,895 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,895 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48612, 73), 'export_schema': True}
2025-10-26 15:32:15,928 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:15,928 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-26 15:32:16,598 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 323)}
2025-10-26 15:32:16,599 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:16,716 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 373)}
2025-10-26 15:32:16,717 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:16,726 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 74)}
2025-10-26 15:32:16,727 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:16,785 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 374)}
2025-10-26 15:32:16,793 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:16,793 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-26 15:32:17,091 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22773, 308)}
2025-10-26 15:32:17,092 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:17,211 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 656)}
2025-10-26 15:32:17,212 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:17,217 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22773, 74)}
2025-10-26 15:32:17,218 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:17,360 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 657)}
2025-10-26 15:32:17,368 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:17,368 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-26 15:32:17,658 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22773, 308)}
2025-10-26 15:32:17,659 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:17,866 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 939)}
2025-10-26 15:32:17,866 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:17,872 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22773, 74)}
2025-10-26 15:32:17,872 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:18,054 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 940)}
2025-10-26 15:32:18,055 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:18,133 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 941)}
2025-10-26 15:32:18,134 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45546, 941)}
2025-10-26 15:32:18,202 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22773\n1    22773\nName: count, dtype: int64'}
2025-10-26 15:32:46,625 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-26 15:32:46,625 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-26 15:32:46,627 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.493048667907715, 'status': 'success'}
2025-10-26 15:32:46,628 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45546, 944)}
2025-10-26 15:32:47,292 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-26 15:32:47,293 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-26 15:32:47,348 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45546, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-26 15:32:47,349 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.4539692401886, 'status': 'success'}
2025-10-26 15:32:47,349 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:47,349 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45546, 944)}
2025-10-26 15:32:48,290 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22773, 1758)}
2025-10-26 15:32:48,292 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9435055255889893, 'status': 'success'}
2025-10-26 15:32:48,293 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:48,293 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22773, 1758)}
2025-10-26 15:32:48,411 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22773, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-26 15:32:48,411 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11816096305847168, 'status': 'success'}
2025-10-26 15:32:48,412 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:48,413 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-26 15:32:48,439 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-26 15:32:48,439 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.170967102050781e-05, 'status': 'success'}
2025-10-26 15:32:59,890 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:59,890 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.450772047042847, 'status': 'success'}
2025-10-26 15:32:59,890 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:59,890 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:59,981 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22027, 856), 'validation_shape': (746, 856)}
2025-10-26 15:32:59,981 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0911705493927002, 'status': 'success'}
2025-10-26 15:32:59,981 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:32:59,981 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0279159545898438e-05, 'status': 'success'}
2025-10-26 15:33:11,319 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.839897155761719e-05, 'status': 'success'}
2025-10-26 15:33:11,696 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-26 15:33:11,696 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.714821100234985, 'status': 'success'}
2025-10-26 15:33:11,696 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-27 07:32:38,885 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-27 07:32:38,885 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-27 07:32:38,885 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-27 07:32:38,886 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x70762d18cf50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_confidence_threshold=0.75), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Confidence\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.2), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=50, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-27 07:32:38,886 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-27 07:32:38,886 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-27 07:32:38,998 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48616, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-27 07:32:38,998 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11260032653808594, 'status': 'success'}
2025-10-27 07:32:38,998 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:38,998 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:38,998 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48616, 'columns': 73}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48616, 'columns': 73}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.027318477630615234, 'status': 'success'}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,026 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,027 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-10-27 07:32:39,027 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-10-27 07:32:39,027 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11, 'date': '2025-10-27'}
2025-10-27 07:32:39,032 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 22, 'num_games': 11}
2025-10-27 07:32:39,032 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48616, 'todays_rows': 22}
2025-10-27 07:32:39,036 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,036 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48638, 73), 'export_schema': True}
2025-10-27 07:32:39,074 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,074 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-27 07:32:39,688 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 323)}
2025-10-27 07:32:39,688 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,833 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 373)}
2025-10-27 07:32:39,834 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,853 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 74)}
2025-10-27 07:32:39,854 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,910 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 374)}
2025-10-27 07:32:39,918 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:39,918 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-27 07:32:40,204 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 308)}
2025-10-27 07:32:40,205 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:40,313 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 656)}
2025-10-27 07:32:40,314 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:40,320 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 74)}
2025-10-27 07:32:40,320 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:40,450 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 657)}
2025-10-27 07:32:40,459 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:40,459 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-27 07:32:40,742 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 308)}
2025-10-27 07:32:40,742 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:40,938 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 939)}
2025-10-27 07:32:40,939 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:40,944 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 74)}
2025-10-27 07:32:40,944 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:41,122 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 940)}
2025-10-27 07:32:41,123 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:32:41,200 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 941)}
2025-10-27 07:32:41,201 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45572, 941)}
2025-10-27 07:32:41,273 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22786\n1    22786\nName: count, dtype: int64'}
2025-10-27 07:33:08,823 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-27 07:33:08,823 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-27 07:33:08,825 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.623785495758057, 'status': 'success'}
2025-10-27 07:33:08,826 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45572, 944)}
2025-10-27 07:33:09,465 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-27 07:33:09,465 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-27 07:33:09,520 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-27 07:33:09,520 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.484226942062378, 'status': 'success'}
2025-10-27 07:33:09,520 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:09,520 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45572, 944)}
2025-10-27 07:33:10,512 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22786, 1758)}
2025-10-27 07:33:10,514 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9933161735534668, 'status': 'success'}
2025-10-27 07:33:10,515 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:10,515 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22786, 1758)}
2025-10-27 07:33:10,654 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-27 07:33:10,654 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1391308307647705, 'status': 'success'}
2025-10-27 07:33:10,655 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:10,657 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-27 07:33:10,703 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-27 07:33:10,703 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.6253204345703125e-05, 'status': 'success'}
2025-10-27 07:33:23,013 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:23,013 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.31019377708435, 'status': 'success'}
2025-10-27 07:33:23,013 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:23,013 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:23,121 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22037, 856), 'validation_shape': (749, 856)}
2025-10-27 07:33:23,121 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10791134834289551, 'status': 'success'}
2025-10-27 07:33:23,121 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:23,121 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.2901763916015625e-05, 'status': 'success'}
2025-10-27 07:33:34,081 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.410743713378906e-05, 'status': 'success'}
2025-10-27 07:33:34,455 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 07:33:34,455 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.333369493484497, 'status': 'success'}
2025-10-27 07:33:34,455 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-27 09:05:20,443 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-27 09:05:20,444 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-27 09:05:20,444 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-27 09:05:20,444 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7fc40183ed90>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.35), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=True, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-27 09:05:20,444 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-27 09:05:20,445 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-27 09:05:20,587 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48616, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-27 09:05:20,587 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1427617073059082, 'status': 'success'}
2025-10-27 09:05:20,587 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,587 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,587 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48616, 'columns': 73}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48616, 'columns': 73}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.029012680053710938, 'status': 'success'}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,616 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,617 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-10-27 09:05:20,618 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-10-27 09:05:20,618 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11, 'date': '2025-10-27'}
2025-10-27 09:05:20,623 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 22, 'num_games': 11}
2025-10-27 09:05:20,623 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48616, 'todays_rows': 22}
2025-10-27 09:05:20,628 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,628 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48638, 73), 'export_schema': True}
2025-10-27 09:05:20,662 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:20,663 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-27 09:05:21,298 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 323)}
2025-10-27 09:05:21,300 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:21,454 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 373)}
2025-10-27 09:05:21,455 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:21,474 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 74)}
2025-10-27 09:05:21,474 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:21,533 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 374)}
2025-10-27 09:05:21,541 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:21,541 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-27 09:05:21,858 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 308)}
2025-10-27 09:05:21,859 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:21,972 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 656)}
2025-10-27 09:05:21,973 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:21,978 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 74)}
2025-10-27 09:05:21,979 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:22,124 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 657)}
2025-10-27 09:05:22,134 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:22,134 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-27 09:05:22,429 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 308)}
2025-10-27 09:05:22,430 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:22,675 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 939)}
2025-10-27 09:05:22,676 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:22,682 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 74)}
2025-10-27 09:05:22,682 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:22,914 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 940)}
2025-10-27 09:05:22,915 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:22,994 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 941)}
2025-10-27 09:05:22,995 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45572, 941)}
2025-10-27 09:05:23,065 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22786\n1    22786\nName: count, dtype: int64'}
2025-10-27 09:05:51,588 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-27 09:05:51,589 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-27 09:05:51,590 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.595027685165405, 'status': 'success'}
2025-10-27 09:05:51,594 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45572, 944)}
2025-10-27 09:05:52,268 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-27 09:05:52,268 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-27 09:05:52,324 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45572, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-27 09:05:52,324 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.696183443069458, 'status': 'success'}
2025-10-27 09:05:52,324 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:52,324 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45572, 944)}
2025-10-27 09:05:53,704 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22786, 1758)}
2025-10-27 09:05:53,708 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.384448528289795, 'status': 'success'}
2025-10-27 09:05:53,709 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:53,709 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22786, 1758)}
2025-10-27 09:05:53,831 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22786, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-27 09:05:53,831 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12187314033508301, 'status': 'success'}
2025-10-27 09:05:53,832 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:05:53,832 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-27 09:05:53,858 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-27 09:05:53,858 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0994415283203125e-05, 'status': 'success'}
2025-10-27 09:06:05,393 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:06:05,394 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.535660743713379, 'status': 'success'}
2025-10-27 09:06:05,394 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:06:05,394 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:06:05,501 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22037, 856), 'validation_shape': (749, 856)}
2025-10-27 09:06:05,501 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10773897171020508, 'status': 'success'}
2025-10-27 09:06:05,501 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-27 09:06:05,502 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8133392333984375e-05, 'status': 'success'}
2025-10-28 06:58:59,444 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-28 06:58:59,444 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-28 06:58:59,444 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-28 06:58:59,445 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7e97993182d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.35), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2024-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-28 06:58:59,445 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-28 06:58:59,445 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-28 06:58:59,564 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48638, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-28 06:58:59,564 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11917829513549805, 'status': 'success'}
2025-10-28 06:58:59,564 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,564 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,564 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48638, 'columns': 73}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48638, 'columns': 73}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.026060819625854492, 'status': 'success'}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,590 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,591 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 5}
2025-10-28 06:58:59,591 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 5}
2025-10-28 06:58:59,591 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 5, 'date': '2025-10-28'}
2025-10-28 06:58:59,596 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 10, 'num_games': 5}
2025-10-28 06:58:59,596 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48638, 'todays_rows': 10}
2025-10-28 06:58:59,600 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,600 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48648, 73), 'export_schema': True}
2025-10-28 06:58:59,634 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:58:59,634 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-28 06:59:00,195 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 323)}
2025-10-28 06:59:00,196 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,301 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 373)}
2025-10-28 06:59:00,301 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,310 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 74)}
2025-10-28 06:59:00,311 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,364 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 374)}
2025-10-28 06:59:00,373 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,373 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-28 06:59:00,655 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22791, 308)}
2025-10-28 06:59:00,655 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,769 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 656)}
2025-10-28 06:59:00,770 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,776 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22791, 74)}
2025-10-28 06:59:00,776 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,904 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 657)}
2025-10-28 06:59:00,912 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:00,913 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-28 06:59:01,196 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22791, 308)}
2025-10-28 06:59:01,196 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:01,377 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 939)}
2025-10-28 06:59:01,378 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:01,382 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22791, 74)}
2025-10-28 06:59:01,383 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:01,553 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 940)}
2025-10-28 06:59:01,554 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:01,624 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 941)}
2025-10-28 06:59:01,625 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45582, 941)}
2025-10-28 06:59:01,694 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22791\n1    22791\nName: count, dtype: int64'}
2025-10-28 06:59:30,510 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-28 06:59:30,511 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-28 06:59:30,512 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.887650728225708, 'status': 'success'}
2025-10-28 06:59:30,514 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45582, 944)}
2025-10-28 06:59:31,190 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-28 06:59:31,190 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-28 06:59:31,249 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45582, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-28 06:59:31,249 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.64895510673523, 'status': 'success'}
2025-10-28 06:59:31,249 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:31,249 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45582, 944)}
2025-10-28 06:59:32,402 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22791, 1758)}
2025-10-28 06:59:32,405 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1555538177490234, 'status': 'success'}
2025-10-28 06:59:32,406 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:32,406 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22791, 1758)}
2025-10-28 06:59:32,530 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22791, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-28 06:59:32,530 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12464094161987305, 'status': 'success'}
2025-10-28 06:59:32,531 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:32,532 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-28 06:59:32,558 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-28 06:59:32,558 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.604194641113281e-05, 'status': 'success'}
2025-10-28 06:59:44,534 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:44,534 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.97566032409668, 'status': 'success'}
2025-10-28 06:59:44,534 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:44,534 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:44,657 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22041, 856), 'validation_shape': (750, 856)}
2025-10-28 06:59:44,658 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12389111518859863, 'status': 'success'}
2025-10-28 06:59:44,658 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:44,658 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.0067901611328125e-05, 'status': 'success'}
2025-10-28 06:59:55,691 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.507469177246094e-05, 'status': 'success'}
2025-10-28 06:59:56,100 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-28 06:59:56,101 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.442516803741455, 'status': 'success'}
2025-10-28 06:59:56,101 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-29 07:28:46,631 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-29 07:28:46,631 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-29 07:28:46,631 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-29 07:28:46,631 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7f2679f51c90>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-29 07:28:46,632 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-29 07:28:46,632 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-29 07:28:46,763 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48648, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-29 07:28:46,763 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13148736953735352, 'status': 'success'}
2025-10-29 07:28:46,763 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,763 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,763 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,791 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48648, 'columns': 73}
2025-10-29 07:28:46,792 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,792 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-29 07:28:46,792 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48648, 'columns': 73}
2025-10-29 07:28:46,792 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028426408767700195, 'status': 'success'}
2025-10-29 07:28:46,792 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,792 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,793 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 10}
2025-10-29 07:28:46,793 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 10}
2025-10-29 07:28:46,793 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 10, 'date': '2025-10-29'}
2025-10-29 07:28:46,799 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 20, 'num_games': 10}
2025-10-29 07:28:46,799 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48648, 'todays_rows': 20}
2025-10-29 07:28:46,803 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,803 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48668, 73), 'export_schema': True}
2025-10-29 07:28:46,839 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:46,840 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-29 07:28:47,463 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 323)}
2025-10-29 07:28:47,464 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:47,636 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 373)}
2025-10-29 07:28:47,637 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:47,647 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 74)}
2025-10-29 07:28:47,647 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:47,722 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 374)}
2025-10-29 07:28:47,736 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:47,736 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-29 07:28:48,093 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22801, 308)}
2025-10-29 07:28:48,094 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:50,152 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 656)}
2025-10-29 07:28:50,153 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:50,159 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22801, 74)}
2025-10-29 07:28:50,159 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:50,312 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 657)}
2025-10-29 07:28:50,321 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:50,322 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-29 07:28:50,656 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22801, 308)}
2025-10-29 07:28:50,657 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:50,869 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 939)}
2025-10-29 07:28:50,869 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:50,875 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22801, 74)}
2025-10-29 07:28:50,876 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:51,067 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 940)}
2025-10-29 07:28:51,068 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:28:51,153 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 941)}
2025-10-29 07:28:51,154 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45602, 941)}
2025-10-29 07:28:51,227 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22801\n1    22801\nName: count, dtype: int64'}
2025-10-29 07:29:18,017 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-29 07:29:18,017 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-29 07:29:18,019 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 26.864410400390625, 'status': 'success'}
2025-10-29 07:29:18,020 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45602, 944)}
2025-10-29 07:29:18,650 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-29 07:29:18,650 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-29 07:29:18,705 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45602, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-29 07:29:18,705 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.902469635009766, 'status': 'success'}
2025-10-29 07:29:18,705 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:18,705 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45602, 944)}
2025-10-29 07:29:19,618 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22801, 1758)}
2025-10-29 07:29:19,620 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9149758815765381, 'status': 'success'}
2025-10-29 07:29:19,621 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:19,621 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22801, 1758)}
2025-10-29 07:29:19,732 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22801, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-29 07:29:19,732 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11082243919372559, 'status': 'success'}
2025-10-29 07:29:19,733 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:19,733 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-29 07:29:19,758 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-29 07:29:19,758 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0517578125e-05, 'status': 'success'}
2025-10-29 07:29:32,633 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:32,633 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.875085353851318, 'status': 'success'}
2025-10-29 07:29:32,633 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:32,633 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:32,718 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22049, 856), 'validation_shape': (752, 856)}
2025-10-29 07:29:32,719 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.08535909652709961, 'status': 'success'}
2025-10-29 07:29:32,719 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:32,719 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.86102294921875e-05, 'status': 'success'}
2025-10-29 07:29:43,181 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.7206878662109375e-05, 'status': 'success'}
2025-10-29 07:29:43,548 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-29 07:29:43,548 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.82942247390747, 'status': 'success'}
2025-10-29 07:29:43,548 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-30 08:35:34,207 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-30 08:35:34,208 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-30 08:35:34,208 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-30 08:35:34,208 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x716246f33150>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-30 08:35:34,208 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-30 08:35:34,208 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-30 08:35:34,333 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48668, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-30 08:35:34,333 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12476587295532227, 'status': 'success'}
2025-10-30 08:35:34,333 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,333 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,333 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48668, 'columns': 73}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48668, 'columns': 73}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02959728240966797, 'status': 'success'}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,363 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,364 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 4}
2025-10-30 08:35:34,364 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 4}
2025-10-30 08:35:34,364 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 4, 'date': '2025-10-30'}
2025-10-30 08:35:34,370 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 8, 'num_games': 4}
2025-10-30 08:35:34,370 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48668, 'todays_rows': 8}
2025-10-30 08:35:34,374 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,374 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48676, 73), 'export_schema': True}
2025-10-30 08:35:34,411 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:34,411 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-30 08:35:35,132 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 323)}
2025-10-30 08:35:35,133 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,259 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 373)}
2025-10-30 08:35:35,259 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,270 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 74)}
2025-10-30 08:35:35,270 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,332 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 374)}
2025-10-30 08:35:35,340 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,340 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-30 08:35:35,665 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22805, 308)}
2025-10-30 08:35:35,666 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,807 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 656)}
2025-10-30 08:35:35,808 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,814 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22805, 74)}
2025-10-30 08:35:35,814 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,975 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 657)}
2025-10-30 08:35:35,987 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:35,987 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-30 08:35:36,307 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22805, 308)}
2025-10-30 08:35:36,307 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:36,535 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 939)}
2025-10-30 08:35:36,535 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:36,541 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22805, 74)}
2025-10-30 08:35:36,541 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:36,737 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 940)}
2025-10-30 08:35:36,738 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:35:36,824 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 941)}
2025-10-30 08:35:36,825 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45610, 941)}
2025-10-30 08:35:36,902 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22805\n1    22805\nName: count, dtype: int64'}
2025-10-30 08:36:13,188 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-30 08:36:13,189 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-30 08:36:13,191 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 36.365440368652344, 'status': 'success'}
2025-10-30 08:36:13,192 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45610, 944)}
2025-10-30 08:36:14,067 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-30 08:36:14,067 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-30 08:36:14,132 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45610, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-30 08:36:14,132 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 39.75832176208496, 'status': 'success'}
2025-10-30 08:36:14,132 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:14,132 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45610, 944)}
2025-10-30 08:36:15,225 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22805, 1758)}
2025-10-30 08:36:15,228 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0952646732330322, 'status': 'success'}
2025-10-30 08:36:15,229 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:15,229 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22805, 1758)}
2025-10-30 08:36:15,362 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22805, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-30 08:36:15,362 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13313770294189453, 'status': 'success'}
2025-10-30 08:36:15,363 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:15,363 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-30 08:36:15,392 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-30 08:36:15,392 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.008148193359375e-05, 'status': 'success'}
2025-10-30 08:36:27,179 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:27,179 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.786776781082153, 'status': 'success'}
2025-10-30 08:36:27,179 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:27,179 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:27,240 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22052, 856), 'validation_shape': (753, 856)}
2025-10-30 08:36:27,240 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.06112098693847656, 'status': 'success'}
2025-10-30 08:36:27,240 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:27,240 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8848648071289062e-05, 'status': 'success'}
2025-10-30 08:36:38,744 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.57763671875e-05, 'status': 'success'}
2025-10-30 08:36:39,147 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-30 08:36:39,147 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.907207727432251, 'status': 'success'}
2025-10-30 08:36:39,148 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-10-31 07:46:19,542 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-10-31 07:46:19,542 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-10-31 07:46:19,542 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-10-31 07:46:19,543 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x798899a59050>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-10-31 07:46:19,543 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-10-31 07:46:19,543 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-10-31 07:46:19,672 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48676, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-10-31 07:46:19,673 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1302475929260254, 'status': 'success'}
2025-10-31 07:46:19,673 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,673 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,673 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48676, 'columns': 73}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48676, 'columns': 73}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.029493331909179688, 'status': 'success'}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,703 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,704 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-10-31 07:46:19,704 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-10-31 07:46:19,704 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-10-31'}
2025-10-31 07:46:19,710 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-10-31 07:46:19,710 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48676, 'todays_rows': 16}
2025-10-31 07:46:19,714 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,714 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48692, 73), 'export_schema': True}
2025-10-31 07:46:19,752 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:19,752 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-10-31 07:46:20,389 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 323)}
2025-10-31 07:46:20,389 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:20,505 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 373)}
2025-10-31 07:46:20,505 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:20,515 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 74)}
2025-10-31 07:46:20,516 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:20,586 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 374)}
2025-10-31 07:46:20,595 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:20,595 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-10-31 07:46:20,898 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22813, 308)}
2025-10-31 07:46:20,899 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,031 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 656)}
2025-10-31 07:46:21,031 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,037 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22813, 74)}
2025-10-31 07:46:21,037 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,182 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 657)}
2025-10-31 07:46:21,192 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,192 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-10-31 07:46:21,519 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22813, 308)}
2025-10-31 07:46:21,520 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,742 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 939)}
2025-10-31 07:46:21,743 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,749 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22813, 74)}
2025-10-31 07:46:21,750 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:21,954 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 940)}
2025-10-31 07:46:21,955 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:22,041 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 941)}
2025-10-31 07:46:22,042 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45626, 941)}
2025-10-31 07:46:22,119 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22813\n1    22813\nName: count, dtype: int64'}
2025-10-31 07:46:50,187 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-10-31 07:46:50,188 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-10-31 07:46:50,189 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.147827863693237, 'status': 'success'}
2025-10-31 07:46:50,191 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45626, 944)}
2025-10-31 07:46:50,868 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-10-31 07:46:50,868 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-10-31 07:46:50,926 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45626, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-10-31 07:46:50,926 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.21213674545288, 'status': 'success'}
2025-10-31 07:46:50,926 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:50,926 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45626, 944)}
2025-10-31 07:46:51,977 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22813, 1758)}
2025-10-31 07:46:51,979 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0529298782348633, 'status': 'success'}
2025-10-31 07:46:51,980 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:51,980 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22813, 1758)}
2025-10-31 07:46:52,101 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22813, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-10-31 07:46:52,101 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12093496322631836, 'status': 'success'}
2025-10-31 07:46:52,101 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:46:52,102 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-10-31 07:46:52,128 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-10-31 07:46:52,128 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.482269287109375e-05, 'status': 'success'}
2025-10-31 07:47:03,707 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:47:03,708 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.579312086105347, 'status': 'success'}
2025-10-31 07:47:03,708 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:47:03,708 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:47:03,809 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22059, 856), 'validation_shape': (754, 856)}
2025-10-31 07:47:03,809 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10144639015197754, 'status': 'success'}
2025-10-31 07:47:03,809 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:47:03,809 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.4345855712890625e-05, 'status': 'success'}
2025-10-31 07:47:14,429 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.841255187988281e-05, 'status': 'success'}
2025-10-31 07:47:14,840 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-10-31 07:47:14,841 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.031181812286377, 'status': 'success'}
2025-10-31 07:47:14,841 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-01 08:07:25,268 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-01 08:07:25,268 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-01 08:07:25,268 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-01 08:07:25,269 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7ffb11edf5d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-01 08:07:25,269 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-01 08:07:25,269 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-01 08:07:25,391 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48692, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-01 08:07:25,391 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12189960479736328, 'status': 'success'}
2025-11-01 08:07:25,391 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,391 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,391 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.027261734008789062, 'status': 'success'}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,418 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,419 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 08:07:25,419 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 08:07:25,419 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-01'}
2025-11-01 08:07:25,424 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-01 08:07:25,424 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48692, 'todays_rows': 12}
2025-11-01 08:07:25,428 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,428 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48704, 73), 'export_schema': True}
2025-11-01 08:07:25,465 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:25,465 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-01 08:07:26,064 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 323)}
2025-11-01 08:07:26,064 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,174 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 373)}
2025-11-01 08:07:26,174 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,184 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 74)}
2025-11-01 08:07:26,184 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,241 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 374)}
2025-11-01 08:07:26,250 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,250 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-01 08:07:26,531 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 08:07:26,532 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,650 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 656)}
2025-11-01 08:07:26,651 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,656 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 08:07:26,656 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,798 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 657)}
2025-11-01 08:07:26,806 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:26,806 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-01 08:07:27,083 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 08:07:27,083 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:27,266 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 939)}
2025-11-01 08:07:27,266 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:27,272 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 08:07:27,272 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:27,461 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 940)}
2025-11-01 08:07:27,463 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:27,537 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 941)}
2025-11-01 08:07:27,538 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45638, 941)}
2025-11-01 08:07:27,612 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22819\n1    22819\nName: count, dtype: int64'}
2025-11-01 08:07:55,433 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-01 08:07:55,433 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-01 08:07:55,435 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.896953105926514, 'status': 'success'}
2025-11-01 08:07:55,436 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 08:07:56,054 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-01 08:07:56,054 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-01 08:07:56,108 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-01 08:07:56,109 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.680395364761353, 'status': 'success'}
2025-11-01 08:07:56,109 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:56,109 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 08:07:57,067 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22819, 1758)}
2025-11-01 08:07:57,069 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.960308313369751, 'status': 'success'}
2025-11-01 08:07:57,070 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:57,070 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22819, 1758)}
2025-11-01 08:07:57,195 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-01 08:07:57,195 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12478375434875488, 'status': 'success'}
2025-11-01 08:07:57,195 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:07:57,196 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-01 08:07:57,223 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-01 08:07:57,224 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.075599670410156e-05, 'status': 'success'}
2025-11-01 08:08:08,274 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:08:08,274 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.05039381980896, 'status': 'success'}
2025-11-01 08:08:08,274 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:08:08,274 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:08:08,362 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22063, 856), 'validation_shape': (756, 856)}
2025-11-01 08:08:08,363 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.08890199661254883, 'status': 'success'}
2025-11-01 08:08:08,363 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:08:08,363 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.765655517578125e-05, 'status': 'success'}
2025-11-01 08:08:20,477 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.9577484130859375e-05, 'status': 'success'}
2025-11-01 08:08:20,858 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 08:08:20,858 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.495278596878052, 'status': 'success'}
2025-11-01 08:08:20,858 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-01 09:07:24,166 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-01 09:07:24,167 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-01 09:07:24,167 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-01 09:07:24,167 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7d91939f1150>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-01 09:07:24,167 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-01 09:07:24,167 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-01 09:07:24,291 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48692, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-01 09:07:24,291 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12375283241271973, 'status': 'success'}
2025-11-01 09:07:24,291 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,291 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,291 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.026938199996948242, 'status': 'success'}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,318 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,319 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 09:07:24,319 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 09:07:24,319 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-01'}
2025-11-01 09:07:24,325 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-01 09:07:24,325 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48692, 'todays_rows': 12}
2025-11-01 09:07:24,329 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,329 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48704, 73), 'export_schema': True}
2025-11-01 09:07:24,367 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:24,368 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-01 09:07:24,959 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 323)}
2025-11-01 09:07:24,960 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,063 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 373)}
2025-11-01 09:07:25,064 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,073 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 74)}
2025-11-01 09:07:25,073 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,126 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 374)}
2025-11-01 09:07:25,134 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,134 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-01 09:07:25,411 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 09:07:25,411 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,523 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 656)}
2025-11-01 09:07:25,524 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,529 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 09:07:25,529 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,652 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 657)}
2025-11-01 09:07:25,659 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:25,660 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-01 09:07:25,948 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 09:07:25,949 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:26,206 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 939)}
2025-11-01 09:07:26,207 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:26,212 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 09:07:26,212 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:26,402 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 940)}
2025-11-01 09:07:26,403 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:26,475 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 941)}
2025-11-01 09:07:26,475 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45638, 941)}
2025-11-01 09:07:26,546 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22819\n1    22819\nName: count, dtype: int64'}
2025-11-01 09:07:55,294 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-01 09:07:55,294 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-01 09:07:55,296 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.82094383239746, 'status': 'success'}
2025-11-01 09:07:55,298 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 09:07:55,958 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-01 09:07:55,958 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-01 09:07:56,024 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-01 09:07:56,025 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.695815086364746, 'status': 'success'}
2025-11-01 09:07:56,025 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:56,025 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 09:07:57,095 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22819, 1758)}
2025-11-01 09:07:57,097 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0724573135375977, 'status': 'success'}
2025-11-01 09:07:57,098 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:57,098 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22819, 1758)}
2025-11-01 09:07:57,232 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-01 09:07:57,232 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13381147384643555, 'status': 'success'}
2025-11-01 09:07:57,233 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:07:57,233 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-01 09:07:57,260 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-01 09:07:57,260 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.337860107421875e-05, 'status': 'success'}
2025-11-01 09:08:08,796 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:08:08,796 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.536005735397339, 'status': 'success'}
2025-11-01 09:08:08,796 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:08:08,796 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:08:08,924 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22063, 856), 'validation_shape': (756, 856)}
2025-11-01 09:08:08,925 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12888503074645996, 'status': 'success'}
2025-11-01 09:08:08,925 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:08:08,925 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.506111145019531e-05, 'status': 'success'}
2025-11-01 09:08:22,411 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.935264587402344e-05, 'status': 'success'}
2025-11-01 09:08:22,880 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:08:22,880 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.954900741577148, 'status': 'success'}
2025-11-01 09:08:22,880 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-01 09:32:24,980 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-01 09:32:24,980 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-01 09:32:24,980 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-01 09:32:24,980 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7996c51f7250>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=1, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-01 09:32:24,981 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-01 09:32:24,981 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-01 09:32:25,100 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48692, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-01 09:32:25,101 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11995220184326172, 'status': 'success'}
2025-11-01 09:32:25,101 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,101 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,101 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.027187824249267578, 'status': 'success'}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,128 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,129 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 09:32:25,129 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 09:32:25,129 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-01'}
2025-11-01 09:32:25,134 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-01 09:32:25,134 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48692, 'todays_rows': 12}
2025-11-01 09:32:25,138 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,138 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48704, 73), 'export_schema': True}
2025-11-01 09:32:25,173 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,173 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-01 09:32:25,750 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 323)}
2025-11-01 09:32:25,750 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,850 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 373)}
2025-11-01 09:32:25,851 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,860 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 74)}
2025-11-01 09:32:25,861 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,914 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 374)}
2025-11-01 09:32:25,921 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:25,921 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-01 09:32:26,190 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 09:32:26,191 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:26,303 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 656)}
2025-11-01 09:32:26,304 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:26,309 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 09:32:26,309 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:26,507 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 657)}
2025-11-01 09:32:26,515 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:26,515 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-01 09:32:26,788 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 09:32:26,788 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:26,998 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 939)}
2025-11-01 09:32:26,999 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:27,005 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 09:32:27,005 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:27,193 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 940)}
2025-11-01 09:32:27,195 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:27,273 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 941)}
2025-11-01 09:32:27,274 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45638, 941)}
2025-11-01 09:32:27,343 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22819\n1    22819\nName: count, dtype: int64'}
2025-11-01 09:32:55,906 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-01 09:32:55,906 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-01 09:32:55,907 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.63339614868164, 'status': 'success'}
2025-11-01 09:32:55,909 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 09:32:56,566 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-01 09:32:56,566 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-01 09:32:56,630 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-01 09:32:56,630 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.492027759552002, 'status': 'success'}
2025-11-01 09:32:56,630 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:56,630 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 09:32:57,718 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22819, 1758)}
2025-11-01 09:32:57,720 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0901482105255127, 'status': 'success'}
2025-11-01 09:32:57,721 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:57,721 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22819, 1758)}
2025-11-01 09:32:57,853 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-01 09:32:57,853 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1320209503173828, 'status': 'success'}
2025-11-01 09:32:57,854 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:32:57,854 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-01 09:32:57,882 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-01 09:32:57,882 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.4809112548828125e-05, 'status': 'success'}
2025-11-01 09:33:08,934 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:33:08,934 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.052066802978516, 'status': 'success'}
2025-11-01 09:33:08,934 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:33:08,934 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:33:09,023 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22063, 856), 'validation_shape': (756, 856)}
2025-11-01 09:33:09,024 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.08939933776855469, 'status': 'success'}
2025-11-01 09:33:09,024 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:33:09,024 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.86102294921875e-05, 'status': 'success'}
2025-11-01 09:33:21,618 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.839897155761719e-05, 'status': 'success'}
2025-11-01 09:33:22,021 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 09:33:22,021 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.997045278549194, 'status': 'success'}
2025-11-01 09:33:22,021 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-01 10:08:54,256 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-01 10:08:54,257 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-01 10:08:54,257 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-01 10:08:54,257 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7812dccba310>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-01 10:08:54,257 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-01 10:08:54,257 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-01 10:08:54,368 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48692, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-01 10:08:54,369 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11126351356506348, 'status': 'success'}
2025-11-01 10:08:54,369 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,369 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,369 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.027523040771484375, 'status': 'success'}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,396 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,397 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 10:08:54,397 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-01 10:08:54,397 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-01'}
2025-11-01 10:08:54,403 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-01 10:08:54,403 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48692, 'todays_rows': 12}
2025-11-01 10:08:54,406 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,406 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48704, 73), 'export_schema': True}
2025-11-01 10:08:54,435 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:54,435 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-01 10:08:55,013 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 323)}
2025-11-01 10:08:55,014 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,124 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 373)}
2025-11-01 10:08:55,124 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,133 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 74)}
2025-11-01 10:08:55,134 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,187 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 374)}
2025-11-01 10:08:55,195 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,195 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-01 10:08:55,478 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 10:08:55,479 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,585 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 656)}
2025-11-01 10:08:55,585 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,591 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 10:08:55,591 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,723 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 657)}
2025-11-01 10:08:55,731 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:55,731 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-01 10:08:56,008 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-01 10:08:56,009 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:56,189 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 939)}
2025-11-01 10:08:56,189 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:56,195 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-01 10:08:56,195 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:56,365 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 940)}
2025-11-01 10:08:56,366 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:08:56,439 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 941)}
2025-11-01 10:08:56,440 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45638, 941)}
2025-11-01 10:08:56,506 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22819\n1    22819\nName: count, dtype: int64'}
2025-11-01 10:09:22,421 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-01 10:09:22,421 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-01 10:09:22,424 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 25.98377299308777, 'status': 'success'}
2025-11-01 10:09:22,426 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 10:09:23,042 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-01 10:09:23,042 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-01 10:09:23,092 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-01 10:09:23,093 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.6865017414093, 'status': 'success'}
2025-11-01 10:09:23,093 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:23,093 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-01 10:09:24,799 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22819, 1758)}
2025-11-01 10:09:24,801 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.7086403369903564, 'status': 'success'}
2025-11-01 10:09:24,802 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:24,802 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22819, 1758)}
2025-11-01 10:09:26,155 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-01 10:09:26,156 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.3532814979553223, 'status': 'success'}
2025-11-01 10:09:26,156 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:26,157 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-01 10:09:26,181 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-01 10:09:26,181 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9325485229492188e-05, 'status': 'success'}
2025-11-01 10:09:37,090 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:37,090 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.909398794174194, 'status': 'success'}
2025-11-01 10:09:37,090 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:37,090 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:37,159 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22063, 856), 'validation_shape': (756, 856)}
2025-11-01 10:09:37,160 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0695037841796875, 'status': 'success'}
2025-11-01 10:09:37,160 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:37,160 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.47955322265625e-05, 'status': 'success'}
2025-11-01 10:09:47,232 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.886222839355469e-05, 'status': 'success'}
2025-11-01 10:09:47,594 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-01 10:09:47,594 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.434015274047852, 'status': 'success'}
2025-11-01 10:09:47,594 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-02 08:29:29,173 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-02 08:29:29,173 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-02 08:29:29,173 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-02 08:29:29,174 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x780af13245d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-02 08:29:29,174 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-02 08:29:29,174 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-02 08:29:29,293 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48692, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-02 08:29:29,293 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11895561218261719, 'status': 'success'}
2025-11-02 08:29:29,293 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,293 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,293 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48692, 'columns': 73}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0298001766204834, 'status': 'success'}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,323 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,325 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-02 08:29:29,325 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-02 08:29:29,325 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-02'}
2025-11-02 08:29:29,331 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-02 08:29:29,331 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48692, 'todays_rows': 12}
2025-11-02 08:29:29,335 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,335 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48704, 73), 'export_schema': True}
2025-11-02 08:29:29,373 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:29,373 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-02 08:29:30,019 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 323)}
2025-11-02 08:29:30,019 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,136 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 373)}
2025-11-02 08:29:30,136 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,146 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 74)}
2025-11-02 08:29:30,146 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,204 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 374)}
2025-11-02 08:29:30,212 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,212 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-02 08:29:30,492 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-02 08:29:30,493 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,612 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 656)}
2025-11-02 08:29:30,613 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,618 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-02 08:29:30,618 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,752 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 657)}
2025-11-02 08:29:30,760 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:30,761 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-02 08:29:31,043 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 308)}
2025-11-02 08:29:31,044 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:31,245 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 939)}
2025-11-02 08:29:31,245 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:31,251 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 74)}
2025-11-02 08:29:31,251 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:31,439 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 940)}
2025-11-02 08:29:31,440 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:29:31,533 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 941)}
2025-11-02 08:29:31,533 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45638, 941)}
2025-11-02 08:29:31,607 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22819\n1    22819\nName: count, dtype: int64'}
2025-11-02 08:30:00,428 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-02 08:30:00,428 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-02 08:30:00,429 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.895874500274658, 'status': 'success'}
2025-11-02 08:30:00,430 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-02 08:30:01,120 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-02 08:30:01,120 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-02 08:30:01,177 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45638, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-02 08:30:01,177 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.842710971832275, 'status': 'success'}
2025-11-02 08:30:01,177 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:01,177 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45638, 944)}
2025-11-02 08:30:02,233 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22819, 1758)}
2025-11-02 08:30:02,235 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0579891204833984, 'status': 'success'}
2025-11-02 08:30:02,236 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:02,237 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22819, 1758)}
2025-11-02 08:30:02,372 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22819, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-02 08:30:02,372 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13509774208068848, 'status': 'success'}
2025-11-02 08:30:02,372 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:02,373 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-02 08:30:02,403 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-02 08:30:02,403 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.409385681152344e-05, 'status': 'success'}
2025-11-02 08:30:14,164 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:14,164 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.761428356170654, 'status': 'success'}
2025-11-02 08:30:14,164 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:14,164 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:14,255 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22063, 856), 'validation_shape': (756, 856)}
2025-11-02 08:30:14,256 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09174799919128418, 'status': 'success'}
2025-11-02 08:30:14,256 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:14,256 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.123283386230469e-05, 'status': 'success'}
2025-11-02 08:30:25,648 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.00543212890625e-05, 'status': 'success'}
2025-11-02 08:30:26,048 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:30:26,048 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.791761636734009, 'status': 'success'}
2025-11-02 08:30:26,048 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-02 08:39:32,057 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-02 08:39:32,058 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-02 08:39:32,058 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-02 08:39:32,058 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7a027fd46790>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-02 08:39:32,058 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-02 08:39:32,058 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-02 08:39:32,197 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48702, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-02 08:39:32,197 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.138505220413208, 'status': 'success'}
2025-11-02 08:39:32,197 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,197 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,197 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48702, 'columns': 73}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48702, 'columns': 73}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02768850326538086, 'status': 'success'}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,224 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,226 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-02 08:39:32,226 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-02 08:39:32,226 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-02'}
2025-11-02 08:39:32,231 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-02 08:39:32,231 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48702, 'todays_rows': 16}
2025-11-02 08:39:32,235 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,235 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48718, 73), 'export_schema': True}
2025-11-02 08:39:32,274 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:32,274 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-02 08:39:32,900 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 323)}
2025-11-02 08:39:32,900 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,018 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 373)}
2025-11-02 08:39:33,019 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,028 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 74)}
2025-11-02 08:39:33,028 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,089 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 374)}
2025-11-02 08:39:33,098 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,098 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-02 08:39:33,379 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22826, 308)}
2025-11-02 08:39:33,379 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,491 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 656)}
2025-11-02 08:39:33,491 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,497 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22826, 74)}
2025-11-02 08:39:33,497 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,638 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 657)}
2025-11-02 08:39:33,646 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:33,647 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-02 08:39:33,960 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22826, 308)}
2025-11-02 08:39:33,960 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:34,222 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 939)}
2025-11-02 08:39:34,223 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:34,229 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22826, 74)}
2025-11-02 08:39:34,230 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:34,449 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 940)}
2025-11-02 08:39:34,450 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:39:34,545 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 941)}
2025-11-02 08:39:34,546 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45652, 941)}
2025-11-02 08:39:34,629 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22826\n1    22826\nName: count, dtype: int64'}
2025-11-02 08:40:01,878 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-02 08:40:01,878 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-02 08:40:01,880 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.33467149734497, 'status': 'success'}
2025-11-02 08:40:01,883 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45652, 944)}
2025-11-02 08:40:02,563 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-02 08:40:02,564 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-02 08:40:02,628 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45652, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-02 08:40:02,628 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.39317297935486, 'status': 'success'}
2025-11-02 08:40:02,628 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:02,628 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45652, 944)}
2025-11-02 08:40:03,719 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22826, 1758)}
2025-11-02 08:40:03,722 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0936238765716553, 'status': 'success'}
2025-11-02 08:40:03,723 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:03,723 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22826, 1758)}
2025-11-02 08:40:03,847 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22826, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-02 08:40:03,848 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12451958656311035, 'status': 'success'}
2025-11-02 08:40:03,848 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:03,849 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-02 08:40:03,874 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-02 08:40:03,874 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.1948089599609375e-05, 'status': 'success'}
2025-11-02 08:40:15,195 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:15,195 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.321016073226929, 'status': 'success'}
2025-11-02 08:40:15,195 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:15,195 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:15,295 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22069, 856), 'validation_shape': (757, 856)}
2025-11-02 08:40:15,296 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10068988800048828, 'status': 'success'}
2025-11-02 08:40:15,296 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:15,296 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7418136596679688e-05, 'status': 'success'}
2025-11-02 08:40:26,492 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 9.083747863769531e-05, 'status': 'success'}
2025-11-02 08:40:26,875 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-02 08:40:26,875 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.579419374465942, 'status': 'success'}
2025-11-02 08:40:26,875 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-03 07:37:17,690 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-03 07:37:17,690 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-03 07:37:17,690 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-03 07:37:17,691 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x75469677d7d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-03 07:37:17,691 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-03 07:37:17,691 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-03 07:37:17,814 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48718, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-03 07:37:17,814 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12367534637451172, 'status': 'success'}
2025-11-03 07:37:17,815 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,815 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,815 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48718, 'columns': 73}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48718, 'columns': 73}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030199289321899414, 'status': 'success'}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,845 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,846 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-03 07:37:17,846 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-03 07:37:17,846 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-03'}
2025-11-03 07:37:17,851 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-03 07:37:17,851 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48718, 'todays_rows': 18}
2025-11-03 07:37:17,855 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,855 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48736, 73), 'export_schema': True}
2025-11-03 07:37:17,891 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:17,891 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-03 07:37:18,514 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 323)}
2025-11-03 07:37:18,514 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:18,632 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 373)}
2025-11-03 07:37:18,633 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:18,652 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 74)}
2025-11-03 07:37:18,652 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:18,709 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 374)}
2025-11-03 07:37:18,718 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:18,718 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-03 07:37:18,994 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22835, 308)}
2025-11-03 07:37:18,995 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:19,116 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 656)}
2025-11-03 07:37:19,116 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:19,123 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22835, 74)}
2025-11-03 07:37:19,124 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:19,257 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 657)}
2025-11-03 07:37:19,265 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:19,265 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-03 07:37:19,561 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22835, 308)}
2025-11-03 07:37:19,562 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:19,816 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 939)}
2025-11-03 07:37:19,817 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:19,823 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22835, 74)}
2025-11-03 07:37:19,823 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:20,006 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 940)}
2025-11-03 07:37:20,007 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:20,083 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 941)}
2025-11-03 07:37:20,084 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45670, 941)}
2025-11-03 07:37:20,159 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22835\n1    22835\nName: count, dtype: int64'}
2025-11-03 07:37:48,017 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-03 07:37:48,017 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-03 07:37:48,019 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.934568881988525, 'status': 'success'}
2025-11-03 07:37:48,020 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45670, 944)}
2025-11-03 07:37:48,679 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-03 07:37:48,680 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-03 07:37:48,734 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45670, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-03 07:37:48,734 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.878806591033936, 'status': 'success'}
2025-11-03 07:37:48,734 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:48,734 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45670, 944)}
2025-11-03 07:37:49,688 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22835, 1758)}
2025-11-03 07:37:49,690 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9560298919677734, 'status': 'success'}
2025-11-03 07:37:49,691 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:49,691 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22835, 1758)}
2025-11-03 07:37:49,809 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22835, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-03 07:37:49,809 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11747241020202637, 'status': 'success'}
2025-11-03 07:37:49,809 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:37:49,810 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-03 07:37:49,836 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-03 07:37:49,837 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.314018249511719e-05, 'status': 'success'}
2025-11-03 07:38:01,464 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:38:01,464 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.627471685409546, 'status': 'success'}
2025-11-03 07:38:01,464 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:38:01,464 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:38:01,539 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22076, 856), 'validation_shape': (759, 856)}
2025-11-03 07:38:01,539 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0751349925994873, 'status': 'success'}
2025-11-03 07:38:01,539 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:38:01,539 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.147125244140625e-05, 'status': 'success'}
2025-11-03 07:38:12,759 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.8160552978515625e-05, 'status': 'success'}
2025-11-03 07:38:13,156 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-03 07:38:13,157 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.617130517959595, 'status': 'success'}
2025-11-03 07:38:13,157 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-04 07:24:32,583 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-04 07:24:32,583 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-04 07:24:32,583 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-04 07:24:32,584 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x75b851894a50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-04 07:24:32,584 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-04 07:24:32,584 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-04 07:24:32,706 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48736, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-04 07:24:32,706 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12218284606933594, 'status': 'success'}
2025-11-04 07:24:32,706 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,706 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,706 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48736, 'columns': 73}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48736, 'columns': 73}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030329227447509766, 'status': 'success'}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,736 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,737 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-04 07:24:32,738 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-04 07:24:32,738 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-04'}
2025-11-04 07:24:32,744 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-04 07:24:32,744 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48736, 'todays_rows': 12}
2025-11-04 07:24:32,748 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,748 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48748, 73), 'export_schema': True}
2025-11-04 07:24:32,788 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:32,789 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-04 07:24:33,454 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 323)}
2025-11-04 07:24:33,454 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:33,570 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 373)}
2025-11-04 07:24:33,570 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:33,591 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 74)}
2025-11-04 07:24:33,591 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:33,670 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 374)}
2025-11-04 07:24:33,679 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:33,679 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-04 07:24:33,981 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22841, 308)}
2025-11-04 07:24:33,982 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,112 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 656)}
2025-11-04 07:24:34,113 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,118 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22841, 74)}
2025-11-04 07:24:34,119 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,272 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 657)}
2025-11-04 07:24:34,281 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,281 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-04 07:24:34,574 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22841, 308)}
2025-11-04 07:24:34,575 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,773 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 939)}
2025-11-04 07:24:34,775 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,781 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22841, 74)}
2025-11-04 07:24:34,782 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:34,970 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 940)}
2025-11-04 07:24:34,971 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:24:35,050 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 941)}
2025-11-04 07:24:35,051 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45682, 941)}
2025-11-04 07:24:35,132 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22841\n1    22841\nName: count, dtype: int64'}
2025-11-04 07:25:05,071 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-04 07:25:05,072 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-04 07:25:05,074 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.0228271484375, 'status': 'success'}
2025-11-04 07:25:05,075 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45682, 944)}
2025-11-04 07:25:05,759 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-04 07:25:05,759 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-04 07:25:05,815 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45682, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-04 07:25:05,815 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.067172050476074, 'status': 'success'}
2025-11-04 07:25:05,815 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:05,815 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45682, 944)}
2025-11-04 07:25:07,182 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22841, 1758)}
2025-11-04 07:25:07,186 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.370398759841919, 'status': 'success'}
2025-11-04 07:25:07,187 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:07,187 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22841, 1758)}
2025-11-04 07:25:07,351 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22841, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-04 07:25:07,351 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1641848087310791, 'status': 'success'}
2025-11-04 07:25:07,352 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:07,353 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-04 07:25:07,390 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-04 07:25:07,390 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.409385681152344e-05, 'status': 'success'}
2025-11-04 07:25:18,876 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:18,876 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.486179113388062, 'status': 'success'}
2025-11-04 07:25:18,876 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:18,876 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:19,018 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22081, 856), 'validation_shape': (760, 856)}
2025-11-04 07:25:19,019 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14214468002319336, 'status': 'success'}
2025-11-04 07:25:19,019 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:19,019 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9802322387695312e-05, 'status': 'success'}
2025-11-04 07:25:30,184 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.3392181396484375e-05, 'status': 'success'}
2025-11-04 07:25:30,581 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-04 07:25:30,581 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.562474012374878, 'status': 'success'}
2025-11-04 07:25:30,581 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-05 06:55:45,603 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-05 06:55:45,603 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-05 06:55:45,603 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-05 06:55:45,603 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x76ffbaa36bd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-05 06:55:45,603 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-05 06:55:45,604 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-05 06:55:45,751 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48748, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-05 06:55:45,752 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14804816246032715, 'status': 'success'}
2025-11-05 06:55:45,752 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,752 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,752 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48748, 'columns': 73}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48748, 'columns': 73}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.031213760375976562, 'status': 'success'}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,783 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,784 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-05 06:55:45,784 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-05 06:55:45,784 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11, 'date': '2025-11-05'}
2025-11-05 06:55:45,790 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 22, 'num_games': 11}
2025-11-05 06:55:45,790 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48748, 'todays_rows': 22}
2025-11-05 06:55:45,795 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,795 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48770, 73), 'export_schema': True}
2025-11-05 06:55:45,839 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:45,839 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-05 06:55:46,604 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 323)}
2025-11-05 06:55:46,605 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:46,741 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 373)}
2025-11-05 06:55:46,741 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:46,752 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 74)}
2025-11-05 06:55:46,752 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:46,823 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 374)}
2025-11-05 06:55:46,833 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:46,833 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-05 06:55:47,163 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 308)}
2025-11-05 06:55:47,164 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:47,344 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 656)}
2025-11-05 06:55:47,345 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:47,352 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 74)}
2025-11-05 06:55:47,353 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:47,538 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 657)}
2025-11-05 06:55:47,547 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:47,547 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-05 06:55:47,878 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 308)}
2025-11-05 06:55:47,879 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:48,122 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 939)}
2025-11-05 06:55:48,123 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:48,129 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 74)}
2025-11-05 06:55:48,130 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:48,350 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 940)}
2025-11-05 06:55:48,352 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:55:48,439 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 941)}
2025-11-05 06:55:48,439 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45704, 941)}
2025-11-05 06:55:48,517 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22852\n1    22852\nName: count, dtype: int64'}
2025-11-05 06:56:16,407 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-05 06:56:16,407 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-05 06:56:16,410 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.970680475234985, 'status': 'success'}
2025-11-05 06:56:16,413 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45704, 944)}
2025-11-05 06:56:17,079 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-05 06:56:17,079 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-05 06:56:17,135 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-05 06:56:17,135 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.340327978134155, 'status': 'success'}
2025-11-05 06:56:17,135 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:17,135 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45704, 944)}
2025-11-05 06:56:18,305 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22852, 1758)}
2025-11-05 06:56:18,307 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1715331077575684, 'status': 'success'}
2025-11-05 06:56:18,308 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:18,308 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22852, 1758)}
2025-11-05 06:56:18,424 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-05 06:56:18,424 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11655116081237793, 'status': 'success'}
2025-11-05 06:56:18,425 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:18,425 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-05 06:56:18,451 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-05 06:56:18,451 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.1948089599609375e-05, 'status': 'success'}
2025-11-05 06:56:30,355 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:30,355 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.904117584228516, 'status': 'success'}
2025-11-05 06:56:30,355 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:30,355 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:30,467 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22090, 856), 'validation_shape': (762, 856)}
2025-11-05 06:56:30,467 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11209368705749512, 'status': 'success'}
2025-11-05 06:56:30,467 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:30,468 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.1948089599609375e-05, 'status': 'success'}
2025-11-05 06:56:41,512 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.552436828613281e-05, 'status': 'success'}
2025-11-05 06:56:41,905 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 06:56:41,905 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.437165021896362, 'status': 'success'}
2025-11-05 06:56:41,905 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-05 07:58:12,378 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-05 07:58:12,379 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-05 07:58:12,379 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-05 07:58:12,379 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x75733843ae50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-05 07:58:12,379 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-05 07:58:12,379 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-05 07:58:12,499 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48748, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-05 07:58:12,499 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11979842185974121, 'status': 'success'}
2025-11-05 07:58:12,499 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,499 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,499 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,529 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48748, 'columns': 73}
2025-11-05 07:58:12,530 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,530 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-05 07:58:12,530 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48748, 'columns': 73}
2025-11-05 07:58:12,530 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030642032623291016, 'status': 'success'}
2025-11-05 07:58:12,530 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,530 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,531 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-05 07:58:12,531 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-05 07:58:12,531 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11, 'date': '2025-11-05'}
2025-11-05 07:58:12,536 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 22, 'num_games': 11}
2025-11-05 07:58:12,536 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48748, 'todays_rows': 22}
2025-11-05 07:58:12,540 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,541 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48770, 73), 'export_schema': True}
2025-11-05 07:58:12,576 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:12,576 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-05 07:58:13,245 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 323)}
2025-11-05 07:58:13,245 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:13,363 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 373)}
2025-11-05 07:58:13,364 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:13,374 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 74)}
2025-11-05 07:58:13,374 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:13,432 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 374)}
2025-11-05 07:58:13,442 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:13,442 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-05 07:58:13,750 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 308)}
2025-11-05 07:58:13,750 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:13,888 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 656)}
2025-11-05 07:58:13,889 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:13,895 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 74)}
2025-11-05 07:58:13,895 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:14,032 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 657)}
2025-11-05 07:58:14,040 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:14,040 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-05 07:58:14,336 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 308)}
2025-11-05 07:58:14,337 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:14,537 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 939)}
2025-11-05 07:58:14,538 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:14,544 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 74)}
2025-11-05 07:58:14,544 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:14,727 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 940)}
2025-11-05 07:58:14,728 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:14,804 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 941)}
2025-11-05 07:58:14,805 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45704, 941)}
2025-11-05 07:58:14,881 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22852\n1    22852\nName: count, dtype: int64'}
2025-11-05 07:58:42,588 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-05 07:58:42,588 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-05 07:58:42,589 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.7843017578125, 'status': 'success'}
2025-11-05 07:58:42,591 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45704, 944)}
2025-11-05 07:58:43,248 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-05 07:58:43,248 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-05 07:58:43,303 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45704, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-05 07:58:43,303 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.762414932250977, 'status': 'success'}
2025-11-05 07:58:43,303 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:43,303 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45704, 944)}
2025-11-05 07:58:44,234 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22852, 1758)}
2025-11-05 07:58:44,237 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9335055351257324, 'status': 'success'}
2025-11-05 07:58:44,237 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:44,238 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22852, 1758)}
2025-11-05 07:58:44,357 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22852, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-05 07:58:44,357 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11925840377807617, 'status': 'success'}
2025-11-05 07:58:44,358 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:44,358 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-05 07:58:44,385 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-05 07:58:44,385 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.62396240234375e-05, 'status': 'success'}
2025-11-05 07:58:56,026 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:56,026 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.64158844947815, 'status': 'success'}
2025-11-05 07:58:56,026 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:56,026 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:56,130 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22090, 856), 'validation_shape': (762, 856)}
2025-11-05 07:58:56,131 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10436034202575684, 'status': 'success'}
2025-11-05 07:58:56,131 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:58:56,131 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8848648071289062e-05, 'status': 'success'}
2025-11-05 07:59:07,018 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.14984130859375e-05, 'status': 'success'}
2025-11-05 07:59:07,396 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-05 07:59:07,396 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.265468835830688, 'status': 'success'}
2025-11-05 07:59:07,396 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-06 07:30:15,998 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-06 07:30:15,998 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-06 07:30:15,998 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-06 07:30:15,999 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7a8c39cbb110>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-06 07:30:15,999 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-06 07:30:15,999 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-06 07:30:16,132 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48770, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-06 07:30:16,132 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13282299041748047, 'status': 'success'}
2025-11-06 07:30:16,132 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,132 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,132 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48770, 'columns': 73}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48770, 'columns': 73}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02973341941833496, 'status': 'success'}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,161 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,164 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 1}
2025-11-06 07:30:16,164 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 1}
2025-11-06 07:30:16,164 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 1, 'date': '2025-11-06'}
2025-11-06 07:30:16,169 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 2, 'num_games': 1}
2025-11-06 07:30:16,169 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48770, 'todays_rows': 2}
2025-11-06 07:30:16,173 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,173 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48772, 73), 'export_schema': True}
2025-11-06 07:30:16,219 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,220 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-06 07:30:16,837 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 323)}
2025-11-06 07:30:16,838 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,956 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 373)}
2025-11-06 07:30:16,956 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:16,965 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 74)}
2025-11-06 07:30:16,966 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:17,022 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 374)}
2025-11-06 07:30:17,030 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:17,030 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-06 07:30:17,303 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22853, 308)}
2025-11-06 07:30:17,304 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:17,421 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 656)}
2025-11-06 07:30:17,422 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:17,428 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22853, 74)}
2025-11-06 07:30:17,428 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:17,561 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 657)}
2025-11-06 07:30:17,570 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:17,570 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-06 07:30:17,858 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22853, 308)}
2025-11-06 07:30:17,858 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:18,059 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 939)}
2025-11-06 07:30:18,060 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:18,066 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22853, 74)}
2025-11-06 07:30:18,066 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:18,242 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 940)}
2025-11-06 07:30:18,243 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:18,318 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 941)}
2025-11-06 07:30:18,319 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45706, 941)}
2025-11-06 07:30:18,397 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22853\n1    22853\nName: count, dtype: int64'}
2025-11-06 07:30:46,583 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-06 07:30:46,583 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-06 07:30:46,585 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.26596975326538, 'status': 'success'}
2025-11-06 07:30:46,587 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45706, 944)}
2025-11-06 07:30:47,247 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-06 07:30:47,247 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-06 07:30:47,301 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45706, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-06 07:30:47,301 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.12746500968933, 'status': 'success'}
2025-11-06 07:30:47,301 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:47,301 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45706, 944)}
2025-11-06 07:30:48,334 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22853, 1758)}
2025-11-06 07:30:48,336 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0353853702545166, 'status': 'success'}
2025-11-06 07:30:48,337 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:48,337 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22853, 1758)}
2025-11-06 07:30:48,485 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22853, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-06 07:30:48,486 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14840102195739746, 'status': 'success'}
2025-11-06 07:30:48,486 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:30:48,487 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-06 07:30:48,516 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-06 07:30:48,516 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.409385681152344e-05, 'status': 'success'}
2025-11-06 07:31:01,427 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:31:01,427 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.911121368408203, 'status': 'success'}
2025-11-06 07:31:01,427 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:31:01,427 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:31:01,538 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22091, 856), 'validation_shape': (762, 856)}
2025-11-06 07:31:01,538 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1113135814666748, 'status': 'success'}
2025-11-06 07:31:01,538 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:31:01,538 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.3855438232421875e-05, 'status': 'success'}
2025-11-06 07:31:15,039 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.914138793945312e-05, 'status': 'success'}
2025-11-06 07:31:15,480 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-06 07:31:15,480 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.941888570785522, 'status': 'success'}
2025-11-06 07:31:15,480 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-07 06:55:32,839 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-07 06:55:32,839 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-07 06:55:32,839 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-07 06:55:32,839 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x784b896c5cd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=10, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-07 06:55:32,840 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-07 06:55:32,840 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-07 06:55:32,981 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48772, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-07 06:55:32,981 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14131498336791992, 'status': 'success'}
2025-11-07 06:55:32,981 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:32,981 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:32,981 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,013 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48772, 'columns': 73}
2025-11-07 06:55:33,013 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,014 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-07 06:55:33,014 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48772, 'columns': 73}
2025-11-07 06:55:33,014 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.032509565353393555, 'status': 'success'}
2025-11-07 06:55:33,014 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,014 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,015 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-07 06:55:33,015 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-07 06:55:33,015 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11, 'date': '2025-11-07'}
2025-11-07 06:55:33,021 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 22, 'num_games': 11}
2025-11-07 06:55:33,021 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48772, 'todays_rows': 22}
2025-11-07 06:55:33,025 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,025 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48794, 73), 'export_schema': True}
2025-11-07 06:55:33,067 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,067 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-07 06:55:33,743 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 323)}
2025-11-07 06:55:33,744 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,866 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 373)}
2025-11-07 06:55:33,866 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,876 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 74)}
2025-11-07 06:55:33,876 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,942 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 374)}
2025-11-07 06:55:33,950 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:33,950 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-07 06:55:34,262 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 308)}
2025-11-07 06:55:34,263 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:34,397 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 656)}
2025-11-07 06:55:34,398 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:34,404 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 74)}
2025-11-07 06:55:34,404 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:34,544 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 657)}
2025-11-07 06:55:34,553 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:34,553 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-07 06:55:34,885 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 308)}
2025-11-07 06:55:34,886 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:35,156 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 939)}
2025-11-07 06:55:35,157 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:35,164 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 74)}
2025-11-07 06:55:35,164 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:35,375 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 940)}
2025-11-07 06:55:35,376 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:55:35,456 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 941)}
2025-11-07 06:55:35,456 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45728, 941)}
2025-11-07 06:55:35,540 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22864\n1    22864\nName: count, dtype: int64'}
2025-11-07 06:56:05,115 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-07 06:56:05,115 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-07 06:56:05,117 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.66091012954712, 'status': 'success'}
2025-11-07 06:56:05,119 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45728, 944)}
2025-11-07 06:56:05,935 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-07 06:56:05,935 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-07 06:56:06,026 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-07 06:56:06,026 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.00068688392639, 'status': 'success'}
2025-11-07 06:56:06,026 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:06,026 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45728, 944)}
2025-11-07 06:56:07,097 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22864, 1758)}
2025-11-07 06:56:07,100 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0733933448791504, 'status': 'success'}
2025-11-07 06:56:07,101 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:07,101 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22864, 1758)}
2025-11-07 06:56:07,287 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-07 06:56:07,287 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.18622851371765137, 'status': 'success'}
2025-11-07 06:56:07,288 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:07,288 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-07 06:56:07,321 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-07 06:56:07,321 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.1961669921875e-05, 'status': 'success'}
2025-11-07 06:56:20,139 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:20,139 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.818012475967407, 'status': 'success'}
2025-11-07 06:56:20,139 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:20,139 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:20,279 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22099, 856), 'validation_shape': (765, 856)}
2025-11-07 06:56:20,280 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14060044288635254, 'status': 'success'}
2025-11-07 06:56:20,280 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:20,280 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.506111145019531e-05, 'status': 'success'}
2025-11-07 06:56:34,229 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.00015974044799804688, 'status': 'success'}
2025-11-07 06:56:34,667 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 06:56:34,667 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 14.387072086334229, 'status': 'success'}
2025-11-07 06:56:34,667 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-07 07:09:55,473 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-07 07:09:55,473 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-07 07:09:55,474 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-07 07:09:55,474 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7a510ff36e50>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'confidence\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_confidence\', \'display_name\': \'Average Win Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_confidence\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_confidence\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-07 07:09:55,474 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-07 07:09:55,474 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-07 07:09:55,592 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48772, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-07 07:09:55,592 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1175081729888916, 'status': 'success'}
2025-11-07 07:09:55,592 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,592 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,592 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48772, 'columns': 73}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48772, 'columns': 73}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03193855285644531, 'status': 'success'}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,624 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,625 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-07 07:09:55,625 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11}
2025-11-07 07:09:55,625 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 11, 'date': '2025-11-07'}
2025-11-07 07:09:55,631 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 22, 'num_games': 11}
2025-11-07 07:09:55,631 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48772, 'todays_rows': 22}
2025-11-07 07:09:55,635 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,635 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48794, 73), 'export_schema': True}
2025-11-07 07:09:55,669 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:55,669 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-07 07:09:56,322 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 323)}
2025-11-07 07:09:56,323 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:56,434 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 373)}
2025-11-07 07:09:56,435 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:56,444 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 74)}
2025-11-07 07:09:56,444 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:56,502 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 374)}
2025-11-07 07:09:56,510 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:56,510 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-07 07:09:56,813 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 308)}
2025-11-07 07:09:56,814 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:56,940 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 656)}
2025-11-07 07:09:56,941 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:56,947 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 74)}
2025-11-07 07:09:56,947 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:57,083 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 657)}
2025-11-07 07:09:57,091 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:57,091 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-07 07:09:57,406 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 308)}
2025-11-07 07:09:57,407 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:57,622 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 939)}
2025-11-07 07:09:57,623 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:57,629 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 74)}
2025-11-07 07:09:57,629 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:57,834 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 940)}
2025-11-07 07:09:57,836 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:09:57,918 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 941)}
2025-11-07 07:09:57,919 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45728, 941)}
2025-11-07 07:09:57,989 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22864\n1    22864\nName: count, dtype: int64'}
2025-11-07 07:10:26,747 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-07 07:10:26,748 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-07 07:10:26,750 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.830482244491577, 'status': 'success'}
2025-11-07 07:10:26,751 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45728, 944)}
2025-11-07 07:10:27,407 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-07 07:10:27,407 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-07 07:10:27,461 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45728, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-07 07:10:27,462 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.82684850692749, 'status': 'success'}
2025-11-07 07:10:27,462 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:27,462 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45728, 944)}
2025-11-07 07:10:28,671 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22864, 1758)}
2025-11-07 07:10:28,673 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.210963249206543, 'status': 'success'}
2025-11-07 07:10:28,673 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:28,673 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22864, 1758)}
2025-11-07 07:10:28,810 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22864, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-07 07:10:28,810 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1368246078491211, 'status': 'success'}
2025-11-07 07:10:28,811 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:28,812 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-07 07:10:28,839 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-07 07:10:28,840 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.075599670410156e-05, 'status': 'success'}
2025-11-07 07:10:40,272 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:40,272 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.432767629623413, 'status': 'success'}
2025-11-07 07:10:40,272 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:40,272 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:40,350 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22099, 856), 'validation_shape': (765, 856)}
2025-11-07 07:10:40,350 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.07762360572814941, 'status': 'success'}
2025-11-07 07:10:40,350 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:40,350 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.6464462280273438e-05, 'status': 'success'}
2025-11-07 07:10:51,335 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.886222839355469e-05, 'status': 'success'}
2025-11-07 07:10:51,715 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-07 07:10:51,716 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.365288257598877, 'status': 'success'}
2025-11-07 07:10:51,716 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-08 07:12:04,901 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-08 07:12:04,901 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-08 07:12:04,901 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-08 07:12:04,901 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7d3e07395c10>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=10, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-08 07:12:04,901 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-08 07:12:04,901 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-08 07:12:05,014 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48794, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-08 07:12:05,014 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1128385066986084, 'status': 'success'}
2025-11-08 07:12:05,014 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,014 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,014 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,044 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-08 07:12:05,045 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,045 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-08 07:12:05,045 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-08 07:12:05,045 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030219554901123047, 'status': 'success'}
2025-11-08 07:12:05,045 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,045 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,047 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-08 07:12:05,047 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-08 07:12:05,047 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-08'}
2025-11-08 07:12:05,054 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-08 07:12:05,054 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48794, 'todays_rows': 16}
2025-11-08 07:12:05,058 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,058 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48810, 73), 'export_schema': True}
2025-11-08 07:12:05,091 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,091 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-08 07:12:05,712 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 323)}
2025-11-08 07:12:05,712 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,830 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 373)}
2025-11-08 07:12:05,830 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,840 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 74)}
2025-11-08 07:12:05,840 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,898 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 374)}
2025-11-08 07:12:05,906 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:05,906 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-08 07:12:06,184 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-08 07:12:06,184 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:06,295 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 656)}
2025-11-08 07:12:06,296 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:06,301 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-08 07:12:06,302 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:06,448 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 657)}
2025-11-08 07:12:06,457 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:06,457 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-08 07:12:06,735 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-08 07:12:06,735 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:06,923 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 939)}
2025-11-08 07:12:06,924 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:06,930 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-08 07:12:06,930 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:07,119 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 940)}
2025-11-08 07:12:07,120 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:07,198 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 941)}
2025-11-08 07:12:07,199 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45744, 941)}
2025-11-08 07:12:07,279 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22872\n1    22872\nName: count, dtype: int64'}
2025-11-08 07:12:35,561 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-08 07:12:35,561 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-08 07:12:35,563 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.364031076431274, 'status': 'success'}
2025-11-08 07:12:35,565 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-08 07:12:36,206 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-08 07:12:36,206 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-08 07:12:36,260 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-08 07:12:36,260 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.201688528060913, 'status': 'success'}
2025-11-08 07:12:36,260 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:36,260 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-08 07:12:38,200 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22872, 1758)}
2025-11-08 07:12:38,202 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.9423305988311768, 'status': 'success'}
2025-11-08 07:12:38,203 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:38,203 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22872, 1758)}
2025-11-08 07:12:38,327 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-08 07:12:38,327 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12370419502258301, 'status': 'success'}
2025-11-08 07:12:38,327 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:38,328 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-08 07:12:38,355 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-08 07:12:38,355 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.7670135498046875e-05, 'status': 'success'}
2025-11-08 07:12:51,214 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:51,214 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.858705520629883, 'status': 'success'}
2025-11-08 07:12:51,214 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:51,214 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:51,324 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22106, 856), 'validation_shape': (766, 856)}
2025-11-08 07:12:51,325 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11111855506896973, 'status': 'success'}
2025-11-08 07:12:51,325 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:12:51,325 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.956390380859375e-05, 'status': 'success'}
2025-11-08 07:13:03,059 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.6743621826171875e-05, 'status': 'success'}
2025-11-08 07:13:03,462 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 07:13:03,463 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.137295722961426, 'status': 'success'}
2025-11-08 07:13:03,463 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-08 15:29:14,194 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-08 15:29:14,194 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-08 15:29:14,194 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-08 15:29:14,195 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7d48cd4ba350>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-08 15:29:14,195 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-08 15:29:14,195 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-08 15:29:14,326 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48794, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-08 15:29:14,326 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13164949417114258, 'status': 'success'}
2025-11-08 15:29:14,327 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,327 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,327 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028844118118286133, 'status': 'success'}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,355 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,357 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-08 15:29:14,357 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-08 15:29:14,357 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-08'}
2025-11-08 15:29:14,363 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-08 15:29:14,363 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48794, 'todays_rows': 16}
2025-11-08 15:29:14,367 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,367 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48810, 73), 'export_schema': True}
2025-11-08 15:29:14,409 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:14,409 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-08 15:29:15,116 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 323)}
2025-11-08 15:29:15,116 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,251 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 373)}
2025-11-08 15:29:15,252 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,265 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 74)}
2025-11-08 15:29:15,266 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,344 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 374)}
2025-11-08 15:29:15,354 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,354 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-08 15:29:15,688 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-08 15:29:15,689 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,833 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 656)}
2025-11-08 15:29:15,833 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,839 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-08 15:29:15,839 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:15,999 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 657)}
2025-11-08 15:29:16,007 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:16,007 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-08 15:29:16,314 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-08 15:29:16,314 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:16,529 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 939)}
2025-11-08 15:29:16,530 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:16,536 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-08 15:29:16,536 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:16,756 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 940)}
2025-11-08 15:29:16,757 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:16,834 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 941)}
2025-11-08 15:29:16,835 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45744, 941)}
2025-11-08 15:29:16,906 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22872\n1    22872\nName: count, dtype: int64'}
2025-11-08 15:29:46,896 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-08 15:29:46,896 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-08 15:29:46,898 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.06240224838257, 'status': 'success'}
2025-11-08 15:29:46,900 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-08 15:29:47,601 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-08 15:29:47,601 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-08 15:29:47,672 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-08 15:29:47,672 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.30484700202942, 'status': 'success'}
2025-11-08 15:29:47,672 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:47,672 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-08 15:29:48,798 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22872, 1758)}
2025-11-08 15:29:48,800 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1277709007263184, 'status': 'success'}
2025-11-08 15:29:48,801 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:48,801 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22872, 1758)}
2025-11-08 15:29:48,928 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-08 15:29:48,928 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1269981861114502, 'status': 'success'}
2025-11-08 15:29:48,930 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:29:48,930 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-08 15:29:48,961 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-08 15:29:48,961 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.6226043701171875e-05, 'status': 'success'}
2025-11-08 15:30:02,930 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:30:02,930 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.968708992004395, 'status': 'success'}
2025-11-08 15:30:02,930 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:30:02,930 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:30:03,046 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22106, 856), 'validation_shape': (766, 856)}
2025-11-08 15:30:03,046 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11642789840698242, 'status': 'success'}
2025-11-08 15:30:03,046 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:30:03,046 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0517578125e-05, 'status': 'success'}
2025-11-08 15:30:13,716 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.743171691894531e-05, 'status': 'success'}
2025-11-08 15:30:14,077 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 15:30:14,077 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.031096458435059, 'status': 'success'}
2025-11-08 15:30:14,077 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-08 16:56:07,501 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-08 16:56:07,501 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-08 16:56:07,501 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-08 16:56:07,501 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x741b5f065150>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-08 16:56:07,501 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-08 16:56:07,501 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-08 16:56:07,619 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48794, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-08 16:56:07,619 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11786198616027832, 'status': 'success'}
2025-11-08 16:56:07,619 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,619 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,619 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.027824878692626953, 'status': 'success'}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,647 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,648 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-08 16:56:07,648 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-08 16:56:07,648 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-08'}
2025-11-08 16:56:07,654 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-08 16:56:07,654 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48794, 'todays_rows': 16}
2025-11-08 16:56:07,658 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,658 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48810, 73), 'export_schema': True}
2025-11-08 16:56:07,696 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:07,697 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-08 16:56:08,477 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 323)}
2025-11-08 16:56:08,477 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:08,681 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 373)}
2025-11-08 16:56:08,683 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:08,694 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 74)}
2025-11-08 16:56:08,694 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:08,819 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 374)}
2025-11-08 16:56:08,833 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:08,833 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-08 16:56:09,170 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-08 16:56:09,173 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:09,415 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 656)}
2025-11-08 16:56:09,420 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:09,428 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-08 16:56:09,429 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:09,699 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 657)}
2025-11-08 16:56:09,713 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:09,713 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-08 16:56:10,041 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-08 16:56:10,042 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:10,409 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 939)}
2025-11-08 16:56:10,414 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:10,419 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-08 16:56:10,420 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:10,766 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 940)}
2025-11-08 16:56:10,773 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:10,916 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 941)}
2025-11-08 16:56:10,926 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45744, 941)}
2025-11-08 16:56:11,047 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22872\n1    22872\nName: count, dtype: int64'}
2025-11-08 16:56:39,970 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-08 16:56:39,970 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-08 16:56:39,984 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.057908535003662, 'status': 'success'}
2025-11-08 16:56:39,993 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-08 16:56:40,746 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-08 16:56:40,746 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-08 16:56:40,848 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-08 16:56:40,848 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.189521074295044, 'status': 'success'}
2025-11-08 16:56:40,848 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:40,848 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-08 16:56:42,480 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22872, 1758)}
2025-11-08 16:56:42,500 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.6519572734832764, 'status': 'success'}
2025-11-08 16:56:42,507 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:42,508 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22872, 1758)}
2025-11-08 16:56:42,710 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-08 16:56:42,710 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.20267677307128906, 'status': 'success'}
2025-11-08 16:56:42,717 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:42,717 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-08 16:56:42,766 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-08 16:56:42,766 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7894973754882812e-05, 'status': 'success'}
2025-11-08 16:56:53,273 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:53,274 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.507433652877808, 'status': 'success'}
2025-11-08 16:56:53,274 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:53,274 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:53,371 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22106, 856), 'validation_shape': (766, 856)}
2025-11-08 16:56:53,374 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0999302864074707, 'status': 'success'}
2025-11-08 16:56:53,374 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-08 16:56:53,374 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8371810913085938e-05, 'status': 'success'}
2025-11-09 15:08:37,933 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-09 15:08:37,934 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-09 15:08:37,934 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-09 15:08:37,934 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7fd1dab1b150>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-09 15:08:37,934 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-09 15:08:37,934 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-09 15:08:38,042 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48794, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-09 15:08:38,042 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10822081565856934, 'status': 'success'}
2025-11-09 15:08:38,042 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,042 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,042 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02657341957092285, 'status': 'success'}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,069 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,071 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-09 15:08:38,071 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-09 15:08:38,071 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-09'}
2025-11-09 15:08:38,076 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-09 15:08:38,076 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48794, 'todays_rows': 16}
2025-11-09 15:08:38,080 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,080 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48810, 73), 'export_schema': True}
2025-11-09 15:08:38,115 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,115 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-09 15:08:38,791 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 323)}
2025-11-09 15:08:38,791 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,911 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 373)}
2025-11-09 15:08:38,912 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,922 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 74)}
2025-11-09 15:08:38,922 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,982 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 374)}
2025-11-09 15:08:38,989 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:38,989 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-09 15:08:39,280 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-09 15:08:39,280 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:39,392 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 656)}
2025-11-09 15:08:39,392 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:39,398 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-09 15:08:39,398 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:39,523 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 657)}
2025-11-09 15:08:39,533 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:39,534 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-09 15:08:39,816 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-09 15:08:39,817 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:40,017 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 939)}
2025-11-09 15:08:40,017 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:40,023 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-09 15:08:40,023 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:40,211 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 940)}
2025-11-09 15:08:40,212 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:08:40,284 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 941)}
2025-11-09 15:08:40,285 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45744, 941)}
2025-11-09 15:08:40,350 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22872\n1    22872\nName: count, dtype: int64'}
2025-11-09 15:09:08,279 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-09 15:09:08,279 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-09 15:09:08,281 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.995710849761963, 'status': 'success'}
2025-11-09 15:09:08,282 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-09 15:09:08,928 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-09 15:09:08,928 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-09 15:09:08,982 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-09 15:09:08,982 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.90197205543518, 'status': 'success'}
2025-11-09 15:09:08,982 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:08,982 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-09 15:09:09,914 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22872, 1758)}
2025-11-09 15:09:09,916 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9343109130859375, 'status': 'success'}
2025-11-09 15:09:09,917 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:09,917 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22872, 1758)}
2025-11-09 15:09:10,031 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-09 15:09:10,031 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11397409439086914, 'status': 'success'}
2025-11-09 15:09:10,032 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:10,032 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-09 15:09:10,057 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-09 15:09:10,058 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.956390380859375e-05, 'status': 'success'}
2025-11-09 15:09:21,267 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:21,268 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.21010136604309, 'status': 'success'}
2025-11-09 15:09:21,268 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:21,268 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:21,388 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22106, 856), 'validation_shape': (766, 856)}
2025-11-09 15:09:21,389 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1206362247467041, 'status': 'success'}
2025-11-09 15:09:21,389 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:21,389 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8133392333984375e-05, 'status': 'success'}
2025-11-09 15:09:34,101 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.175041198730469e-05, 'status': 'success'}
2025-11-09 15:09:34,545 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:09:34,545 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.156347274780273, 'status': 'success'}
2025-11-09 15:09:34,545 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-09 15:19:17,054 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-09 15:19:17,054 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-09 15:19:17,054 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-09 15:19:17,054 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x76caa9655190>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-09 15:19:17,054 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-09 15:19:17,054 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-09 15:19:17,171 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48794, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-09 15:19:17,172 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11713671684265137, 'status': 'success'}
2025-11-09 15:19:17,172 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,172 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,172 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48794, 'columns': 73}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02824711799621582, 'status': 'success'}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,200 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,201 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-09 15:19:17,201 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-09 15:19:17,201 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-09'}
2025-11-09 15:19:17,206 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-09 15:19:17,206 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48794, 'todays_rows': 16}
2025-11-09 15:19:17,211 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,211 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48810, 73), 'export_schema': True}
2025-11-09 15:19:17,244 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,245 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-09 15:19:17,864 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 323)}
2025-11-09 15:19:17,865 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,974 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 373)}
2025-11-09 15:19:17,975 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:17,984 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 74)}
2025-11-09 15:19:17,984 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:18,041 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 374)}
2025-11-09 15:19:18,048 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:18,049 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-09 15:19:18,340 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-09 15:19:18,341 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:18,463 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 656)}
2025-11-09 15:19:18,464 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:18,469 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-09 15:19:18,470 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:18,604 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 657)}
2025-11-09 15:19:18,613 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:18,613 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-09 15:19:18,899 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 308)}
2025-11-09 15:19:18,899 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:19,086 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 939)}
2025-11-09 15:19:19,086 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:19,092 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 74)}
2025-11-09 15:19:19,093 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:19,290 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 940)}
2025-11-09 15:19:19,291 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:19,398 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 941)}
2025-11-09 15:19:19,399 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45744, 941)}
2025-11-09 15:19:19,495 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22872\n1    22872\nName: count, dtype: int64'}
2025-11-09 15:19:46,462 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-09 15:19:46,462 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-09 15:19:46,464 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.06570291519165, 'status': 'success'}
2025-11-09 15:19:46,467 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-09 15:19:48,265 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-09 15:19:48,265 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-09 15:19:48,318 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45744, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-09 15:19:48,319 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.107778310775757, 'status': 'success'}
2025-11-09 15:19:48,319 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:48,319 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45744, 944)}
2025-11-09 15:19:49,387 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22872, 1758)}
2025-11-09 15:19:49,390 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0709617137908936, 'status': 'success'}
2025-11-09 15:19:49,391 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:49,391 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22872, 1758)}
2025-11-09 15:19:49,514 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22872, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-09 15:19:49,514 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12239503860473633, 'status': 'success'}
2025-11-09 15:19:49,514 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:19:49,515 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-09 15:19:49,542 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-09 15:19:49,542 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8371810913085938e-05, 'status': 'success'}
2025-11-09 15:20:00,665 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:20:00,665 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.123095035552979, 'status': 'success'}
2025-11-09 15:20:00,665 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:20:00,665 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:20:00,812 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22106, 856), 'validation_shape': (766, 856)}
2025-11-09 15:20:00,812 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14700555801391602, 'status': 'success'}
2025-11-09 15:20:00,813 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:20:00,813 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8848648071289062e-05, 'status': 'success'}
2025-11-09 15:20:11,515 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.124641418457031e-05, 'status': 'success'}
2025-11-09 15:20:11,883 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-09 15:20:11,883 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.070700645446777, 'status': 'success'}
2025-11-09 15:20:11,883 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-10 06:47:10,376 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-10 06:47:10,377 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-10 06:47:10,377 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-10 06:47:10,378 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7a43a0393410>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-10 06:47:10,378 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-10 06:47:10,378 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-10 06:47:10,519 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48824, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-10 06:47:10,519 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14100241661071777, 'status': 'success'}
2025-11-10 06:47:10,519 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,519 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,519 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028397083282470703, 'status': 'success'}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,547 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,548 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 06:47:10,549 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 06:47:10,549 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-10'}
2025-11-10 06:47:10,554 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-10 06:47:10,554 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48824, 'todays_rows': 18}
2025-11-10 06:47:10,558 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,558 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48842, 73), 'export_schema': True}
2025-11-10 06:47:10,602 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:10,603 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-10 06:47:11,257 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 323)}
2025-11-10 06:47:11,258 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:11,380 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 373)}
2025-11-10 06:47:11,381 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:11,391 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 74)}
2025-11-10 06:47:11,391 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:11,449 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 374)}
2025-11-10 06:47:11,456 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:11,457 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-10 06:47:11,752 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 06:47:11,753 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:11,873 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 656)}
2025-11-10 06:47:11,874 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:11,879 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 06:47:11,880 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:12,038 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 657)}
2025-11-10 06:47:12,047 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:12,047 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-10 06:47:12,327 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 06:47:12,327 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:12,530 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 939)}
2025-11-10 06:47:12,532 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:12,538 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 06:47:12,538 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:12,730 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 940)}
2025-11-10 06:47:12,731 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:12,815 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 941)}
2025-11-10 06:47:12,816 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45776, 941)}
2025-11-10 06:47:12,889 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22888\n1    22888\nName: count, dtype: int64'}
2025-11-10 06:47:44,869 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-10 06:47:44,869 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-10 06:47:44,872 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 32.055861711502075, 'status': 'success'}
2025-11-10 06:47:44,875 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 06:47:45,673 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-10 06:47:45,673 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-10 06:47:45,753 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-10 06:47:45,753 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 35.19460463523865, 'status': 'success'}
2025-11-10 06:47:45,753 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:45,753 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 06:47:47,294 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22888, 1758)}
2025-11-10 06:47:47,296 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.5431981086730957, 'status': 'success'}
2025-11-10 06:47:47,297 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:47,297 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22888, 1758)}
2025-11-10 06:47:47,439 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-10 06:47:47,440 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14226770401000977, 'status': 'success'}
2025-11-10 06:47:47,440 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:47,441 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-10 06:47:47,471 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-10 06:47:47,471 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.457069396972656e-05, 'status': 'success'}
2025-11-10 06:47:58,798 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:58,799 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.32729959487915, 'status': 'success'}
2025-11-10 06:47:58,799 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:58,799 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:58,891 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22119, 856), 'validation_shape': (769, 856)}
2025-11-10 06:47:58,892 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09336400032043457, 'status': 'success'}
2025-11-10 06:47:58,892 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:47:58,892 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.600120544433594e-05, 'status': 'success'}
2025-11-10 06:48:10,308 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.1961669921875e-05, 'status': 'success'}
2025-11-10 06:48:10,711 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 06:48:10,711 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.819066047668457, 'status': 'success'}
2025-11-10 06:48:10,711 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-10 07:27:00,232 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-10 07:27:00,233 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-10 07:27:00,233 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-10 07:27:00,233 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7b90ba907390>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=7, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-10 07:27:00,233 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-10 07:27:00,233 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-10 07:27:00,372 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48824, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-10 07:27:00,372 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13845181465148926, 'status': 'success'}
2025-11-10 07:27:00,372 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,372 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,372 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03078436851501465, 'status': 'success'}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,403 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,404 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 07:27:00,404 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 07:27:00,404 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-10'}
2025-11-10 07:27:00,410 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-10 07:27:00,410 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48824, 'todays_rows': 18}
2025-11-10 07:27:00,414 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,415 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48842, 73), 'export_schema': True}
2025-11-10 07:27:00,457 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:00,457 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-10 07:27:01,188 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 323)}
2025-11-10 07:27:01,189 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:01,327 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 373)}
2025-11-10 07:27:01,328 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:01,338 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 74)}
2025-11-10 07:27:01,338 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:01,401 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 374)}
2025-11-10 07:27:01,411 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:01,411 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-10 07:27:01,716 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 07:27:01,717 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:01,895 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 656)}
2025-11-10 07:27:01,896 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:01,902 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 07:27:01,902 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:02,237 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 657)}
2025-11-10 07:27:02,246 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:02,246 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-10 07:27:02,552 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 07:27:02,552 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:02,911 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 939)}
2025-11-10 07:27:02,914 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:02,921 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 07:27:02,921 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:03,776 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 940)}
2025-11-10 07:27:03,777 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:03,862 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 941)}
2025-11-10 07:27:03,863 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45776, 941)}
2025-11-10 07:27:03,937 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22888\n1    22888\nName: count, dtype: int64'}
2025-11-10 07:27:32,894 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-10 07:27:32,894 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-10 07:27:32,896 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.032655715942383, 'status': 'success'}
2025-11-10 07:27:32,903 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 07:27:33,617 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-10 07:27:33,617 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-10 07:27:33,674 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-10 07:27:33,674 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.25938153266907, 'status': 'success'}
2025-11-10 07:27:33,674 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:33,674 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 07:27:36,919 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22888, 1758)}
2025-11-10 07:27:36,925 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.2509958744049072, 'status': 'success'}
2025-11-10 07:27:36,926 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:36,926 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22888, 1758)}
2025-11-10 07:27:37,077 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-10 07:27:37,077 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15077662467956543, 'status': 'success'}
2025-11-10 07:27:37,078 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:37,078 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-10 07:27:37,106 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-10 07:27:37,106 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.504753112792969e-05, 'status': 'success'}
2025-11-10 07:27:47,842 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:47,843 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.73671269416809, 'status': 'success'}
2025-11-10 07:27:47,843 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:47,843 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:47,960 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22119, 856), 'validation_shape': (769, 856)}
2025-11-10 07:27:47,961 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11828041076660156, 'status': 'success'}
2025-11-10 07:27:47,961 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:27:47,961 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.4332275390625e-05, 'status': 'success'}
2025-11-10 07:27:59,731 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.982948303222656e-05, 'status': 'success'}
2025-11-10 07:28:00,143 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:28:00,143 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.18155574798584, 'status': 'success'}
2025-11-10 07:28:00,143 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-10 07:32:17,033 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-10 07:32:17,033 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-10 07:32:17,033 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-10 07:32:17,034 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7735871c2410>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=7, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-10 07:32:17,034 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-10 07:32:17,034 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-10 07:32:17,162 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48824, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-10 07:32:17,162 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1275477409362793, 'status': 'success'}
2025-11-10 07:32:17,162 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,162 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,162 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03465127944946289, 'status': 'success'}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,197 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,198 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 07:32:17,198 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 07:32:17,198 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-10'}
2025-11-10 07:32:17,206 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-10 07:32:17,206 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48824, 'todays_rows': 18}
2025-11-10 07:32:17,211 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,211 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48842, 73), 'export_schema': True}
2025-11-10 07:32:17,262 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:17,262 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-10 07:32:18,106 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 323)}
2025-11-10 07:32:18,106 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:18,328 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 373)}
2025-11-10 07:32:18,330 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:18,340 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 74)}
2025-11-10 07:32:18,341 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:18,470 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 374)}
2025-11-10 07:32:18,481 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:18,481 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-10 07:32:18,838 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 07:32:18,842 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:19,066 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 656)}
2025-11-10 07:32:19,071 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:19,077 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 07:32:19,077 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:19,362 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 657)}
2025-11-10 07:32:19,376 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:19,376 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-10 07:32:19,693 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 07:32:19,696 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:20,169 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 939)}
2025-11-10 07:32:20,176 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:20,182 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 07:32:20,182 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:20,555 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 940)}
2025-11-10 07:32:20,563 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:20,689 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 941)}
2025-11-10 07:32:20,698 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45776, 941)}
2025-11-10 07:32:20,812 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22888\n1    22888\nName: count, dtype: int64'}
2025-11-10 07:32:49,987 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-10 07:32:49,987 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-10 07:32:50,004 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.305768489837646, 'status': 'success'}
2025-11-10 07:32:50,014 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 07:32:50,898 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-10 07:32:50,898 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-10 07:32:51,017 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-10 07:32:51,018 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.80666518211365, 'status': 'success'}
2025-11-10 07:32:51,018 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:51,018 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 07:32:53,029 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22888, 1758)}
2025-11-10 07:32:53,052 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.0345776081085205, 'status': 'success'}
2025-11-10 07:32:53,061 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:53,061 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22888, 1758)}
2025-11-10 07:32:53,300 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-10 07:32:53,300 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.23904728889465332, 'status': 'success'}
2025-11-10 07:32:53,309 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:32:53,310 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-10 07:32:53,369 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-10 07:32:53,369 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 6.127357482910156e-05, 'status': 'success'}
2025-11-10 07:39:08,738 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-10 07:39:08,738 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-10 07:39:08,738 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-10 07:39:08,739 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x738d3d728d90>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=7, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-10 07:39:08,739 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-10 07:39:08,739 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-10 07:39:08,877 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48824, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-10 07:39:08,878 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13880395889282227, 'status': 'success'}
2025-11-10 07:39:08,878 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,878 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,878 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.029357433319091797, 'status': 'success'}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,907 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,908 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 07:39:08,908 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 07:39:08,908 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-10'}
2025-11-10 07:39:08,914 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-10 07:39:08,914 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48824, 'todays_rows': 18}
2025-11-10 07:39:08,918 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,918 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48842, 73), 'export_schema': True}
2025-11-10 07:39:08,960 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:08,960 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-10 07:39:09,607 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 323)}
2025-11-10 07:39:09,607 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:09,730 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 373)}
2025-11-10 07:39:09,730 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:09,740 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 74)}
2025-11-10 07:39:09,740 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:09,820 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 374)}
2025-11-10 07:39:09,828 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:09,829 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-10 07:39:10,112 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 07:39:10,113 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:10,244 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 656)}
2025-11-10 07:39:10,245 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:10,251 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 07:39:10,251 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:10,391 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 657)}
2025-11-10 07:39:10,400 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:10,400 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-10 07:39:10,693 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 07:39:10,694 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:10,904 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 939)}
2025-11-10 07:39:10,905 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:10,911 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 07:39:10,911 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:11,100 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 940)}
2025-11-10 07:39:11,101 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:11,183 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 941)}
2025-11-10 07:39:11,184 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45776, 941)}
2025-11-10 07:39:11,255 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22888\n1    22888\nName: count, dtype: int64'}
2025-11-10 07:39:38,674 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-10 07:39:38,674 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-10 07:39:38,676 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.492018938064575, 'status': 'success'}
2025-11-10 07:39:38,677 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 07:39:39,358 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-10 07:39:39,358 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-10 07:39:39,422 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-10 07:39:39,422 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.50400447845459, 'status': 'success'}
2025-11-10 07:39:39,422 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:39,422 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 07:39:40,599 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22888, 1758)}
2025-11-10 07:39:40,601 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.178680181503296, 'status': 'success'}
2025-11-10 07:39:40,602 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:40,602 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22888, 1758)}
2025-11-10 07:39:40,740 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-10 07:39:40,740 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13747310638427734, 'status': 'success'}
2025-11-10 07:39:40,741 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:40,741 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-10 07:39:40,771 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-10 07:39:40,772 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.361701965332031e-05, 'status': 'success'}
2025-11-10 07:39:51,476 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:51,477 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.705005407333374, 'status': 'success'}
2025-11-10 07:39:51,477 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:51,477 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:51,550 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22119, 856), 'validation_shape': (769, 856)}
2025-11-10 07:39:51,550 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0736849308013916, 'status': 'success'}
2025-11-10 07:39:51,550 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:39:51,551 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.340576171875e-05, 'status': 'success'}
2025-11-10 07:40:02,890 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.1961669921875e-05, 'status': 'success'}
2025-11-10 07:40:03,285 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 07:40:03,285 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.734882116317749, 'status': 'success'}
2025-11-10 07:40:03,285 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-10 08:36:33,129 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-10 08:36:33,130 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-10 08:36:33,130 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-10 08:36:33,130 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x707666f4f310>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=7, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-10 08:36:33,130 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-10 08:36:33,130 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-10 08:36:33,246 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48824, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-10 08:36:33,247 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11633849143981934, 'status': 'success'}
2025-11-10 08:36:33,247 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,247 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,247 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.030240535736083984, 'status': 'success'}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,277 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,279 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 08:36:33,279 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 08:36:33,279 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-10'}
2025-11-10 08:36:33,284 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-10 08:36:33,285 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48824, 'todays_rows': 18}
2025-11-10 08:36:33,289 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,289 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48842, 73), 'export_schema': True}
2025-11-10 08:36:33,322 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:33,323 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-10 08:36:33,980 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 323)}
2025-11-10 08:36:33,981 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,103 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 373)}
2025-11-10 08:36:34,104 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,112 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 74)}
2025-11-10 08:36:34,113 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,172 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 374)}
2025-11-10 08:36:34,180 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,180 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-10 08:36:34,470 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 08:36:34,471 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,588 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 656)}
2025-11-10 08:36:34,588 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,594 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 08:36:34,594 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,738 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 657)}
2025-11-10 08:36:34,747 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:34,747 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-10 08:36:35,033 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 08:36:35,034 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:35,240 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 939)}
2025-11-10 08:36:35,241 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:35,247 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 08:36:35,247 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:35,442 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 940)}
2025-11-10 08:36:35,443 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:36:35,527 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 941)}
2025-11-10 08:36:35,528 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45776, 941)}
2025-11-10 08:36:35,602 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22888\n1    22888\nName: count, dtype: int64'}
2025-11-10 08:37:03,271 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-10 08:37:03,272 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-10 08:37:03,273 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.74543833732605, 'status': 'success'}
2025-11-10 08:37:03,275 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 08:37:03,951 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-10 08:37:03,952 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-10 08:37:04,007 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-10 08:37:04,007 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.71846294403076, 'status': 'success'}
2025-11-10 08:37:04,007 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:04,007 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 08:37:04,994 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22888, 1758)}
2025-11-10 08:37:04,996 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9888308048248291, 'status': 'success'}
2025-11-10 08:37:04,997 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:04,997 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22888, 1758)}
2025-11-10 08:37:05,120 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-10 08:37:05,120 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12265396118164062, 'status': 'success'}
2025-11-10 08:37:05,121 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:05,121 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-10 08:37:05,148 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-10 08:37:05,148 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.170967102050781e-05, 'status': 'success'}
2025-11-10 08:37:16,026 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:16,026 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.878520488739014, 'status': 'success'}
2025-11-10 08:37:16,026 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:16,026 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:16,116 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22119, 856), 'validation_shape': (769, 856)}
2025-11-10 08:37:16,117 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09031105041503906, 'status': 'success'}
2025-11-10 08:37:16,117 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:16,117 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.745887756347656e-05, 'status': 'success'}
2025-11-10 08:37:27,380 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 7.414817810058594e-05, 'status': 'success'}
2025-11-10 08:37:27,780 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 08:37:27,781 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.663575649261475, 'status': 'success'}
2025-11-10 08:37:27,781 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-10 10:10:57,185 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-10 10:10:57,194 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-10 10:10:57,194 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-10 10:10:57,195 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x74beb5c8b050>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-10 10:10:57,195 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-10 10:10:57,195 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-10 10:10:57,310 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48824, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-10 10:10:57,310 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11496376991271973, 'status': 'success'}
2025-11-10 10:10:57,310 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,310 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,310 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48824, 'columns': 73}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.0283510684967041, 'status': 'success'}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,338 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,339 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 10:10:57,339 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-10 10:10:57,339 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-10'}
2025-11-10 10:10:57,345 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-10 10:10:57,345 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48824, 'todays_rows': 18}
2025-11-10 10:10:57,349 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,349 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48842, 73), 'export_schema': True}
2025-11-10 10:10:57,381 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:57,381 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-10 10:10:58,027 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 323)}
2025-11-10 10:10:58,027 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,146 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 373)}
2025-11-10 10:10:58,147 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,156 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 74)}
2025-11-10 10:10:58,156 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,214 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 374)}
2025-11-10 10:10:58,222 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,222 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-10 10:10:58,502 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 10:10:58,503 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,612 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 656)}
2025-11-10 10:10:58,612 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,618 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 10:10:58,618 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,761 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 657)}
2025-11-10 10:10:58,769 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:58,769 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-10 10:10:59,047 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 308)}
2025-11-10 10:10:59,047 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:59,246 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 939)}
2025-11-10 10:10:59,247 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:59,252 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 74)}
2025-11-10 10:10:59,253 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:59,442 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 940)}
2025-11-10 10:10:59,443 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:10:59,520 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 941)}
2025-11-10 10:10:59,521 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45776, 941)}
2025-11-10 10:10:59,588 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22888\n1    22888\nName: count, dtype: int64'}
2025-11-10 10:11:27,331 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-10 10:11:27,331 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-10 10:11:27,333 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.81193995475769, 'status': 'success'}
2025-11-10 10:11:27,334 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 10:11:27,994 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-10 10:11:27,994 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-10 10:11:28,049 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45776, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-10 10:11:28,049 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.699405908584595, 'status': 'success'}
2025-11-10 10:11:28,049 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:28,049 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45776, 944)}
2025-11-10 10:11:29,012 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22888, 1758)}
2025-11-10 10:11:29,014 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9649312496185303, 'status': 'success'}
2025-11-10 10:11:29,015 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:29,015 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22888, 1758)}
2025-11-10 10:11:29,132 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22888, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-10 10:11:29,132 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1172327995300293, 'status': 'success'}
2025-11-10 10:11:29,133 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:29,133 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-10 10:11:29,158 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-10 10:11:29,159 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.147125244140625e-05, 'status': 'success'}
2025-11-10 10:11:40,815 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:40,815 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.656876564025879, 'status': 'success'}
2025-11-10 10:11:40,816 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:40,816 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:40,923 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22119, 856), 'validation_shape': (769, 856)}
2025-11-10 10:11:40,923 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1074676513671875, 'status': 'success'}
2025-11-10 10:11:40,923 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:40,923 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7418136596679688e-05, 'status': 'success'}
2025-11-10 10:11:51,733 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.100799560546875e-05, 'status': 'success'}
2025-11-10 10:11:52,120 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-10 10:11:52,121 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.197365999221802, 'status': 'success'}
2025-11-10 10:11:52,121 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-11 07:14:17,396 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-11 07:14:17,396 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-11 07:14:17,396 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-11 07:14:17,397 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x783527325890>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-11 07:14:17,397 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-11 07:14:17,397 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-11 07:14:17,519 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48842, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-11 07:14:17,519 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12205672264099121, 'status': 'success'}
2025-11-11 07:14:17,519 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,519 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,519 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48842, 'columns': 73}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48842, 'columns': 73}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028333187103271484, 'status': 'success'}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,547 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,548 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-11 07:14:17,549 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-11 07:14:17,549 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-11'}
2025-11-11 07:14:17,554 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-11 07:14:17,554 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48842, 'todays_rows': 12}
2025-11-11 07:14:17,558 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,558 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48854, 73), 'export_schema': True}
2025-11-11 07:14:17,591 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:17,592 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-11 07:14:18,230 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 323)}
2025-11-11 07:14:18,231 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:18,346 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 373)}
2025-11-11 07:14:18,346 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:18,356 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 74)}
2025-11-11 07:14:18,356 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:18,412 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 374)}
2025-11-11 07:14:18,420 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:18,421 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-11 07:14:18,733 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22894, 308)}
2025-11-11 07:14:18,734 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:18,874 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 656)}
2025-11-11 07:14:18,874 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:18,880 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22894, 74)}
2025-11-11 07:14:18,881 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:19,030 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 657)}
2025-11-11 07:14:19,040 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:19,040 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-11 07:14:19,362 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22894, 308)}
2025-11-11 07:14:19,363 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:19,585 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 939)}
2025-11-11 07:14:19,586 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:19,592 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22894, 74)}
2025-11-11 07:14:19,593 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:19,795 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 940)}
2025-11-11 07:14:19,796 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:19,904 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 941)}
2025-11-11 07:14:19,905 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45788, 941)}
2025-11-11 07:14:19,985 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22894\n1    22894\nName: count, dtype: int64'}
2025-11-11 07:14:47,789 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-11 07:14:47,789 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-11 07:14:47,791 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.88602614402771, 'status': 'success'}
2025-11-11 07:14:47,792 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45788, 944)}
2025-11-11 07:14:48,444 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-11 07:14:48,445 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-11 07:14:48,500 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45788, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-11 07:14:48,500 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.94181537628174, 'status': 'success'}
2025-11-11 07:14:48,500 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:48,500 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45788, 944)}
2025-11-11 07:14:49,630 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22894, 1758)}
2025-11-11 07:14:49,634 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1337237358093262, 'status': 'success'}
2025-11-11 07:14:49,635 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:49,635 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22894, 1758)}
2025-11-11 07:14:49,752 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22894, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-11 07:14:49,753 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11786484718322754, 'status': 'success'}
2025-11-11 07:14:49,753 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:14:49,754 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-11 07:14:49,779 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-11 07:14:49,780 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.3855438232421875e-05, 'status': 'success'}
2025-11-11 07:15:01,343 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:15:01,343 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.563682317733765, 'status': 'success'}
2025-11-11 07:15:01,343 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:15:01,343 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:15:01,443 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22123, 856), 'validation_shape': (771, 856)}
2025-11-11 07:15:01,444 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10008478164672852, 'status': 'success'}
2025-11-11 07:15:01,444 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:15:01,444 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.24249267578125e-05, 'status': 'success'}
2025-11-11 07:15:12,427 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.078315734863281e-05, 'status': 'success'}
2025-11-11 07:15:12,816 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-11 07:15:12,816 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.372754573822021, 'status': 'success'}
2025-11-11 07:15:12,816 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-12 06:49:52,815 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-12 06:49:52,817 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-12 06:49:52,818 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-12 06:49:52,818 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7898fdd920d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-12 06:49:52,819 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-12 06:49:52,823 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-12 06:49:53,161 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48854, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-12 06:49:53,161 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.3381383419036865, 'status': 'success'}
2025-11-12 06:49:53,161 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,161 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,161 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48854, 'columns': 73}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48854, 'columns': 73}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.04193234443664551, 'status': 'success'}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,203 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,205 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-11-12 06:49:53,205 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12}
2025-11-12 06:49:53,205 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 12, 'date': '2025-11-12'}
2025-11-12 06:49:53,212 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 24, 'num_games': 12}
2025-11-12 06:49:53,212 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48854, 'todays_rows': 24}
2025-11-12 06:49:53,227 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,227 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48878, 73), 'export_schema': True}
2025-11-12 06:49:53,325 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:53,325 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-12 06:49:55,280 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 323)}
2025-11-12 06:49:55,281 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:55,416 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 373)}
2025-11-12 06:49:55,417 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:55,435 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 74)}
2025-11-12 06:49:55,435 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:55,498 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 374)}
2025-11-12 06:49:55,507 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:55,507 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-12 06:49:55,810 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22906, 308)}
2025-11-12 06:49:55,811 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:56,001 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 656)}
2025-11-12 06:49:56,001 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:56,007 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22906, 74)}
2025-11-12 06:49:56,007 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:56,202 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 657)}
2025-11-12 06:49:56,210 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:56,211 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-12 06:49:56,514 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22906, 308)}
2025-11-12 06:49:56,515 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:56,769 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 939)}
2025-11-12 06:49:56,770 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:56,776 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22906, 74)}
2025-11-12 06:49:56,777 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:57,016 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 940)}
2025-11-12 06:49:57,019 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:49:57,096 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 941)}
2025-11-12 06:49:57,097 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45812, 941)}
2025-11-12 06:49:57,168 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22906\n1    22906\nName: count, dtype: int64'}
2025-11-12 06:50:25,997 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-12 06:50:25,997 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-12 06:50:25,999 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.90190076828003, 'status': 'success'}
2025-11-12 06:50:26,006 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45812, 944)}
2025-11-12 06:50:26,796 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-12 06:50:26,796 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-12 06:50:26,858 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45812, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-12 06:50:26,858 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.63083243370056, 'status': 'success'}
2025-11-12 06:50:26,858 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:26,858 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45812, 944)}
2025-11-12 06:50:28,179 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22906, 1758)}
2025-11-12 06:50:28,182 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.3235523700714111, 'status': 'success'}
2025-11-12 06:50:28,183 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:28,183 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22906, 1758)}
2025-11-12 06:50:28,299 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22906, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-12 06:50:28,299 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11605477333068848, 'status': 'success'}
2025-11-12 06:50:28,300 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:28,300 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-12 06:50:28,327 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-12 06:50:28,327 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0040740966796875e-05, 'status': 'success'}
2025-11-12 06:50:39,860 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:39,860 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.533369302749634, 'status': 'success'}
2025-11-12 06:50:39,860 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:39,861 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:39,974 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22133, 856), 'validation_shape': (773, 856)}
2025-11-12 06:50:39,975 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11403632164001465, 'status': 'success'}
2025-11-12 06:50:39,975 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:39,975 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9087066650390625e-05, 'status': 'success'}
2025-11-12 06:50:51,099 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.57763671875e-05, 'status': 'success'}
2025-11-12 06:50:51,491 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-12 06:50:51,491 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.516311168670654, 'status': 'success'}
2025-11-12 06:50:51,491 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-13 09:06:18,278 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-13 09:06:18,279 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-13 09:06:18,279 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-13 09:06:18,279 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x732f72f18550>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-13 09:06:18,279 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-13 09:06:18,280 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-13 09:06:18,404 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48878, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-13 09:06:18,404 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12437129020690918, 'status': 'success'}
2025-11-13 09:06:18,404 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,404 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,404 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,432 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48878, 'columns': 73}
2025-11-13 09:06:18,432 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,432 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-13 09:06:18,433 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48878, 'columns': 73}
2025-11-13 09:06:18,433 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028534889221191406, 'status': 'success'}
2025-11-13 09:06:18,433 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,433 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,434 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 3}
2025-11-13 09:06:18,434 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 3}
2025-11-13 09:06:18,434 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 3, 'date': '2025-11-13'}
2025-11-13 09:06:18,439 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 6, 'num_games': 3}
2025-11-13 09:06:18,439 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48878, 'todays_rows': 6}
2025-11-13 09:06:18,443 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,443 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48884, 73), 'export_schema': True}
2025-11-13 09:06:18,481 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:18,481 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-13 09:06:19,103 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 323)}
2025-11-13 09:06:19,103 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,232 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 373)}
2025-11-13 09:06:19,233 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,242 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 74)}
2025-11-13 09:06:19,242 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,298 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 374)}
2025-11-13 09:06:19,306 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,306 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-13 09:06:19,584 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22909, 308)}
2025-11-13 09:06:19,585 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,767 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 656)}
2025-11-13 09:06:19,768 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,774 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22909, 74)}
2025-11-13 09:06:19,774 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,945 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 657)}
2025-11-13 09:06:19,954 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:19,954 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-13 09:06:20,241 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22909, 308)}
2025-11-13 09:06:20,241 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:20,461 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 939)}
2025-11-13 09:06:20,461 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:20,468 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22909, 74)}
2025-11-13 09:06:20,468 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:20,686 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 940)}
2025-11-13 09:06:20,687 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:20,765 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 941)}
2025-11-13 09:06:20,766 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45818, 941)}
2025-11-13 09:06:20,838 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22909\n1    22909\nName: count, dtype: int64'}
2025-11-13 09:06:50,623 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-13 09:06:50,623 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-13 09:06:50,624 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.85821509361267, 'status': 'success'}
2025-11-13 09:06:50,626 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45818, 944)}
2025-11-13 09:06:51,401 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-13 09:06:51,402 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-13 09:06:51,534 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45818, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-13 09:06:51,534 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.091227293014526, 'status': 'success'}
2025-11-13 09:06:51,534 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:51,534 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45818, 944)}
2025-11-13 09:06:52,590 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22909, 1758)}
2025-11-13 09:06:52,592 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0579144954681396, 'status': 'success'}
2025-11-13 09:06:52,593 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:52,593 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22909, 1758)}
2025-11-13 09:06:52,729 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22909, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-13 09:06:52,730 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1364305019378662, 'status': 'success'}
2025-11-13 09:06:52,730 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:06:52,731 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-13 09:06:52,755 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-13 09:06:52,756 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.147125244140625e-05, 'status': 'success'}
2025-11-13 09:07:04,100 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:07:04,100 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.344100713729858, 'status': 'success'}
2025-11-13 09:07:04,100 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:07:04,100 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:07:04,165 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22135, 856), 'validation_shape': (774, 856)}
2025-11-13 09:07:04,166 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.06578946113586426, 'status': 'success'}
2025-11-13 09:07:04,166 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:07:04,166 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0040740966796875e-05, 'status': 'success'}
2025-11-13 09:07:17,063 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.220008850097656e-05, 'status': 'success'}
2025-11-13 09:07:17,435 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-13 09:07:17,435 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.269689083099365, 'status': 'success'}
2025-11-13 09:07:17,435 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-14 07:12:06,533 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-14 07:12:06,534 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-14 07:12:06,534 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-14 07:12:06,534 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7a9247706e90>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-14 07:12:06,534 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-14 07:12:06,534 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-14 07:12:06,667 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48884, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-14 07:12:06,667 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13326239585876465, 'status': 'success'}
2025-11-14 07:12:06,667 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,667 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,667 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48884, 'columns': 73}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48884, 'columns': 73}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03178739547729492, 'status': 'success'}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,699 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,701 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-14 07:12:06,701 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9}
2025-11-14 07:12:06,701 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 9, 'date': '2025-11-14'}
2025-11-14 07:12:06,707 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 18, 'num_games': 9}
2025-11-14 07:12:06,708 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48884, 'todays_rows': 18}
2025-11-14 07:12:06,713 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,713 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48902, 73), 'export_schema': True}
2025-11-14 07:12:06,757 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:06,757 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-14 07:12:07,394 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 323)}
2025-11-14 07:12:07,395 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:07,523 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 373)}
2025-11-14 07:12:07,524 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:07,535 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 74)}
2025-11-14 07:12:07,535 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:07,607 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 374)}
2025-11-14 07:12:07,616 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:07,616 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-14 07:12:07,935 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22918, 308)}
2025-11-14 07:12:07,936 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:08,058 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 656)}
2025-11-14 07:12:08,059 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:08,065 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22918, 74)}
2025-11-14 07:12:08,066 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:08,203 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 657)}
2025-11-14 07:12:08,211 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:08,212 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-14 07:12:08,516 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22918, 308)}
2025-11-14 07:12:08,516 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:08,769 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 939)}
2025-11-14 07:12:08,770 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:08,776 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22918, 74)}
2025-11-14 07:12:08,776 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:09,047 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 940)}
2025-11-14 07:12:09,050 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:09,127 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 941)}
2025-11-14 07:12:09,127 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45836, 941)}
2025-11-14 07:12:09,198 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22918\n1    22918\nName: count, dtype: int64'}
2025-11-14 07:12:37,774 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-14 07:12:37,774 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-14 07:12:37,776 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.64856195449829, 'status': 'success'}
2025-11-14 07:12:37,778 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45836, 944)}
2025-11-14 07:12:38,511 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-14 07:12:38,511 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-14 07:12:38,582 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45836, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-14 07:12:38,582 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.86847186088562, 'status': 'success'}
2025-11-14 07:12:38,582 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:38,582 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45836, 944)}
2025-11-14 07:12:40,200 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22918, 1758)}
2025-11-14 07:12:40,203 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.6209096908569336, 'status': 'success'}
2025-11-14 07:12:40,204 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:40,204 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22918, 1758)}
2025-11-14 07:12:40,332 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22918, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-14 07:12:40,332 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12783193588256836, 'status': 'success'}
2025-11-14 07:12:40,333 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:40,333 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-14 07:12:40,361 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-14 07:12:40,361 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9802322387695312e-05, 'status': 'success'}
2025-11-14 07:12:52,607 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:52,607 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.246015548706055, 'status': 'success'}
2025-11-14 07:12:52,607 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:52,607 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:52,710 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22143, 856), 'validation_shape': (775, 856)}
2025-11-14 07:12:52,711 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1037442684173584, 'status': 'success'}
2025-11-14 07:12:52,711 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:12:52,711 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.457069396972656e-05, 'status': 'success'}
2025-11-14 07:13:04,508 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.482269287109375e-05, 'status': 'success'}
2025-11-14 07:13:04,916 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-14 07:13:04,916 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.20511507987976, 'status': 'success'}
2025-11-14 07:13:04,916 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-15 07:59:25,875 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-15 07:59:25,876 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-15 07:59:25,876 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-15 07:59:25,876 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x76872b61b3d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-15 07:59:25,876 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-15 07:59:25,876 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-15 07:59:26,000 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48902, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-15 07:59:26,000 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12428021430969238, 'status': 'success'}
2025-11-15 07:59:26,000 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,001 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,001 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48902, 'columns': 73}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48902, 'columns': 73}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02746725082397461, 'status': 'success'}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,028 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,029 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 5}
2025-11-15 07:59:26,029 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 5}
2025-11-15 07:59:26,029 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 5, 'date': '2025-11-15'}
2025-11-15 07:59:26,035 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 10, 'num_games': 5}
2025-11-15 07:59:26,035 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48902, 'todays_rows': 10}
2025-11-15 07:59:26,038 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,038 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48912, 73), 'export_schema': True}
2025-11-15 07:59:26,080 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,081 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-15 07:59:26,815 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 323)}
2025-11-15 07:59:26,817 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:26,988 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 373)}
2025-11-15 07:59:26,989 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,007 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 74)}
2025-11-15 07:59:27,007 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,089 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 374)}
2025-11-15 07:59:27,100 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,100 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-15 07:59:27,398 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22923, 308)}
2025-11-15 07:59:27,399 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,629 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 656)}
2025-11-15 07:59:27,631 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,637 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22923, 74)}
2025-11-15 07:59:27,637 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,897 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 657)}
2025-11-15 07:59:27,907 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:27,907 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-15 07:59:28,189 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22923, 308)}
2025-11-15 07:59:28,189 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:28,530 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 939)}
2025-11-15 07:59:28,539 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:28,544 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22923, 74)}
2025-11-15 07:59:28,545 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:28,916 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 940)}
2025-11-15 07:59:28,925 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:29,002 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 941)}
2025-11-15 07:59:29,003 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45846, 941)}
2025-11-15 07:59:29,080 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22923\n1    22923\nName: count, dtype: int64'}
2025-11-15 07:59:57,112 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-15 07:59:57,112 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-15 07:59:57,114 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.110955476760864, 'status': 'success'}
2025-11-15 07:59:57,125 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45846, 944)}
2025-11-15 07:59:57,864 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-15 07:59:57,864 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-15 07:59:57,919 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45846, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-15 07:59:57,919 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.88098406791687, 'status': 'success'}
2025-11-15 07:59:57,919 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:57,919 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45846, 944)}
2025-11-15 07:59:59,746 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22923, 1758)}
2025-11-15 07:59:59,757 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.837738037109375, 'status': 'success'}
2025-11-15 07:59:59,759 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:59,759 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22923, 1758)}
2025-11-15 07:59:59,882 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22923, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-15 07:59:59,882 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12300348281860352, 'status': 'success'}
2025-11-15 07:59:59,883 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 07:59:59,884 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-15 07:59:59,908 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-15 07:59:59,908 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.123283386230469e-05, 'status': 'success'}
2025-11-15 08:00:11,089 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 08:00:11,089 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.180477857589722, 'status': 'success'}
2025-11-15 08:00:11,089 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 08:00:11,089 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 08:00:11,195 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22147, 856), 'validation_shape': (776, 856)}
2025-11-15 08:00:11,196 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10671710968017578, 'status': 'success'}
2025-11-15 08:00:11,196 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 08:00:11,196 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.9802322387695312e-05, 'status': 'success'}
2025-11-15 08:00:22,718 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.363059997558594e-05, 'status': 'success'}
2025-11-15 08:00:23,091 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-15 08:00:23,091 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.895252466201782, 'status': 'success'}
2025-11-15 08:00:23,091 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-16 07:25:26,293 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-16 07:25:26,293 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-16 07:25:26,293 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-16 07:25:26,293 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x76f41a81acd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-16 07:25:26,294 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-16 07:25:26,294 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-16 07:25:26,411 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48912, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-16 07:25:26,411 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11752772331237793, 'status': 'success'}
2025-11-16 07:25:26,411 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,411 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,411 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48912, 'columns': 73}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48912, 'columns': 73}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02655768394470215, 'status': 'success'}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,438 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,439 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-16 07:25:26,439 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-16 07:25:26,439 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-16'}
2025-11-16 07:25:26,444 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-16 07:25:26,444 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48912, 'todays_rows': 16}
2025-11-16 07:25:26,448 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,448 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48928, 73), 'export_schema': True}
2025-11-16 07:25:26,489 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:26,489 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-16 07:25:27,151 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 323)}
2025-11-16 07:25:27,151 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,272 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 373)}
2025-11-16 07:25:27,272 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,282 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 74)}
2025-11-16 07:25:27,283 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,337 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 374)}
2025-11-16 07:25:27,345 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,345 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-16 07:25:27,626 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22931, 308)}
2025-11-16 07:25:27,627 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,757 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 656)}
2025-11-16 07:25:27,758 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,764 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22931, 74)}
2025-11-16 07:25:27,764 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,919 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 657)}
2025-11-16 07:25:27,927 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:27,927 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-16 07:25:28,195 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22931, 308)}
2025-11-16 07:25:28,195 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:28,400 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 939)}
2025-11-16 07:25:28,401 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:28,406 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22931, 74)}
2025-11-16 07:25:28,406 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:28,610 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 940)}
2025-11-16 07:25:28,611 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:28,690 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 941)}
2025-11-16 07:25:28,691 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45862, 941)}
2025-11-16 07:25:28,763 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22931\n1    22931\nName: count, dtype: int64'}
2025-11-16 07:25:57,645 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-16 07:25:57,645 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-16 07:25:57,647 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.956505298614502, 'status': 'success'}
2025-11-16 07:25:57,649 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45862, 944)}
2025-11-16 07:25:58,285 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-16 07:25:58,285 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-16 07:25:58,337 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45862, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-16 07:25:58,337 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 31.889070987701416, 'status': 'success'}
2025-11-16 07:25:58,337 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:58,337 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45862, 944)}
2025-11-16 07:25:59,415 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22931, 1758)}
2025-11-16 07:25:59,417 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0801265239715576, 'status': 'success'}
2025-11-16 07:25:59,418 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:59,418 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22931, 1758)}
2025-11-16 07:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22931, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-16 07:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11486482620239258, 'status': 'success'}
2025-11-16 07:25:59,533 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:25:59,534 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-16 07:25:59,558 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-16 07:25:59,559 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0279159545898438e-05, 'status': 'success'}
2025-11-16 07:26:12,656 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:26:12,656 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.097778797149658, 'status': 'success'}
2025-11-16 07:26:12,656 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:26:12,656 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:26:12,800 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22153, 856), 'validation_shape': (778, 856)}
2025-11-16 07:26:12,800 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14401626586914062, 'status': 'success'}
2025-11-16 07:26:12,801 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:26:12,801 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.8133392333984375e-05, 'status': 'success'}
2025-11-16 07:26:22,969 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.245208740234375e-05, 'status': 'success'}
2025-11-16 07:26:23,367 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-16 07:26:23,367 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 10.566327095031738, 'status': 'success'}
2025-11-16 07:26:23,367 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-17 07:38:33,471 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-17 07:38:33,472 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-17 07:38:33,472 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-17 07:38:33,472 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x77f4060c2cd0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-17 07:38:33,472 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-17 07:38:33,472 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-17 07:38:33,606 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48928, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-17 07:38:33,607 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1343090534210205, 'status': 'success'}
2025-11-17 07:38:33,607 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,607 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,607 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48928, 'columns': 73}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48928, 'columns': 73}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.027713298797607422, 'status': 'success'}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,634 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,636 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-17 07:38:33,637 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8}
2025-11-17 07:38:33,637 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 8, 'date': '2025-11-17'}
2025-11-17 07:38:33,642 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 16, 'num_games': 8}
2025-11-17 07:38:33,642 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48928, 'todays_rows': 16}
2025-11-17 07:38:33,646 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,646 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48944, 73), 'export_schema': True}
2025-11-17 07:38:33,685 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:33,685 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-17 07:38:34,305 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 323)}
2025-11-17 07:38:34,306 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:34,418 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 373)}
2025-11-17 07:38:34,419 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:34,437 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 74)}
2025-11-17 07:38:34,438 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:34,496 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 374)}
2025-11-17 07:38:34,503 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:34,503 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-17 07:38:34,829 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22939, 308)}
2025-11-17 07:38:34,829 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:34,989 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 656)}
2025-11-17 07:38:34,990 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:34,996 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22939, 74)}
2025-11-17 07:38:34,996 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:35,128 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 657)}
2025-11-17 07:38:35,136 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:35,137 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-17 07:38:35,428 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22939, 308)}
2025-11-17 07:38:35,428 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:35,624 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 939)}
2025-11-17 07:38:35,625 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:35,631 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22939, 74)}
2025-11-17 07:38:35,631 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:35,811 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 940)}
2025-11-17 07:38:35,812 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:38:35,888 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 941)}
2025-11-17 07:38:35,889 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45878, 941)}
2025-11-17 07:38:35,968 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22939\n1    22939\nName: count, dtype: int64'}
2025-11-17 07:39:03,640 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-17 07:39:03,640 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-17 07:39:03,642 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.752586603164673, 'status': 'success'}
2025-11-17 07:39:03,643 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45878, 944)}
2025-11-17 07:39:04,300 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-17 07:39:04,300 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-17 07:39:04,354 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45878, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-17 07:39:04,354 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.70761799812317, 'status': 'success'}
2025-11-17 07:39:04,354 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:04,354 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45878, 944)}
2025-11-17 07:39:05,293 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22939, 1758)}
2025-11-17 07:39:05,295 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.9415609836578369, 'status': 'success'}
2025-11-17 07:39:05,297 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:05,297 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22939, 1758)}
2025-11-17 07:39:05,420 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22939, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-17 07:39:05,420 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12241601943969727, 'status': 'success'}
2025-11-17 07:39:05,420 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:05,421 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-17 07:39:05,447 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-17 07:39:05,447 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.123283386230469e-05, 'status': 'success'}
2025-11-17 07:39:16,890 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:16,890 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.442315101623535, 'status': 'success'}
2025-11-17 07:39:16,890 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:16,890 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:16,997 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22159, 856), 'validation_shape': (780, 856)}
2025-11-17 07:39:16,998 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10815262794494629, 'status': 'success'}
2025-11-17 07:39:16,998 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:16,998 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.361701965332031e-05, 'status': 'success'}
2025-11-17 07:39:28,182 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.340576171875e-05, 'status': 'success'}
2025-11-17 07:39:28,580 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-17 07:39:28,581 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.582540035247803, 'status': 'success'}
2025-11-17 07:39:28,581 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-18 06:48:19,031 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 06:48:19,031 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 06:48:19,031 - ml_framework.core.app_logging.app_logger - INFO - MatchupProcessor initialized | Context: {'num_teams_mapped': 30}
2025-11-18 06:48:19,031 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7ebc34da3910>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 06:48:19,031 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 06:48:19,032 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 06:48:19,169 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48944, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 06:48:19,169 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13727307319641113, 'status': 'success'}
2025-11-18 06:48:19,169 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,169 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,169 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48944, 'columns': 73}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48944, 'columns': 73}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.02835536003112793, 'status': 'success'}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,197 - ml_framework.core.app_logging.app_logger - INFO - Loading today's matchups from webscraping output | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,198 - ml_framework.core.app_logging.app_logger - INFO - Today's matchups loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-18 06:48:19,199 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6}
2025-11-18 06:48:19,199 - ml_framework.core.app_logging.app_logger - INFO - Creating placeholder rows for today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_games': 6, 'date': '2025-11-18'}
2025-11-18 06:48:19,204 - ml_framework.core.app_logging.app_logger - INFO - Placeholder rows created successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_rows': 12, 'num_games': 6}
2025-11-18 06:48:19,204 - ml_framework.core.app_logging.app_logger - INFO - Combining historical data with today's games | Context: {'app_version': '1.0.0', 'environment': 'development', 'historical_rows': 48944, 'todays_rows': 12}
2025-11-18 06:48:19,208 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,208 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48956, 73), 'export_schema': True}
2025-11-18 06:48:19,245 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:19,246 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-18 06:48:19,873 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 323)}
2025-11-18 06:48:19,873 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,001 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 373)}
2025-11-18 06:48:20,001 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,011 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 74)}
2025-11-18 06:48:20,012 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,070 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 374)}
2025-11-18 06:48:20,079 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,079 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-18 06:48:20,372 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 06:48:20,372 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,481 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 656)}
2025-11-18 06:48:20,482 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,488 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 06:48:20,488 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,628 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 657)}
2025-11-18 06:48:20,637 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:20,637 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-18 06:48:20,917 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 06:48:20,918 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:21,113 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 939)}
2025-11-18 06:48:21,114 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:21,119 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 06:48:21,119 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:21,309 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 940)}
2025-11-18 06:48:21,310 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:21,392 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 941)}
2025-11-18 06:48:21,393 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45890, 941)}
2025-11-18 06:48:21,467 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22945\n1    22945\nName: count, dtype: int64'}
2025-11-18 06:48:51,477 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-18 06:48:51,477 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-18 06:48:51,479 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.085971117019653, 'status': 'success'}
2025-11-18 06:48:51,481 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 06:48:52,203 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-18 06:48:52,203 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-18 06:48:52,258 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-18 06:48:52,258 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.049848556518555, 'status': 'success'}
2025-11-18 06:48:52,258 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:52,258 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 06:48:53,260 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22945, 1758)}
2025-11-18 06:48:53,262 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0040006637573242, 'status': 'success'}
2025-11-18 06:48:53,263 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:53,263 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22945, 1758)}
2025-11-18 06:48:53,382 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-18 06:48:53,383 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1194908618927002, 'status': 'success'}
2025-11-18 06:48:53,383 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:48:53,384 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-18 06:48:53,411 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-18 06:48:53,411 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.266334533691406e-05, 'status': 'success'}
2025-11-18 06:49:05,178 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:49:05,178 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.766567945480347, 'status': 'success'}
2025-11-18 06:49:05,178 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:49:05,178 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:49:05,288 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22164, 856), 'validation_shape': (781, 856)}
2025-11-18 06:49:05,289 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.11076498031616211, 'status': 'success'}
2025-11-18 06:49:05,289 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:49:05,289 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.933906555175781e-05, 'status': 'success'}
2025-11-18 06:49:16,224 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.458427429199219e-05, 'status': 'success'}
2025-11-18 06:49:16,620 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 06:49:16,620 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.331220626831055, 'status': 'success'}
2025-11-18 06:49:16,620 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-18 07:40:11,707 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 07:40:11,707 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 07:40:11,707 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7cb82c52f7d0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 07:40:11,707 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:40:11,708 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:40:11,845 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 07:40:11,845 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13782334327697754, 'status': 'success'}
2025-11-18 07:40:11,845 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:40:11,845 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:40:11,845 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:40:11,874 - ml_framework.core.app_logging.app_logger - WARNING - Dataframe teams_boxscores.csv has null values | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:40:11,874 - ml_framework.core.app_logging.app_logger - ERROR - Dataframe teams_boxscores.csv failed validation | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'DataValidationError', 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:40:11,874 - ml_framework.core.app_logging.app_logger - ERROR - Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'DataProcessingError', 'original_error': 'Dataframe teams_boxscores.csv failed validation'}
2025-11-18 07:40:11,874 - ml_framework.core.app_logging.app_logger - ERROR - Function validate_processed_dataframe failed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028298377990722656, 'status': 'error', 'error_type': 'DataProcessingError', 'error_message': 'Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation'}
2025-11-18 07:40:11,874 - ml_framework.core.app_logging.app_logger - ERROR - DataProcessingError occurred | Context: {'error_message': 'Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation', 'error_type': 'DataProcessingError', 'traceback': 'Traceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/data_validator.py", line 131, in validate_processed_dataframe\n    raise self.error_handler.create_error_handler(\nml_framework.core.error_handling.error_handler.DataValidationError: Dataframe teams_boxscores.csv failed validation\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/main.py", line 65, in main\n    if not data_validator.validate_processed_dataframe(processed_dataframe, config.team_centric_data_file):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/data_validator.py", line 42, in wrapper\n    return instance.app_logger.log_performance(func)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/ml_framework/core/app_logging/app_logger.py", line 112, in wrapper\n    result = func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/data_validator.py", line 150, in validate_processed_dataframe\n    raise self.error_handler.create_error_handler(\nml_framework.core.error_handling.error_handler.DataProcessingError: Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation\n'}
2025-11-18 07:52:48,863 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 07:52:48,863 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 07:52:48,863 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7d2f70f39510>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 07:52:48,863 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:52:48,863 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:52:48,987 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 07:52:48,987 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12400555610656738, 'status': 'success'}
2025-11-18 07:52:48,987 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:52:48,988 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:52:48,988 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:52:49,016 - ml_framework.core.app_logging.app_logger - WARNING - Dataframe teams_boxscores.csv has null values | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:52:49,016 - ml_framework.core.app_logging.app_logger - ERROR - Dataframe teams_boxscores.csv failed validation | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'DataValidationError', 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:52:49,016 - ml_framework.core.app_logging.app_logger - ERROR - Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation | Context: {'app_version': '1.0.0', 'environment': 'development', 'error_type': 'DataProcessingError', 'original_error': 'Dataframe teams_boxscores.csv failed validation'}
2025-11-18 07:52:49,017 - ml_framework.core.app_logging.app_logger - ERROR - Function validate_processed_dataframe failed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.028990745544433594, 'status': 'error', 'error_type': 'DataProcessingError', 'error_message': 'Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation'}
2025-11-18 07:52:49,017 - ml_framework.core.app_logging.app_logger - ERROR - DataProcessingError occurred | Context: {'error_message': 'Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation', 'error_type': 'DataProcessingError', 'traceback': 'Traceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/data_validator.py", line 131, in validate_processed_dataframe\n    raise self.error_handler.create_error_handler(\nml_framework.core.error_handling.error_handler.DataValidationError: Dataframe teams_boxscores.csv failed validation\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/feature_engineering/main.py", line 65, in main\n    if not data_validator.validate_processed_dataframe(processed_dataframe, config.team_centric_data_file):\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/data_validator.py", line 42, in wrapper\n    return instance.app_logger.log_performance(func)(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/ml_framework/core/app_logging/app_logger.py", line 112, in wrapper\n    result = func(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^\n  File "/home/chris/projects/nba_analysis_project/src/nba_app/data_validator.py", line 150, in validate_processed_dataframe\n    raise self.error_handler.create_error_handler(\nml_framework.core.error_handling.error_handler.DataProcessingError: Error in processed dataframe validation: Dataframe teams_boxscores.csv failed validation\n'}
2025-11-18 07:54:07,009 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 07:54:07,009 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 07:54:07,010 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7e17137b2650>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 07:54:07,010 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:54:07,010 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:54:07,154 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 07:54:07,154 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.14442944526672363, 'status': 'success'}
2025-11-18 07:54:07,154 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:07,154 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:07,154 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv has null values in future-dated rows (expected for placeholder games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_future_rows': np.int64(12)}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.04182553291320801, 'status': 'success'}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Loaded processed data (includes today's games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'total_rows': 48956}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:07,196 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48956, 73), 'export_schema': True}
2025-11-18 07:54:07,217 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:07,217 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-18 07:54:07,976 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 323)}
2025-11-18 07:54:07,978 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,125 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 373)}
2025-11-18 07:54:08,126 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,136 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 74)}
2025-11-18 07:54:08,137 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,195 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 374)}
2025-11-18 07:54:08,201 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,201 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-18 07:54:08,516 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 07:54:08,517 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,681 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 656)}
2025-11-18 07:54:08,682 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,688 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 07:54:08,688 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,923 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 657)}
2025-11-18 07:54:08,928 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:08,928 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-18 07:54:09,235 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 07:54:09,235 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:09,518 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 939)}
2025-11-18 07:54:09,519 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:09,525 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 07:54:09,525 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:10,058 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 940)}
2025-11-18 07:54:10,061 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:10,139 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 941)}
2025-11-18 07:54:10,140 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45890, 941)}
2025-11-18 07:54:10,210 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22945\n1    22945\nName: count, dtype: int64'}
2025-11-18 07:54:39,040 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-18 07:54:39,040 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-18 07:54:39,041 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.90163779258728, 'status': 'success'}
2025-11-18 07:54:39,048 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 07:54:39,748 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-18 07:54:39,748 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-18 07:54:39,807 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-18 07:54:39,807 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 32.61059045791626, 'status': 'success'}
2025-11-18 07:54:39,807 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:39,807 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 07:54:42,150 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22945, 1758)}
2025-11-18 07:54:42,156 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.3485236167907715, 'status': 'success'}
2025-11-18 07:54:42,157 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:42,157 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22945, 1758)}
2025-11-18 07:54:42,286 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-18 07:54:42,286 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1294245719909668, 'status': 'success'}
2025-11-18 07:54:42,287 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:42,288 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-18 07:54:42,316 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-18 07:54:42,316 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.266334533691406e-05, 'status': 'success'}
2025-11-18 07:54:54,094 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:54,094 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.778139114379883, 'status': 'success'}
2025-11-18 07:54:54,094 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:54,094 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:54,191 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22164, 856), 'validation_shape': (781, 856)}
2025-11-18 07:54:54,191 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.09738278388977051, 'status': 'success'}
2025-11-18 07:54:54,192 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:54:54,192 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.86102294921875e-05, 'status': 'success'}
2025-11-18 07:55:05,831 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.078315734863281e-05, 'status': 'success'}
2025-11-18 07:55:06,240 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:55:06,241 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.048920631408691, 'status': 'success'}
2025-11-18 07:55:06,241 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-18 07:56:39,449 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 07:56:39,449 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 07:56:39,450 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x71308c6caed0>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 07:56:39,450 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:56:39,450 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 07:56:39,578 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 07:56:39,578 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12853240966796875, 'status': 'success'}
2025-11-18 07:56:39,578 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:39,579 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:39,579 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv has null values in future-dated rows (expected for placeholder games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_future_rows': np.int64(12)}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.03935956954956055, 'status': 'success'}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Loaded processed data (includes today's games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'total_rows': 48956}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:39,618 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48956, 73), 'export_schema': True}
2025-11-18 07:56:39,634 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:39,634 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-18 07:56:40,266 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 323)}
2025-11-18 07:56:40,267 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,381 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 373)}
2025-11-18 07:56:40,382 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,391 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 74)}
2025-11-18 07:56:40,391 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,449 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 374)}
2025-11-18 07:56:40,453 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,453 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-18 07:56:40,728 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 07:56:40,729 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,846 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 656)}
2025-11-18 07:56:40,846 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,853 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 07:56:40,853 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,982 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 657)}
2025-11-18 07:56:40,987 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:40,987 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-18 07:56:41,261 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 07:56:41,262 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:41,456 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 939)}
2025-11-18 07:56:41,457 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:41,462 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 07:56:41,463 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:41,651 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 940)}
2025-11-18 07:56:41,652 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:56:41,728 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 941)}
2025-11-18 07:56:41,728 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45890, 941)}
2025-11-18 07:56:41,794 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22945\n1    22945\nName: count, dtype: int64'}
2025-11-18 07:57:09,479 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-18 07:57:09,479 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-18 07:57:09,481 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 27.75265622138977, 'status': 'success'}
2025-11-18 07:57:09,482 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 07:57:10,149 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-18 07:57:10,149 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-18 07:57:10,202 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-18 07:57:10,202 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 30.58434510231018, 'status': 'success'}
2025-11-18 07:57:10,202 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:10,202 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 07:57:11,798 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22945, 1758)}
2025-11-18 07:57:11,801 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.5981721878051758, 'status': 'success'}
2025-11-18 07:57:11,801 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:11,802 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22945, 1758)}
2025-11-18 07:57:11,939 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-18 07:57:11,939 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13730573654174805, 'status': 'success'}
2025-11-18 07:57:11,940 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:11,940 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-18 07:57:11,969 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-18 07:57:11,969 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.410743713378906e-05, 'status': 'success'}
2025-11-18 07:57:23,321 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:23,321 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.351961612701416, 'status': 'success'}
2025-11-18 07:57:23,321 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:23,321 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:23,377 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22164, 856), 'validation_shape': (781, 856)}
2025-11-18 07:57:23,378 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.05663299560546875, 'status': 'success'}
2025-11-18 07:57:23,378 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:23,378 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7418136596679688e-05, 'status': 'success'}
2025-11-18 07:57:34,456 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 5.650520324707031e-05, 'status': 'success'}
2025-11-18 07:57:34,881 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 07:57:34,881 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.503323554992676, 'status': 'success'}
2025-11-18 07:57:34,881 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-18 12:26:36,136 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 12:26:36,137 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 12:26:36,137 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x749c3bf7b110>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 12:26:36,137 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 12:26:36,137 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 12:26:36,290 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 12:26:36,291 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15333032608032227, 'status': 'success'}
2025-11-18 12:26:36,291 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:36,291 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:36,291 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv has null values in future-dated rows (expected for placeholder games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_future_rows': np.int64(12)}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.04458117485046387, 'status': 'success'}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Loaded processed data (includes today's games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'total_rows': 48956}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:36,335 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48956, 73), 'export_schema': True}
2025-11-18 12:26:36,355 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:36,355 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-18 12:26:37,027 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 323)}
2025-11-18 12:26:37,028 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,153 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 373)}
2025-11-18 12:26:37,153 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,163 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 74)}
2025-11-18 12:26:37,163 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,225 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 374)}
2025-11-18 12:26:37,229 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,229 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-18 12:26:37,535 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 12:26:37,536 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,677 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 656)}
2025-11-18 12:26:37,677 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,683 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 12:26:37,683 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,850 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 657)}
2025-11-18 12:26:37,856 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:37,856 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-18 12:26:38,157 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 12:26:38,158 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:38,376 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 939)}
2025-11-18 12:26:38,377 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:38,383 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 12:26:38,383 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:38,594 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 940)}
2025-11-18 12:26:38,594 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:26:38,675 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 941)}
2025-11-18 12:26:38,676 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45890, 941)}
2025-11-18 12:26:38,749 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22945\n1    22945\nName: count, dtype: int64'}
2025-11-18 12:27:08,413 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-18 12:27:08,413 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-18 12:27:08,415 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.738640785217285, 'status': 'success'}
2025-11-18 12:27:08,417 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 12:27:09,112 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-18 12:27:09,112 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-18 12:27:09,171 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-18 12:27:09,171 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 32.83585047721863, 'status': 'success'}
2025-11-18 12:27:09,171 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:09,171 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 12:27:10,260 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22945, 1758)}
2025-11-18 12:27:10,263 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.0914771556854248, 'status': 'success'}
2025-11-18 12:27:10,263 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:10,264 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22945, 1758)}
2025-11-18 12:27:10,400 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-18 12:27:10,400 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.13627219200134277, 'status': 'success'}
2025-11-18 12:27:10,401 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:10,401 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-18 12:27:10,429 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-18 12:27:10,429 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.0994415283203125e-05, 'status': 'success'}
2025-11-18 12:27:23,149 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:23,149 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.71975326538086, 'status': 'success'}
2025-11-18 12:27:23,149 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:23,149 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:23,256 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22164, 856), 'validation_shape': (781, 856)}
2025-11-18 12:27:23,257 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10754060745239258, 'status': 'success'}
2025-11-18 12:27:23,257 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:23,257 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.4080276489257812e-05, 'status': 'success'}
2025-11-18 12:27:34,306 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.981590270996094e-05, 'status': 'success'}
2025-11-18 12:27:34,722 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:27:34,722 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.465454816818237, 'status': 'success'}
2025-11-18 12:27:34,722 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-18 12:28:01,192 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 12:28:01,192 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 12:28:01,193 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x78e208061790>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/home/chris/projects/nba_analysis_project/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/home/chris/projects/nba_analysis_project/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 12:28:01,193 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 12:28:01,193 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 12:28:01,333 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 12:28:01,333 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1400911808013916, 'status': 'success'}
2025-11-18 12:28:01,333 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:01,333 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:01,333 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv has null values in future-dated rows (expected for placeholder games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_future_rows': np.int64(12)}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.038135528564453125, 'status': 'success'}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Loaded processed data (includes today's games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'total_rows': 48956}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:01,371 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48956, 73), 'export_schema': True}
2025-11-18 12:28:01,391 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:01,391 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-18 12:28:02,034 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 323)}
2025-11-18 12:28:02,035 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,155 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 373)}
2025-11-18 12:28:02,156 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,165 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 74)}
2025-11-18 12:28:02,165 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,226 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 374)}
2025-11-18 12:28:02,231 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,231 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-18 12:28:02,533 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 12:28:02,533 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,659 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 656)}
2025-11-18 12:28:02,660 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,666 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 12:28:02,666 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,804 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 657)}
2025-11-18 12:28:02,809 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:02,809 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-18 12:28:03,114 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 12:28:03,115 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:03,340 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 939)}
2025-11-18 12:28:03,341 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:03,347 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 12:28:03,347 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:03,571 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 940)}
2025-11-18 12:28:03,572 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:03,652 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 941)}
2025-11-18 12:28:03,653 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45890, 941)}
2025-11-18 12:28:03,726 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22945\n1    22945\nName: count, dtype: int64'}
2025-11-18 12:28:33,017 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-18 12:28:33,017 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-18 12:28:33,019 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 29.365989685058594, 'status': 'success'}
2025-11-18 12:28:33,022 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 12:28:33,675 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-18 12:28:33,675 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-18 12:28:33,733 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-18 12:28:33,734 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 32.36216735839844, 'status': 'success'}
2025-11-18 12:28:33,734 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:33,734 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 12:28:34,832 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22945, 1758)}
2025-11-18 12:28:34,835 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 1.1009199619293213, 'status': 'success'}
2025-11-18 12:28:34,836 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:34,836 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22945, 1758)}
2025-11-18 12:28:34,998 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-18 12:28:34,999 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.16214203834533691, 'status': 'success'}
2025-11-18 12:28:35,000 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:35,001 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-18 12:28:35,033 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-18 12:28:35,033 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.814697265625e-05, 'status': 'success'}
2025-11-18 12:28:47,891 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:47,892 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 12.858835935592651, 'status': 'success'}
2025-11-18 12:28:47,892 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:47,892 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:48,029 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22164, 856), 'validation_shape': (781, 856)}
2025-11-18 12:28:48,030 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.1381824016571045, 'status': 'success'}
2025-11-18 12:28:48,030 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:48,030 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.361701965332031e-05, 'status': 'success'}
2025-11-18 12:28:59,444 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 7.033348083496094e-05, 'status': 'success'}
2025-11-18 12:28:59,850 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 12:28:59,850 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.819696426391602, 'status': 'success'}
2025-11-18 12:28:59,850 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
2025-11-18 19:16:48,302 - ml_framework.core.app_logging.app_logger - INFO - Feature allowlist loaded successfully | Context: {'allowlist_file': 'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml', 'num_features': 849, 'source_audit': 'feature_audit_xgboost_validation_20251013_081402.csv', 'recommendation': 'ACCEPT_PRUNED'}
2025-11-18 19:16:48,303 - ml_framework.core.app_logging.app_logger - INFO - FeatureEngineer initialized | Context: {'config_type': 'ConfigManager', 'allowlist_enabled': True, 'allowlist_size': 849}
2025-11-18 19:16:48,303 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'log_level': 'INFO', 'config_summary': '{\'app_file_handler\': <ml_framework.core.app_file_handling.app_file_handler.LocalAppFileHandler object at 0x7e549717dc10>, \'config_dir\': PosixPath(\'configs/nba\'), \'dashboard_prep\': namespace(input_paths=namespace(predictions_dir=\'data/predictions\', predictions_pattern=\'predictions_{date}.csv\', actual_results=\'data/processed/teams_boxscores.csv\', evaluation_dir=\'data/evaluation\', mlflow_tracking_uri=\'${MLFLOW_TRACKING_URI}\', mlflow_experiment_name=\'nba_win_prediction\'), output=namespace(output_dir=\'data/dashboard\', output_filename=\'dashboard_data.csv\', archive_snapshots=True, snapshot_dir=\'data/dashboard/archive\', snapshot_filename_pattern=\'dashboard_data_{date}.csv\'), predictions=namespace(forecast_days=0, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_probability\', \'prob_lower\', \'prob_upper\', \'prediction_set\'], high_probability_threshold=0.6), results=namespace(lookback_days=365, include_columns=[\'game_id\', \'game_date\', \'home_team\', \'away_team\', \'actual_winner\', \'actual_home_score\', \'actual_away_score\', \'predicted_winner\', \'calibrated_home_win_prob\', \'predicted_winner_prob\', \'predicted_winner_won\', \'prediction_correct\', \'prediction_error\']), performance=namespace(time_windows=[{\'name\': \'season\', \'description\': \'Entire current season\', \'start_date\': \'2025-10-22\'}, {\'name\': \'7day\', \'description\': \'Last 7 days\', \'days_back\': 7}, {\'name\': \'30day\', \'description\': \'Last 30 days\', \'days_back\': 30}], metrics=[{\'name\': \'accuracy\', \'display_name\': \'Prediction Accuracy\', \'format\': \'percentage\'}, {\'name\': \'brier_score\', \'display_name\': \'Brier Score\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'log_loss\', \'display_name\': \'Log Loss\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'calibration_error\', \'display_name\': \'Expected Calibration Error\', \'format\': \'decimal\', \'decimals\': 3}, {\'name\': \'games_predicted\', \'display_name\': \'Total Predictions\', \'format\': \'integer\'}, {\'name\': \'avg_predicted_probability\', \'display_name\': \'Average Predicted Probability\', \'format\': \'percentage\'}]), team_performance=namespace(min_games=5, metrics=[\'accuracy\', \'avg_predicted_probability\', \'total_predictions\', \'home_accuracy\', \'away_accuracy\'], sort_by=\'accuracy\', sort_order=\'descending\'), drift=namespace(daily_metrics=[\'date\', \'accuracy\', \'brier_score\', \'calibration_error\', \'avg_predicted_probability\'], trend_window_days=60, drift_threshold=namespace(accuracy_drop=0.1, calibration_error_increase=0.05)), calibration=namespace(num_bins=10, min_bin_size=20, include_curve_data=True), validation=namespace(require_predictions=True, require_results=False, min_season_games=50)), \'default_percentage_value\': 75, \'regular_game_minutes\': 240, \'season_year_offset\': 2000, \'regular_season_game_id_threshold\': 2, \'game_id_column\': \'GAME_ID\', \'new_game_id_column\': \'game_id\', \'team_id_column\': \'TEAM_ID\', \'new_team_id_column\': \'team_id\', \'date_column\': \'GAME_DATE\', \'new_date_column\': \'game_date\', \'home_team_column\': \'is_home_team\', \'win_column\': \'is_win\', \'season_column\': \'season\', \'is_playoff_column\': \'is_playoff\', \'is_overtime_column\': \'is_overtime\', \'sub_season_id_column\': \'sub_season_id\', \'home_game_suffix\': \'home\', \'visitor_game_suffix\': \'visitor\', \'combined_cases_suffix\': \'all\', \'game_info_columns\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\'], \'team_info_columns\': [\'team_id\', \'is_home_team\', \'team\', \'match_up\'], \'processed_schema\': [\'game_id\', \'season\', \'game_date\', \'sub_season_id\', \'is_playoff\', \'is_overtime\', \'min\', \'team_id\', \'is_home_team\', \'team\', \'match_up\', \'pts\', \'fgm\', \'fga\', \'fg_pct\', \'3pm\', \'3pa\', \'3p_pct\', \'ftm\', \'fta\', \'ft_pct\', \'oreb\', \'dreb\', \'reb\', \'ast\', \'tov\', \'stl\', \'blk\', \'pf\', \'plus_minus\', \'off_rtg\', \'def_rtg\', \'net_rtg\', \'ast_pct\', \'ast_turnover_ratio\', \'ast_ratio\', \'oreb_pct\', \'dreb_pct\', \'reb_pct\', \'tov_pct\', \'efg_pct\', \'ts_pct\', \'pace\', \'pie\', \'fta_rate\', \'opp_efg_pct\', \'opp_fta_rate\', \'opp_tov_pct\', \'opp_oreb_pct\', \'pts_off_to\', \'2nd_pts\', \'fbps\', \'pitp\', \'opp_pts_off_to\', \'opp_2nd_pts\', \'opp_fbps\', \'opp_pitp\', \'pct_fga_2pt\', \'pct_fga_3pt\', \'pct_pts_2pt\', \'pct_pts_2pt_mr\', \'pct_pts_3pt\', \'pct_pts_fbps\', \'pct_pts_ft\', \'pct_pts_off_to\', \'pct_pts_pitp\', \'2fgm_pct_ast\', \'2fgm_pct_uast\', \'3fgm_pct_ast\', \'3fgm_pct_uast\', \'fgm_pct_ast\', \'fgm_pct_uast\', \'is_win\'], \'app_version\': \'1.0.0\', \'environment\': \'development\', \'app_name\': \'NBA Prediction App\', \'maintainer_email\': \'cmunch1@yahoo.com\', \'api_rate_limit\': \'not implemented\', \'data_retention_days\': \'not implemented\', \'features\': namespace(use_proxy=\'not implemented\', enable_caching=\'not implemented\', perform_data_validation=\'not implemented\'), \'notifications\': namespace(email_alerts=\'not implemented\', slack_alerts=\'not implemented\', alert_recipients=[\'admin@example.com\', \'analyst@example.com\']), \'external_services\': namespace(team_logos_cdn=\'https://cdn.nba.com/logos/\'), \'default_language\': \'en-US\', \'timezone\': \'UTC\', \'extend_rolling_avgs\': True, \'extend_streaks\': True, \'include_postseason\': True, \'feature_allowlist\': namespace(enabled=True, allowlist_file=\'ml_artifacts/features/allowlists/feature_allowlist_latest.yaml\', mode=\'allowlist\'), \'season_start\': \'10-1\', \'season_end\': \'7-1\', \'target_column\': \'is_win\', \'home_team_prefix\': \'h_\', \'visitor_team_prefix\': \'v_\', \'team_rolling_avg_periods\': [3, 5, 7, 10, 15, 20], \'matchup_rolling_avg_periods\': [1, 2, 3, 4], \'elo_update_new_rows_only\': False, \'k_factor\': 20, \'home_advantage\': 100, \'initial_elo\': 1500, \'elo_width\': 400, \'team_elo_before_column\': \'elo_team_before\', \'opp_elo_before_column\': \'elo_opp_before\', \'win_prob_column\': \'elo_win_prob\', \'team_elo_after_column\': \'elo_team_after\', \'elo_change_column\': \'elo_change\', \'validation_split\': 0.2, \'stratify_column\': \'month\', \'validation_last_n_seasons\': 3, \'random_state\': 42, \'abbrev_to_full_name\': namespace(ATL=\'Atlanta Hawks\', BOS=\'Boston Celtics\', BRK=\'Brooklyn Nets\', CHA=\'Charlotte Hornets\', CHI=\'Chicago Bulls\', CLE=\'Cleveland Cavaliers\', DAL=\'Dallas Mavericks\', DEN=\'Denver Nuggets\', DET=\'Detroit Pistons\', GSW=\'Golden State Warriors\', HOU=\'Houston Rockets\', IND=\'Indiana Pacers\', LAC=\'LA Clippers\', LAL=\'LA Lakers\', MEM=\'Memphis Grizzlies\', MIA=\'Miami Heat\', MIL=\'Milwaukee Bucks\', MIN=\'Minnesota Timberwolves\', NOP=\'New Orleans Pelicans\', NYK=\'New York Knicks\', OKC=\'Oklahoma City Thunder\', ORL=\'Orlando Magic\', PHI=\'Philadelphia 76ers\', PHX=\'Phoenix Suns\', POR=\'Portland Trail Blazers\', SAC=\'Sacramento Kings\', SAS=\'San Antonio Spurs\', TOR=\'Toronto Raptors\', UTA=\'Utah Jazz\', WAS=\'Washington Wizards\'), \'team_id_to_abbrev\': namespace(1610612737=\'ATL\', 1610612738=\'BOS\', 1610612751=\'BRK\', 1610612766=\'CHA\', 1610612741=\'CHI\', 1610612739=\'CLE\', 1610612742=\'DAL\', 1610612743=\'DEN\', 1610612765=\'DET\', 1610612744=\'GSW\', 1610612745=\'HOU\', 1610612754=\'IND\', 1610612746=\'LAC\', 1610612747=\'LAL\', 1610612763=\'MEM\', 1610612748=\'MIA\', 1610612749=\'MIL\', 1610612750=\'MIN\', 1610612740=\'NOP\', 1610612752=\'NYK\', 1610612760=\'OKC\', 1610612753=\'ORL\', 1610612755=\'PHI\', 1610612756=\'PHX\', 1610612757=\'POR\', 1610612758=\'SAC\', 1610612759=\'SAS\', 1610612761=\'TOR\', 1610612762=\'UTA\', 1610612764=\'WAS\'), \'historical_teams\': namespace(SEA=\'1610612760\', NJN=\'1610612751\', NOH=\'1610612740\', CHH=\'1610612766\', VAN=\'1610612763\', NOK=\'1610612740\'), \'newly_scraped_directory\': \'data/newly_scraped/\', \'cumulative_scraped_directory\': \'data/cumulative_scraped/\', \'processed_data_directory\': \'data/processed/\', \'engineered_data_directory\': \'data/engineered/\', \'training_data_directory\': \'data/training/\', \'evaluation_data_directory\': \'data/evaluation/\', \'predictions_directory\': \'data/predictions/\', \'scraped_boxscore_files\': [\'games_traditional.csv\', \'games_advanced.csv\', \'games_four-factors.csv\', \'games_misc.csv\', \'games_scoring.csv\'], \'todays_matchups_file\': \'todays_matchups.csv\', \'todays_games_ids_file\': \'todays_games_ids.csv\', \'team_centric_data_file\': \'teams_boxscores.csv\', \'game_centric_data_file\': \'games_boxscores.csv\', \'engineered_data_file\': \'engineered_features.csv\', \'column_mapping_file\': \'column_mapping.json\', \'training_data_file\': \'training_data.csv\', \'validation_data_file\': \'validation_data.csv\', \'evaluation_data_file\': \'evaluation_data.csv\', \'inference\': namespace(model=namespace(identifier=\'models:/nba_win_predictor/Production\', fallback_identifier=None), data_sources=namespace(schedule_file=\'data/newly_scraped/schedule_{date}.csv\', historical_boxscores=\'data/cumulative_scraped/box_scores.csv\', lookback_days=30), feature_engineering=namespace(use_training_config=True), postprocessing=namespace(enable_calibration=True, enable_conformal=True, skip_if_missing=False), output=namespace(predictions_dir=\'data/predictions\', filename_pattern=\'predictions_{date}.csv\', include_raw_probabilities=True, include_prediction_sets=True, include_probability_intervals=True, include_model_metadata=True), filtering=namespace(max_days_ahead=2, skip_incomplete_features=True, min_team_games=5), backfill=namespace(enabled=True, lookback_days=14, require_actual_results=True), validation=namespace(validate_features=True, validate_probabilities=True, detect_distribution_shift=True)), \'game_date_header_variations\': [\'Game Date\', \'Game_Date\', \'GAME DATE\', \'Game\\xa0Date\'], \'full_scrape\': False, \'start_season\': 2006, \'off_season_start_month\': 8, \'regular_season_start_month\': 10, \'play_in_month\': 4, \'enable_validation_scraping\': False, \'team_mapping_file\': \'team_mapping.yaml\', \'nba_boxscores_url\': \'https://www.nba.com/stats/teams/boxscores\', \'nba_schedule_url\': \'https://www.nba.com/schedule\', \'regular_season_text\': \'Regular+Season\', \'play_in_season_text\': \'PlayIn\', \'playoffs_season_text\': \'Playoffs\', \'stat_types\': [\'traditional\', \'advanced\', \'four-factors\', \'misc\', \'scoring\'], \'table_class_name\': \'Crom_table__p1iZz\', \'pagination_class_name\': \'Pagination_pageDropdown__KgjBU\', \'dropdown_class_name\': \'DropDown_select__4pIg9\', \'teams_and_games_class_name\': \'Anchor_anchor__cSc3P\', \'games_per_day_class_name\': \'ScheduleDay_sdGames__NGdO5\', \'day_class_name\': \'ScheduleDay_sdDay__3s2Xt\', \'teams_links_class_name\': \'Anchor_anchor__cSc3P Link_styled__okbXW\', \'game_links_class_name\': \'Anchor_anchor__cSc3P TabLink_link__f_15h\', \'no_data_class_name\': \'NoDataMessage_base__xUA61\', \'schedule_preview_text\': \'PREVIEW\', \'schedule_home_team_id_column\': \'home_id\', \'schedule_visitor_team_id_column\': \'visitor_id\', \'schedule_game_id_column\': \'game_id\', \'page_load_timeout\': 30, \'dynamic_content_timeout\': 30, \'max_retries\': 2, \'retry_delay\': 2, \'wait_time\': 10, \'browsers\': [\'chrome\', \'firefox\'], \'chrome_options\': namespace(--headless=\'new\', --no-sandbox=None, --start-maximized=None, --disable-dev-shm-usage=None, --ignore-certificate-errors=None, --ignore-ssl-errors=None, --disable-gpu=None, --disable-extensions=None, --disable-popup-blocking=None, --disable-notifications=None, --remote-debugging-port=9222, --disable-3d-apis=None, --disable-blink-features=AutomationControlled=None, --disable-web-security=None, --disable-features=VizDisplayCompositor=None, --single-process=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/58.0.3029.110 Safari/537.3\'), \'firefox_options\': namespace(--headless=None, --disable-blink-features=AutomationControlled=None, --user-agent=\'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:53.0) Gecko/20100101 Firefox/53.0\'), \'scoreboard_base_url\': \'https://www.basketball-reference.com/boxscores/\', \'selectors\': namespace(games_container=\'#content\', team_links=\'a[href^="/teams/"]\', box_score_link=\'a[href^="/boxscores/"][href$=".html"]:not([href*="pbp"]):not([href*="shot-chart"])\', score_spans=\'span\', final_text=\'Final\'), \'parsing\': namespace(game_identification=\'box_score_links\', team_identification_method=\'ordinal_and_url_verification\', verify_home_team_from_url=True), \'team_abbrev\': namespace(extraction_pattern=\'/teams/{ABBREV}/\', url_path_index=2), \'scores\': namespace(visitor_score_position=\'first_span_before_final\', home_score_position=\'first_span_after_final\'), \'error_handling\': namespace(skip_empty_dates=True, log_unknown_teams=True, warn_on_unknown_teams=True, fail_on_verification_mismatch=True), \'rate_limiting\': namespace(delay_between_dates=1.0, max_retries=3, retry_delay=2.0), \'logging\': namespace(log_games_found=True, log_verification=True, debug_parsing=False), \'core\': namespace(artifact_paths_config=namespace(artifact_root=\'ml_artifacts\', models=namespace(root=\'${artifact_root}/models\', checkpoints=\'${artifact_root}/models/checkpoints\', final=\'${artifact_root}/models/final\'), experiments=namespace(root=\'${artifact_root}/experiments\', hyperparameters=\'${artifact_root}/experiments/hyperparameters\', runs=\'${artifact_root}/experiments/runs\'), features=namespace(root=\'${artifact_root}/features\', allowlists=\'${artifact_root}/features/allowlists\', audits=\'${artifact_root}/features/audits\', pruning=\'${artifact_root}/features/pruning\', pruning_reports=\'${artifact_root}/features/pruning/reports\', schemas=\'${artifact_root}/features/schemas\'), predictions=namespace(root=\'${artifact_root}/predictions\')), visualization_config=namespace(chart_options=namespace(feature_importance=namespace(enabled=True, top_n=20, figure_size=[12, 8]), metrics=namespace(enabled=True, confusion_matrix=namespace(enabled=True, figure_size=[10, 8], color_map=\'Blues\'), roc_curve=namespace(enabled=True, figure_size=[10, 8])), learning_curve=namespace(enabled=True, figure_size=[10, 6], n_points=10), shap=namespace(enabled=True, summary_plot=namespace(enabled=True, max_display=20, figure_size=[12, 8]), dependence_plots=namespace(enabled=True, features=[], figure_size=[10, 7])), model_interpretation=namespace(enabled=True, force_plot=namespace(enabled=True, figure_size=[12, 6], force_plot_indices=[0, 1, 2]), background_samples=100))), model_testing_config=namespace(experiment_name=\'NBA Predictor\', experiment_description=\'NBA Predictor\', sort_columns=[\'season\', \'season_progress\'], sort_order=[True, True], primary_id_column=\'game_id\', non_useful_columns=[\'h_team\', \'h_match_up\', \'v_team\', \'v_match_up\', \'game_date\', \'h_is_win\'], categorical_features=[\'h_team_id\', \'v_team_id\'], perform_preprocessing=False, current_hyperparameters=\'/app/src/ml_framework/configs/hyperparameters.json\', hyperparameter_history_dir=\'/app/src/ml_framework/ml_artifacts/experiments/hyperparameters\', hyperparameter_metadata=[\'name\', \'metrics\', \'updated_at\', \'experiment_id\', \'run_id\', \'num_boost_round\', \'early_stopping\', \'enable_categorical\', \'categorical_features\'], perform_oof_cross_validation=True, perform_validation_set_testing=True, save_oof_predictions=False, save_validation_predictions=True, log_experiment=True, save_model_to_registry=True, model_registry=namespace(model_name=\'nba_win_predictor\', stage=None, tags=namespace(project=\'nba_predictor\', framework=\'xgboost\', task=\'binary_classification\')), cross_validation_type=\'TimeSeriesSplit\', n_splits=5, random_state=42, models=namespace(xgboost=True, lightgbm=False, catboost=False, sklearn_randomforest=False, sklearn_logisticregression=False, sklearn_histgradientboosting=False, pytorch=False), generate_learning_curve_data=True, calculate_shap_values=True, max_shap_interaction_memory_gb=256.0, calculate_shap_interactions=False, charts_output_dir=\'/app/src/ml_framework/ml_artifacts/visualizations/charts\', generate_feature_audit=False, save_feature_audit=False, feature_audit_format=\'csv\', feature_audit_metrics=namespace(compute_basic_stats=True, compute_shap_importance=True, compute_permutation_importance=True, permutation_n_repeats=5, compute_correlation_matrix=True, compute_vif=False, correlation_method=\'pearson\', compute_stability_score=True, stability_top_k=20, compute_target_correlation=True), feature_audit_thresholds=namespace(near_zero_importance_percentile=10, near_zero_importance_threshold=0.0, high_missing_threshold=0.4, high_collinearity_threshold=0.95, low_stability_threshold=0.2, drop_candidate_threshold=2), feature_audit_output_dir=\'/app/src/ml_framework/ml_artifacts/features/audits\', feature_audit_versioning=True, enable_feature_pruning=False, feature_pruning=namespace(drop_candidate_threshold=2, min_acceptable_auc_delta=-0.01, min_acceptable_accuracy_delta=-0.02, min_features_to_keep=10, max_features_to_drop_pct=0.8, save_pruned_datasets=False, save_comparison_report=True, comparison_report_dir=\'/app/src/ml_framework/ml_artifacts/features/pruning/reports\')), preprocessing_config=namespace(preprocessing=namespace(default=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=None, handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), model_specific=namespace(LogisticRegression=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=None), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=\'variance_threshold\', params=namespace(threshold=0.01)), interactions=None, dimensionality_reduction=None), RandomForest=namespace(numerical=namespace(imputation=\'mean\', scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), XGBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), LightGBM=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), CatBoost=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'catboost_native\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), HistGradientBoosting=namespace(numerical=namespace(imputation=None, scaling=None, handling_outliers=None), categorical=namespace(encoding=\'ordinal\', handling_missing=None), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), PyTorch=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None), NeuralNetwork=namespace(numerical=namespace(imputation=\'mean\', scaling=\'standard\', handling_outliers=\'clip\'), categorical=namespace(encoding=\'one_hot\', handling_missing=\'constant\'), feature_selection=namespace(method=None, params=namespace()), interactions=None, dimensionality_reduction=None)))), optuna_config=namespace(optuna=namespace(scoring=\'auc\', direction=\'maximize\', pruner=\'median\', n_startup_trials=20, n_warmup_steps=5, interval_steps=1)), postprocessing_config=namespace(calibration=namespace(enable=True, optimize=True, optimization=namespace(methods=[\'sigmoid\', \'isotonic\'], evaluation_bins=[5, 7, 9, 12, 15, 20], selection_metric=\'brier_score\', cv_folds=5, use_cv=True), method=\'isotonic\', cv_folds=5, save_curves=True, save_metrics=True, curve_bins=10, save_to_registry=True), conformal=namespace(enable=False, method=\'split\', alphas=namespace(prediction_set=0.1, probability_interval=0.15), score_function=\'probability_shortfall\', class_labels=[\'away\', \'home\'], allow_empty_set=False, min_calibration_samples=500, save_metrics=True, save_diagnostics=True, save_to_registry=True)), app_logging_config=namespace(model_testing_log_file=\'model_testing.log\', log_level=\'INFO\', use_structured_logging=True, log_to_console=True, log_to_file=True, log_filename_fallback=\'log_file.log\', log_current_run_only=True, log_path=\'./logs\', log_size_max=2, log_backup_count=1, error_filename_fallback=\'error_file.log\', error_size_max=2, error_backup_count=1), hyperparameters=namespace(sklearn_randomforest=namespace(baseline=namespace(n_estimators=100, max_depth=10, min_samples_split=5, min_samples_leaf=2, max_features=\'sqrt\', random_state=42, n_jobs=-1, verbose=0)), xgboost=namespace(baseline=namespace(tree_method=\'hist\', device=\'cuda\', max_depth=4, learning_rate=0.05, subsample=0.8, colsample_bytree=0.8, min_child_weight=2, gamma=0.1, reg_alpha=0.1, reg_lambda=1, scale_pos_weight=1, objective=\'binary:logistic\', random_state=42, eval_metric=\'auc\')), sklearn_histgradientboosting=namespace(baseline=namespace(learning_rate=0.1, max_iter=100, max_depth=6, min_samples_leaf=20, l2_regularization=1.0, max_bins=255, random_state=42, verbose=0)), pytorch=namespace(baseline=namespace(learning_rate=0.001, weight_decay=1e-05, dropout_rate=0.2, batch_size=64, epochs=100, early_stopping_patience=10, hidden_sizes=[128, 64, 32], optimizer=\'adam\', momentum=0.9, random_state=42)), sklearn_logisticregression=namespace(baseline=namespace(C=1.0, penalty=\'l2\', solver=\'saga\', class_weight=None, random_state=42, n_jobs=-1, verbose=0, max_iter=1000)), catboost=namespace(baseline=namespace(learning_rate=0.05, depth=6, l2_leaf_reg=3.0, random_strength=1.0, bagging_temperature=0.5, leaf_estimation_iterations=5, min_data_in_leaf=20, random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False)), lightgbm=namespace(baseline=namespace(device=\'cpu\', objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True, learning_rate=0.05, num_leaves=31, max_depth=6, min_data_in_leaf=20, feature_fraction=0.8, bagging_fraction=0.8, bagging_freq=5, lambda_l1=0.1, lambda_l2=1.0, min_gain_to_split=0.1, random_state=42))), models=namespace(catboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_seed=42, eval_metric=\'AUC\', loss_function=\'Logloss\', task_type=\'GPU\', verbose=False), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], depth=[1, 12, \'int\'], l2_leaf_reg=[1e-16, 12, \'float\', True], random_strength=[1e-16, 12, \'float\', True], bagging_temperature=[0.0, 1.0, \'float\'], leaf_estimation_iterations=[1, 10, \'int\'], min_data_in_leaf=[1, 100, \'int\']))), xgboost_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, enable_categorical=False, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=False, optimizer=\'Optuna\', static_params=namespace(device=\'cuda\', random_state=42, objective=\'binary:logistic\', eval_metric=\'auc\', tree_method=\'hist\'), optimization=namespace(n_trials=200, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_bin=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], alpha=[1e-16, 12, \'float\', True], gamma=[1e-16, 12, \'float\', True], reg_lambda=[1e-16, 12, \'float\', True], colsample_bytree=[1e-16, 1.0, \'float\', True], subsample=[1e-16, 1.0, \'float\', True], min_child_weight=[1e-16, 12, \'float\', True], scale_pos_weight=[1, 15, \'int\']))), pytorch_config=namespace(epochs=100, early_stopping_patience=10, batch_size=64, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, optimizer=\'adam\', epochs=100, early_stopping_patience=10, batch_size=64), optimization=namespace(n_trials=50, param_space=namespace(learning_rate=[0.0001, 0.1, \'float\', True], weight_decay=[1e-06, 0.01, \'float\', True], dropout_rate=[0.1, 0.5, \'float\'], batch_size=[32, 128, \'int\'], hidden_sizes=[[[64, 32], [128, 64], [128, 64, 32], [256, 128, 64]], \'categorical\'], optimizer=[[\'adam\', \'sgd\'], \'categorical\']))), sklearn_randomforest_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(n_estimators=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_split=[2, 20, \'int\'], min_samples_leaf=[1, 10, \'int\'], max_features=[0.1, 1.0, \'float\']))), sklearn_histgradientboosting_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, verbose=0), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], max_iter=[10, 1000, \'int\'], max_depth=[1, 20, \'int\'], min_samples_leaf=[1, 100, \'int\'], l2_regularization=[1e-16, 12, \'float\', True], max_bins=[2, 255, \'int\']))), sklearn_logisticregression_config=namespace(perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(random_state=42, n_jobs=-1, verbose=0, max_iter=1000), optimization=namespace(n_trials=100, param_space=namespace(C=[0.0001, \'1.0e4\', \'float\', True], penalty=[\'l1\', \'l2\', \'categorical\'], solver=[\'saga\', \'liblinear\', \'categorical\'], class_weight=[None, \'balanced\', \'categorical\']))), lightgbm_config=namespace(num_boost_round=10000, early_stopping_rounds=100, verbose_eval=100, perform_hyperparameter_optimization=False, use_baseline_hyperparameters=True, optimizer=\'Optuna\', static_params=namespace(device=\'cpu\', random_state=42, objective=\'binary\', metric=\'auc\', verbose=-1, force_col_wise=True), optimization=namespace(n_trials=100, param_space=namespace(learning_rate=[0.001, 1.0, \'float\', True], num_leaves=[2, 256, \'int\'], max_depth=[1, 15, \'int\'], min_data_in_leaf=[1, 100, \'int\'], lambda_l1=[1e-16, 12, \'float\', True], lambda_l2=[1e-16, 12, \'float\', True], feature_fraction=[1e-16, 1.0, \'float\', True], bagging_fraction=[1e-16, 1.0, \'float\', True], bagging_freq=[1, 10, \'int\'], min_gain_to_split=[1e-16, 12, \'float\', True])))))}'}
2025-11-18 19:16:48,303 - ml_framework.core.app_logging.app_logger - INFO - Loading processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'teams_boxscores.csv'}
2025-11-18 19:16:48,303 - ml_framework.core.app_logging.app_logger - INFO - Getting load directory | Context: {'app_version': '1.0.0', 'environment': 'development', 'cumulative': True, 'file_name': 'teams_boxscores.csv'}
2025-11-18 19:16:48,456 - ml_framework.core.app_logging.app_logger - INFO - Data loaded successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_count': 48956, 'file_path': 'data/processed/teams_boxscores.csv'}
2025-11-18 19:16:48,456 - ml_framework.core.app_logging.app_logger - INFO - Function load_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.15304064750671387, 'status': 'success'}
2025-11-18 19:16:48,456 - ml_framework.core.app_logging.app_logger - INFO - Validating processed dataframe | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:48,456 - ml_framework.core.app_logging.app_logger - INFO - Starting validation of processed dataframe teams_boxscores.csv | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:48,456 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for nulls and duplicates | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:48,500 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv has null values in future-dated rows (expected for placeholder games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'num_future_rows': np.int64(12)}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes initial checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Checking teams_boxscores.csv for correct schema | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv passes schema checks | Context: {'app_version': '1.0.0', 'environment': 'development', 'columns': ['game_id', 'season', 'game_date', 'sub_season_id', 'is_playoff', 'is_overtime', 'min', 'team_id', 'is_home_team', 'team', 'match_up', 'pts', 'fgm', 'fga', 'fg_pct', '3pm', '3pa', '3p_pct', 'ftm', 'fta', 'ft_pct', 'oreb', 'dreb', 'reb', 'ast', 'tov', 'stl', 'blk', 'pf', 'plus_minus', 'off_rtg', 'def_rtg', 'net_rtg', 'ast_pct', 'ast_turnover_ratio', 'ast_ratio', 'oreb_pct', 'dreb_pct', 'reb_pct', 'tov_pct', 'efg_pct', 'ts_pct', 'pace', 'pie', 'fta_rate', 'opp_efg_pct', 'opp_fta_rate', 'opp_tov_pct', 'opp_oreb_pct', 'pts_off_to', '2nd_pts', 'fbps', 'pitp', 'opp_pts_off_to', 'opp_2nd_pts', 'opp_fbps', 'opp_pitp', 'pct_fga_2pt', 'pct_fga_3pt', 'pct_pts_2pt', 'pct_pts_2pt_mr', 'pct_pts_3pt', 'pct_pts_fbps', 'pct_pts_ft', 'pct_pts_off_to', 'pct_pts_pitp', '2fgm_pct_ast', '2fgm_pct_uast', '3fgm_pct_ast', '3fgm_pct_uast', 'fgm_pct_ast', 'fgm_pct_uast', 'is_win']}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Dataframe teams_boxscores.csv validated successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'rows': 48956, 'columns': 73}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Function validate_processed_dataframe completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.044248342514038086, 'status': 'success'}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Loaded processed data (includes today's games) | Context: {'app_version': '1.0.0', 'environment': 'development', 'total_rows': 48956}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Engineering features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:48,501 - ml_framework.core.app_logging.app_logger - INFO - Starting feature engineering | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (48956, 73), 'export_schema': True}
2025-11-18 19:16:48,529 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:48,530 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'all', 'original_count': 62, 'filtered_count': 50}
2025-11-18 19:16:49,345 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 323)}
2025-11-18 19:16:49,346 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:49,560 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 373)}
2025-11-18 19:16:49,561 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:49,571 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 74)}
2025-11-18 19:16:49,572 - ml_framework.core.app_logging.app_logger - INFO - Merging features -all | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:49,657 - ml_framework.core.app_logging.app_logger - INFO - Features merged -all | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 374)}
2025-11-18 19:16:49,665 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:49,665 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'home', 'original_count': 62, 'filtered_count': 47}
2025-11-18 19:16:49,972 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 19:16:49,974 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:50,198 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 656)}
2025-11-18 19:16:50,200 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:50,206 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 19:16:50,206 - ml_framework.core.app_logging.app_logger - INFO - Merging features -home | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:50,472 - ml_framework.core.app_logging.app_logger - INFO - Features merged -home | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 657)}
2025-11-18 19:16:50,479 - ml_framework.core.app_logging.app_logger - INFO - Creating rolling averages -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:50,479 - ml_framework.core.app_logging.app_logger - INFO - Filtered stats columns based on allowlist | Context: {'app_version': '1.0.0', 'environment': 'development', 'suffix': 'visitor', 'original_count': 62, 'filtered_count': 47}
2025-11-18 19:16:50,773 - ml_framework.core.app_logging.app_logger - INFO - Rolling averages created | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 308)}
2025-11-18 19:16:50,773 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:51,210 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 939)}
2025-11-18 19:16:51,217 - ml_framework.core.app_logging.app_logger - INFO - Calculating win/lose streaks -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:51,222 - ml_framework.core.app_logging.app_logger - INFO - Win/lose streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 74)}
2025-11-18 19:16:51,222 - ml_framework.core.app_logging.app_logger - INFO - Merging features -visitor | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:51,714 - ml_framework.core.app_logging.app_logger - INFO - Features merged -visitor | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 940)}
2025-11-18 19:16:51,720 - ml_framework.core.app_logging.app_logger - INFO - Calculating home/visitor streaks | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:16:51,801 - ml_framework.core.app_logging.app_logger - INFO - Home/visitor streaks calculated | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 941)}
2025-11-18 19:16:51,802 - ml_framework.core.app_logging.app_logger - INFO - Starting ELO ratings update | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (45890, 941)}
2025-11-18 19:16:51,876 - ml_framework.core.app_logging.app_logger - INFO - Sample of home_team_column values | Context: {'app_version': '1.0.0', 'environment': 'development', 'value_counts': 'is_home_team\n0    22945\n1    22945\nName: count, dtype: int64'}
2025-11-18 19:17:20,788 - ml_framework.core.app_logging.app_logger - WARNING - Dropped post-game ELO features to prevent data leakage | Context: {'app_version': '1.0.0', 'environment': 'development', 'dropped_columns': ['elo_change', 'elo_team_after'], 'reason': 'These features are calculated using game outcomes (target variable)'}
2025-11-18 19:17:20,788 - ml_framework.core.app_logging.app_logger - INFO - ELO ratings update completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'retained_elo_features': ['elo_team_before', 'elo_opp_before', 'elo_win_prob']}
2025-11-18 19:17:20,791 - ml_framework.core.app_logging.app_logger - INFO - Function _update_elo_ratings completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 28.989305019378662, 'status': 'success'}
2025-11-18 19:17:20,803 - ml_framework.core.app_logging.app_logger - INFO - Exporting feature schema | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 19:17:21,610 - ml_framework.core.app_logging.app_logger - INFO - Feature schema exported successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'schema_path': 'data/processed/feature_schema.json', 'n_numeric': 930, 'n_categorical': 9, 'n_binary': 1, 'n_total': 940}
2025-11-18 19:17:21,610 - ml_framework.core.app_logging.app_logger - INFO - Feature schema summary | Context: {'app_version': '1.0.0', 'environment': 'development', 'summary': 'Feature Schema Summary\n============================================================\nTarget Column: is_win\nGame ID Column: game_id\nTeam ID Column: team_id\nDate Column: game_date\n\nNumeric Features: 930\nCategorical Features: 9\nBinary Features: 1\nOrdinal Features: 0\nDateTime Features: 0\n\nTotal Features: 940\nModeling Features: 940\n\nFeature Groups:\n------------------------------------------------------------\n  rolling_avg_3: 144 features\n  rolling_avg_5: 144 features\n  rolling_avg_10: 144 features\n  streaks: 4 features\n  elo_ratings: 3 features'}
2025-11-18 19:17:21,681 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed with deterministic column ordering | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (45890, 944), 'num_metadata_cols': 4, 'num_feature_cols': 940}
2025-11-18 19:17:21,681 - ml_framework.core.app_logging.app_logger - INFO - Function engineer_features completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 33.18044710159302, 'status': 'success'}
2025-11-18 19:17:21,681 - ml_framework.core.app_logging.app_logger - INFO - Merging team data into game-centric format | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:21,681 - ml_framework.core.app_logging.app_logger - INFO - Starting merge_team_data | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (45890, 944)}
2025-11-18 19:17:24,415 - ml_framework.core.app_logging.app_logger - INFO - Team data combined successfully | Context: {'app_version': '1.0.0', 'environment': 'development', 'dataframe_shape': (22945, 1758)}
2025-11-18 19:17:24,426 - ml_framework.core.app_logging.app_logger - INFO - Function merge_team_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 2.7444303035736084, 'status': 'success'}
2025-11-18 19:17:24,429 - ml_framework.core.app_logging.app_logger - INFO - Encoding game date features | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:24,429 - ml_framework.core.app_logging.app_logger - INFO - Starting game date encoding | Context: {'app_version': '1.0.0', 'environment': 'development', 'input_shape': (22945, 1758)}
2025-11-18 19:17:24,557 - ml_framework.core.app_logging.app_logger - INFO - Game date encoding completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'output_shape': (22945, 1764), 'new_columns': ['month', 'day_of_week_sin', 'day_of_week_cos', 'month_sin', 'month_cos', 'season_progress']}
2025-11-18 19:17:24,557 - ml_framework.core.app_logging.app_logger - INFO - Function encode_game_date completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.12828683853149414, 'status': 'success'}
2025-11-18 19:17:24,559 - ml_framework.core.app_logging.app_logger - INFO - Applying feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:24,559 - ml_framework.core.app_logging.app_logger - INFO - Applied feature allowlist filter | Context: {'app_version': '1.0.0', 'environment': 'development', 'metadata_columns_kept': 7, 'metadata_columns': ['game_id', 'game_date', 'h_is_win', 'h_match_up', 'h_team', 'v_match_up', 'v_team'], 'original_feature_count': 1757, 'kept_feature_count': 849, 'removed_feature_count': 908, 'allowlist_size': 849, 'total_columns': 856}
2025-11-18 19:17:24,586 - ml_framework.core.app_logging.app_logger - INFO - Saving engineered features | Context: {'app_version': '1.0.0', 'environment': 'development', 'file_name': 'engineered_features.csv'}
2025-11-18 19:17:24,586 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.62396240234375e-05, 'status': 'success'}
2025-11-18 19:17:36,417 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:36,417 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 11.830384016036987, 'status': 'success'}
2025-11-18 19:17:36,417 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:36,417 - ml_framework.core.app_logging.app_logger - INFO - Splitting data into training and validation sets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:36,520 - ml_framework.core.app_logging.app_logger - INFO - Data split completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'training_shape': (22164, 856), 'validation_shape': (781, 856)}
2025-11-18 19:17:36,521 - ml_framework.core.app_logging.app_logger - INFO - Function split_data completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 0.10404014587402344, 'status': 'success'}
2025-11-18 19:17:36,521 - ml_framework.core.app_logging.app_logger - INFO - Saving training and validation datasets | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:36,521 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 3.3855438232421875e-05, 'status': 'success'}
2025-11-18 19:17:49,225 - ml_framework.core.app_logging.app_logger - INFO - Function _get_save_directory completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 4.76837158203125e-05, 'status': 'success'}
2025-11-18 19:17:49,653 - ml_framework.core.app_logging.app_logger - INFO - Dataframes saved successfully | Context: {'app_version': '1.0.0', 'environment': 'development'}
2025-11-18 19:17:49,654 - ml_framework.core.app_logging.app_logger - INFO - Function save_dataframes completed | Context: {'app_version': '1.0.0', 'environment': 'development', 'duration_seconds': 13.132581949234009, 'status': 'success'}
2025-11-18 19:17:49,654 - ml_framework.core.app_logging.app_logger - INFO - Feature engineering completed successfully | Context: {}
